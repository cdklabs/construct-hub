# ~~ Generated by projen. To modify, edit .projenrc.ts and run "npx projen".
FROM public.ecr.aws/amazonlinux/amazonlinux:2

RUN curl -fsSL https://rpm.nodesource.com/setup_16.x | bash - \
 && yum update -y \
 && yum upgrade -y \
 && yum install -y git lsof nodejs \
 && yum clean all \
 && rm -rf /var/cache/yum

COPY . /bundle

ENV GIT_SSH_COMMAND=ssh
ENV NODE_OPTIONS="--stack-trace-limit=100 --max-old-space-size=7680"

ENTRYPOINT ["/usr/bin/env", "node", "/bundle/index.js"]