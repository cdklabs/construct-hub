// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`minimal usage 1`] = `
Object {
  "Outputs": Object {
    "ConstructHubDenyListSnapshotCommand3E133B03": Object {
      "Description": "Snapshot Test/ConstructHub/DenyList/Bucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
            },
          ],
        ],
      },
    },
    "ConstructHubIngestionSnapshotCommand746AF5B0": Object {
      "Description": "Snapshot Test/ConstructHub/Ingestion/ConfigBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubIngestionFailoverConfigBucket079F82C3",
            },
          ],
        ],
      },
    },
    "ConstructHubLicenseListSnapshotCommandB9EA2EF4": Object {
      "Description": "Snapshot Test/ConstructHub/LicenseList/Bucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubLicenseListBucket9334047F",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubLicenseListFailoverBucketA96D2AAF",
            },
          ],
        ],
      },
    },
    "ConstructHubMonitoringWatchfulWatchfulDashboard75D318D0": Object {
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "https://console.aws.amazon.com/cloudwatch/home?region=",
            Object {
              "Ref": "AWS::Region",
            },
            "#dashboards:name=",
            Object {
              "Ref": "ConstructHubMonitoringWatchfulDashboardB8493D55",
            },
          ],
        ],
      },
    },
    "ConstructHubSnapshotCommandDD3886DA": Object {
      "Description": "Snapshot Test/ConstructHub/PackageData",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubFailoverPackageDataBA7D3B85",
            },
          ],
        ],
      },
    },
    "ConstructHubSourcesSnapshotCommandB1EF760F": Object {
      "Description": "Snapshot Test/ConstructHub/Sources/NpmJs--StagingBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
            },
          ],
        ],
      },
    },
    "ConstructHubWebAppDomainNameDC10F8DD": Object {
      "Export": Object {
        "Name": "ConstructHubDomainName",
      },
      "Value": Object {
        "Fn::GetAtt": Array [
          "ConstructHubWebAppDistribution1F181DC9",
          "DomainName",
        ],
      },
    },
    "ConstructHubWebAppSnapshotCommandC5AF418E": Object {
      "Description": "Snapshot Test/ConstructHub/WebApp/WebsiteBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
            },
          ],
        ],
      },
    },
  },
  "Parameters": Object {
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6ArtifactHashF2EEEBFF": Object {
      "Description": "Artifact hash for asset \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3Bucket86412295": Object {
      "Description": "S3 bucket for asset \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01": Object {
      "Description": "S3 key for asset version \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440ArtifactHash87A9FF22": Object {
      "Description": "Artifact hash for asset \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054": Object {
      "Description": "S3 bucket for asset \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49": Object {
      "Description": "S3 key for asset version \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9ArtifactHashB9E3BF29": Object {
      "Description": "Artifact hash for asset \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF": Object {
      "Description": "S3 bucket for asset \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876": Object {
      "Description": "S3 key for asset version \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1ArtifactHash0128B949": Object {
      "Description": "Artifact hash for asset \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3Bucket4842F32D": Object {
      "Description": "S3 bucket for asset \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A": Object {
      "Description": "S3 key for asset version \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5ArtifactHash0AFE0939": Object {
      "Description": "Artifact hash for asset \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3Bucket722FE70B": Object {
      "Description": "S3 bucket for asset \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC": Object {
      "Description": "S3 key for asset version \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5ArtifactHash499F6DFF": Object {
      "Description": "Artifact hash for asset \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3Bucket37F2908E": Object {
      "Description": "S3 bucket for asset \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11": Object {
      "Description": "S3 key for asset version \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787ArtifactHash1BD3190B": Object {
      "Description": "Artifact hash for asset \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3BucketFE59B3A9": Object {
      "Description": "S3 bucket for asset \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588": Object {
      "Description": "S3 key for asset version \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dArtifactHash3B82A2B3": Object {
      "Description": "Artifact hash for asset \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3BucketCBEF8050": Object {
      "Description": "S3 bucket for asset \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381": Object {
      "Description": "S3 key for asset version \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bArtifactHash5ABBFB9B": Object {
      "Description": "Artifact hash for asset \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3Bucket8AF0E263": Object {
      "Description": "S3 bucket for asset \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545": Object {
      "Description": "S3 key for asset version \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeArtifactHash3FAC57D3": Object {
      "Description": "Artifact hash for asset \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3Bucket6F376B71": Object {
      "Description": "S3 bucket for asset \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804": Object {
      "Description": "S3 key for asset version \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177ArtifactHashF4EB5524": Object {
      "Description": "Artifact hash for asset \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC": Object {
      "Description": "S3 bucket for asset \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9": Object {
      "Description": "S3 key for asset version \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900ArtifactHash121EF458": Object {
      "Description": "Artifact hash for asset \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865": Object {
      "Description": "S3 bucket for asset \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20": Object {
      "Description": "S3 key for asset version \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9ArtifactHash694505BF": Object {
      "Description": "Artifact hash for asset \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0": Object {
      "Description": "S3 bucket for asset \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4": Object {
      "Description": "S3 key for asset version \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064ArtifactHashEA963870": Object {
      "Description": "Artifact hash for asset \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2": Object {
      "Description": "S3 bucket for asset \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37": Object {
      "Description": "S3 key for asset version \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4ArtifactHash660A50B8": Object {
      "Description": "Artifact hash for asset \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3BucketE78A0203": Object {
      "Description": "S3 bucket for asset \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7": Object {
      "Description": "S3 key for asset version \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8ArtifactHash238275D6": Object {
      "Description": "Artifact hash for asset \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3BucketD1AD544E": Object {
      "Description": "S3 bucket for asset \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70": Object {
      "Description": "S3 key for asset version \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827ArtifactHash1355580A": Object {
      "Description": "Artifact hash for asset \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3Bucket2070BA0A": Object {
      "Description": "S3 bucket for asset \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3": Object {
      "Description": "S3 key for asset version \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73ArtifactHashE8AF1E10": Object {
      "Description": "Artifact hash for asset \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3Bucket9A67A1B5": Object {
      "Description": "S3 bucket for asset \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5": Object {
      "Description": "S3 key for asset version \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcArtifactHash4E26EEC4": Object {
      "Description": "Artifact hash for asset \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3Bucket5255533F": Object {
      "Description": "S3 bucket for asset \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675": Object {
      "Description": "S3 key for asset version \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009ArtifactHash0AE6829F": Object {
      "Description": "Artifact hash for asset \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3Bucket3D1A3222": Object {
      "Description": "S3 bucket for asset \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC": Object {
      "Description": "S3 key for asset version \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aArtifactHash0386B8EC": Object {
      "Description": "Artifact hash for asset \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3BucketAE80D773": Object {
      "Description": "S3 bucket for asset \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F": Object {
      "Description": "S3 key for asset version \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efArtifactHashE5DEFDE2": Object {
      "Description": "Artifact hash for asset \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3Bucket583A7087": Object {
      "Description": "S3 bucket for asset \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839": Object {
      "Description": "S3 key for asset version \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68ArtifactHashD9A515C3": Object {
      "Description": "Artifact hash for asset \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7": Object {
      "Description": "S3 bucket for asset \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F": Object {
      "Description": "S3 key for asset version \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3ArtifactHash11DB5971": Object {
      "Description": "Artifact hash for asset \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3BucketAC5DE359": Object {
      "Description": "S3 bucket for asset \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC": Object {
      "Description": "S3 key for asset version \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5ArtifactHash185A4671": Object {
      "Description": "Artifact hash for asset \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3Bucket024B3DC6": Object {
      "Description": "S3 bucket for asset \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859": Object {
      "Description": "S3 key for asset version \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
  },
  "Resources": Object {
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691": Object {
      "DependsOn": Array [
        "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
        "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
      ],
      "Properties": Object {
        "Code": Object {
          "ZipFile": "import boto3  # type: ignore
import json
import logging
import urllib.request

s3 = boto3.client(\\"s3\\")

CONFIGURATION_TYPES = [\\"TopicConfigurations\\", \\"QueueConfigurations\\", \\"LambdaFunctionConfigurations\\"]

def handler(event: dict, context):
    response_status = \\"SUCCESS\\"
    error_message = \\"\\"
    try:
        props = event[\\"ResourceProperties\\"]
        bucket = props[\\"BucketName\\"]
        notification_configuration = props[\\"NotificationConfiguration\\"]
        request_type = event[\\"RequestType\\"]
        managed = props.get('Managed', 'true').lower() == 'true'
        stack_id = event['StackId']

        if managed:
          config = handle_managed(request_type, notification_configuration)
        else:
          config = handle_unmanaged(bucket, stack_id, request_type, notification_configuration)

        put_bucket_notification_configuration(bucket, config)
    except Exception as e:
        logging.exception(\\"Failed to put bucket notification configuration\\")
        response_status = \\"FAILED\\"
        error_message = f\\"Error: {str(e)}. \\"
    finally:
        submit_response(event, context, response_status, error_message)


def handle_managed(request_type, notification_configuration):
  if request_type == 'Delete':
    return {}
  return notification_configuration


def handle_unmanaged(bucket, stack_id, request_type, notification_configuration):

  # find external notifications
  external_notifications = find_external_notifications(bucket, stack_id)

  # if delete, that's all we need
  if request_type == 'Delete':
    return external_notifications

  def with_id(notification):
    notification['Id'] = f\\"{stack_id}-{hash(json.dumps(notification, sort_keys=True))}\\"
    return notification

  # otherwise, merge external with incoming config and augment with id
  notifications = {}
  for t in CONFIGURATION_TYPES:
    external = external_notifications.get(t, [])
    incoming = [with_id(n) for n in notification_configuration.get(t, [])]
    notifications[t] = external + incoming
  return notifications


def find_external_notifications(bucket, stack_id):
  existing_notifications = get_bucket_notification_configuration(bucket)
  external_notifications = {}
  for t in CONFIGURATION_TYPES:
    # if the notification was created by us, we know what id to expect
    # so we can filter by it.
    external_notifications[t] = [n for n in existing_notifications.get(t, []) if not n['Id'].startswith(f\\"{stack_id}-\\")]

  return external_notifications


def get_bucket_notification_configuration(bucket):
  return s3.get_bucket_notification_configuration(Bucket=bucket)


def put_bucket_notification_configuration(bucket, notification_configuration):
  s3.put_bucket_notification_configuration(Bucket=bucket, NotificationConfiguration=notification_configuration)


def submit_response(event: dict, context, response_status: str, error_message: str):
    response_body = json.dumps(
        {
            \\"Status\\": response_status,
            \\"Reason\\": f\\"{error_message}See the details in CloudWatch Log Stream: {context.log_stream_name}\\",
            \\"PhysicalResourceId\\": event.get(\\"PhysicalResourceId\\") or event[\\"LogicalResourceId\\"],
            \\"StackId\\": event[\\"StackId\\"],
            \\"RequestId\\": event[\\"RequestId\\"],
            \\"LogicalResourceId\\": event[\\"LogicalResourceId\\"],
            \\"NoEcho\\": False,
        }
    ).encode(\\"utf-8\\")
    headers = {\\"content-type\\": \\"\\", \\"content-length\\": str(len(response_body))}
    try:
        req = urllib.request.Request(url=event[\\"ResponseURL\\"], headers=headers, data=response_body, method=\\"PUT\\")
        with urllib.request.urlopen(req) as response:
            print(response.read().decode(\\"utf-8\\"))
        print(\\"Status code: \\" + response.reason)
    except Exception as e:
        print(\\"send(..) failed executing request.urlopen(..): \\" + str(e))
",
        },
        "Description": "AWS CloudFormation handler for \\"Custom::S3BucketNotifications\\" resources (@aws-cdk/aws-s3)",
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
            "Arn",
          ],
        },
        "Runtime": "python3.7",
        "Timeout": 300,
      },
      "Type": "AWS::Lambda::Function",
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:PutBucketNotification",
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
        "Roles": Array [
          Object {
            "Ref": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubBackendDashboardGraphs6A37B2BC": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"start\\":\\"-P1W\\",\\"periodOverride\\":\\"auto\\",\\"widgets\\":[{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"markdown\\":\\"# Catalog Overview\\\\n\\\\n[button:primary:Package Data](/s3/buckets/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              ")\\\\n[button:Catalog Builder](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
              ")\\\\n[button:Inventory Canary](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
              ")\\\\n[button:Search Canary Log Group](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Size\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SubmoduleCount\\",{\\"label\\":\\"Submodules\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageVersionCount\\",{\\"label\\":\\"Package Versions\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageMajorVersionCount\\",{\\"label\\":\\"Package Majors\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageCount\\",{\\"label\\":\\"Packages\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Issues\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"UnknownObjectCount\\",{\\"label\\":\\"Unknown\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingAssemblyCount\\",{\\"label\\":\\"Missing Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageMetadataCount\\",{\\"label\\":\\"Missing Metadata\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageTarballCount\\",{\\"label\\":\\"Missing Tarball\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UninstallablePackageCount\\",{\\"label\\":\\"Uninstallable Package\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/CatalogBuilder\\",\\"MissingConstructFrameworkCount\\",{\\"label\\":\\"No Construct Framework\\",\\"period\\":900,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/CatalogBuilder\\",\\"MissingConstructFrameworkVersionCount\\",{\\"label\\":\\"No Construct Framework Version\\",\\"period\\":900,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":8,\\"properties\\":{\\"markdown\\":\\"# Documentation Generation\\\\n\\\\n[button:primary:Transliterator Logs](/cloudwatch/home#logsV2:log-groups/log-group/",
              Object {
                "Fn::Join": Array [
                  "%252",
                  Object {
                    "Fn::Split": Array [
                      "/",
                      Object {
                        "Ref": "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                      },
                    ],
                  },
                ],
              },
              ")\\\\n[button:Transliterator ECS Cluster](/ecs/home#/clusters/",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "/tasks)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Fargate Resources\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Usage\\",\\"ResourceCount\\",\\"Class\\",\\"None\\",\\"Resource\\",\\"OnDemand\\",\\"Service\\",\\"Fargate\\",\\"Type\\",\\"Resource\\",{\\"label\\":\\"Fargate Usage (On-Demand)\\",\\"stat\\":\\"Maximum\\",\\"id\\":\\"mFargateUsage\\"}],[{\\"label\\":\\"Fargate Quota (On-Demand)\\",\\"expression\\":\\"SERVICE_QUOTA(mFargateUsage)\\"}],[{\\"label\\":\\"CPU Utilization\\",\\"expression\\":\\"100 * FILL(mCpuUtilized, 0) / FILL(mCpuReserved, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"CpuReserved\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mCpuReserved\\"}],[\\"ECS/ContainerInsights\\",\\"CpuUtilized\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mCpuUtilized\\"}],[{\\"label\\":\\"Memory Utilization\\",\\"expression\\":\\"100 * FILL(mMemoryUtilized, 0) / FILL(mMemoryReserved, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"MemoryReserved\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mMemoryReserved\\"}],[\\"ECS/ContainerInsights\\",\\"MemoryUtilized\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mMemoryUtilized\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"label\\":\\"Percent\\",\\"min\\":0,\\"max\\":100,\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"ECS Resources\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Received Bytes\\",\\"expression\\":\\"FILL(m67cc14db3275d4a2af71847df2ebb376a00b015f62c4ff9d1aedb9bc615a6cf0, 0)\\"}],[\\"ECS/ContainerInsights\\",\\"NetworkRxBytes\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Received Bytes\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m67cc14db3275d4a2af71847df2ebb376a00b015f62c4ff9d1aedb9bc615a6cf0\\"}],[{\\"label\\":\\"Transmitted Bytes\\",\\"expression\\":\\"FILL(md6781afc8bf73de5587d36039d8226d1c0fe0b50a1c949759d3d8d8cd2e3f6d1, 0)\\"}],[\\"ECS/ContainerInsights\\",\\"NetworkTxBytes\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Transmitted Bytes\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"md6781afc8bf73de5587d36039d8226d1c0fe0b50a1c949759d3d8d8cd2e3f6d1\\"}],[{\\"label\\":\\"Task Count\\",\\"expression\\":\\"FILL(mbb258976f5c025a7dff5289417a6b07619e000e4af1a427fecc57b31586fd6dd, 0)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"TaskCount\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Task Count\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"mbb258976f5c025a7dff5289417a6b07619e000e4af1a427fecc57b31586fd6dd\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":16,\\"properties\\":{\\"markdown\\":\\"## Language: typescript\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":17,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":17,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":23,\\"properties\\":{\\"markdown\\":\\"## Language: python\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":24,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"markdown\\":\\"## Language: java\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":31,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":31,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":37,\\"properties\\":{\\"markdown\\":\\"## Language: csharp\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":38,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":38,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":44,\\"properties\\":{\\"markdown\\":\\"# Test/ConstructHub/Sources/NpmJs\\\\n\\\\n[button:primary:NpmJs Follower](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              ")\\\\n[button:Marker Object](/s3/object/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
              },
              "?prefix=couchdb-last-transaction-id.2)\\\\n[button:Stager](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              ")\\\\n[button:Stager DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":46,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Follower Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"RemainingTime\\",{\\"label\\":\\"Remaining Time\\",\\"stat\\":\\"Minimum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":46,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Stager Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}],[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Duration\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":52,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"CouchDB Follower\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Change Count\\",\\"expression\\":\\"FILL(mf6a938229aec623f5cf21e3ae3401901e7f7c6ebd5774ab6ac6e74af83efd121, 0)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"ChangeCount\\",{\\"label\\":\\"Change Count\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"mf6a938229aec623f5cf21e3ae3401901e7f7c6ebd5774ab6ac6e74af83efd121\\"}],[{\\"label\\":\\"Unprocessable\\",\\"expression\\":\\"FILL(m5b235d813bd8ded65d7de9a1345c9b49a8cf2af40e7e98ddbb8cb73e00783a8a, 0)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"UnprocessableEntity\\",{\\"label\\":\\"Unprocessable\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m5b235d813bd8ded65d7de9a1345c9b49a8cf2af40e7e98ddbb8cb73e00783a8a\\"}],[{\\"label\\":\\"Lag to npmjs.com\\",\\"expression\\":\\"FILL(m4d6c513faac55be4bca785e8587a9a145b65f5fe675318c9c5c52f3ada197b7b, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"NpmJsChangeAge\\",{\\"label\\":\\"Lag to npmjs.com\\",\\"stat\\":\\"Minimum\\",\\"visible\\":false,\\"id\\":\\"m4d6c513faac55be4bca785e8587a9a145b65f5fe675318c9c5c52f3ada197b7b\\"}],[{\\"label\\":\\"Package Version Age\\",\\"expression\\":\\"FILL(mec485aa83505431ed7a356970082cd4815c310504ff176dd3eeb241ae7bbf0c4, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"PackageVersionAge\\",{\\"label\\":\\"Package Version Age\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mec485aa83505431ed7a356970082cd4815c310504ff176dd3eeb241ae7bbf0c4\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"label\\":\\"Milliseconds\\",\\"min\\":0,\\"showUnits\\":false}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":52,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"CouchDB Changes\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Last Sequence Number\\",\\"expression\\":\\"FILL(mcc89a801dd7db60ea52e74b9851bd34a3899e7a26323ac98feb632cdf70c2500, REPEAT)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"LastSeq\\",{\\"label\\":\\"Last Sequence Number\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mcc89a801dd7db60ea52e74b9851bd34a3899e7a26323ac98feb632cdf70c2500\\"}]],\\"yAxis\\":{},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":58,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Stager Dead-Letter Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Visible Messages\\",\\"expression\\":\\"FILL(m96c7bb4160011a049b6b07c0feab8fb02e5a8d4aa466939592829f864dde6400, 0)\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m96c7bb4160011a049b6b07c0feab8fb02e5a8d4aa466939592829f864dde6400\\"}],[{\\"label\\":\\"Invisible Messages\\",\\"expression\\":\\"FILL(mf74066283a392fc98a0cd7a405f2aa9b5af544d3a87542f06fff7fd069fd8578, 0)\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mf74066283a392fc98a0cd7a405f2aa9b5af544d3a87542f06fff7fd069fd8578\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":58,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Package Canary\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/PackageCanary\\",\\"DwellTime\\",{\\"label\\":\\"Dwell Time\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/PackageCanary\\",\\"TimeToCatalog\\",{\\"label\\":\\"Time to Catalog\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/PackageCanary\\",\\"TrackedVersionCount\\",{\\"label\\":\\"Tracked Version Count\\",\\"period\\":60,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff0000\\",\\"label\\":\\"SLA (5 minutes)\\",\\"value\\":300,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":64,\\"properties\\":{\\"markdown\\":\\"# Ingestion Function\\\\n\\\\n[button:Ingestion Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              ")\\\\n[button:primary:Search Log Group](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "/log-events)\\\\n[button:DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":66,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Function Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":66,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Input Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Hidden Messages\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"period\\":60,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"10 Minutes\\",\\"value\\":600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":72,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Input Quality\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"stacked\\":true,\\"metrics\\":[[{\\"label\\":\\"Invalid Assemblies\\",\\"expression\\":\\"FILL(m0c5f10aa73687a21aa44b8985d19311246bca6c2cd1b2256b9f3e78c71e94fa3, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"InvalidAssembly\\",{\\"label\\":\\"Invalid Assemblies\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m0c5f10aa73687a21aa44b8985d19311246bca6c2cd1b2256b9f3e78c71e94fa3\\"}],[{\\"label\\":\\"Invalid Tarball\\",\\"expression\\":\\"FILL(m3a39d9b0bf974255f27dc95e44c8574bdfce2b97e49a7504346a77c5c9f6a3e1, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"InvalidTarball\\",{\\"label\\":\\"Invalid Tarball\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3a39d9b0bf974255f27dc95e44c8574bdfce2b97e49a7504346a77c5c9f6a3e1\\"}],[{\\"label\\":\\"Ineligible License\\",\\"expression\\":\\"FILL(me19ae9c3f20ae715e3462f9402684a3817282218f36e69494a60bc251e3435a6, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"IneligibleLicense\\",{\\"label\\":\\"Ineligible License\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"me19ae9c3f20ae715e3462f9402684a3817282218f36e69494a60bc251e3435a6\\"}],[{\\"label\\":\\"Mismatched Identity\\",\\"expression\\":\\"FILL(m7c1d407f17f8d2452a0bf87ac06fdd032de385a2758254f4192d6e17ed40d44b, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"MismatchedIdentityRejections\\",{\\"label\\":\\"Mismatched Identity\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7c1d407f17f8d2452a0bf87ac06fdd032de385a2758254f4192d6e17ed40d44b\\"}],[{\\"label\\":\\"Found License file\\",\\"expression\\":\\"FILL(m7084dfec3c5bab86694d7ae438460f471c174a94bc67c9c9738e3ab60246b661, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"FoundLicenseFile\\",{\\"label\\":\\"Found License file\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7084dfec3c5bab86694d7ae438460f471c174a94bc67c9c9738e3ab60246b661\\"}]],\\"yAxis\\":{\\"left\\":{\\"label\\":\\"Count\\",\\"min\\":0,\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":72,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Dead Letters\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff7f0e\\",\\"label\\":\\"10 days\\",\\"value\\":864000,\\"yAxis\\":\\"right\\"},{\\"color\\":\\"#ff0000\\",\\"label\\":\\"14 days (DLQ Retention)\\",\\"value\\":1209600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":78,\\"properties\\":{\\"markdown\\":\\"# Orchestration\\\\n\\\\n[button:primary:State Machine](/states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              ")\\\\n[button:DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              ")\\\\n[button:Redrive DLQ](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationRedrive8DDBA67E",
              },
              ")\\\\n[button:Regenerate All Documentation](/states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationE9FAB254",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":80,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"State Machine Executions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Started\\",\\"expression\\":\\"FILL(m392141ff4cfa3bbe1889b2db42bcf20599513e199a0b9fb8dc736cde893c1d7c, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsStarted\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Started\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m392141ff4cfa3bbe1889b2db42bcf20599513e199a0b9fb8dc736cde893c1d7c\\"}],[{\\"label\\":\\"Succeeded\\",\\"expression\\":\\"FILL(md1b80634be6e2f057c84f44fab13979a6445395ea2dc357cd12d0ba9f504e6d1, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsSucceeded\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Succeeded\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"md1b80634be6e2f057c84f44fab13979a6445395ea2dc357cd12d0ba9f504e6d1\\"}],[{\\"label\\":\\"Aborted\\",\\"expression\\":\\"FILL(m7c13255adf2b6d90baaa9e4e952e72ce260730c93b662336d01e3342f6255e08, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsAborted\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Aborted\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7c13255adf2b6d90baaa9e4e952e72ce260730c93b662336d01e3342f6255e08\\"}],[{\\"label\\":\\"Failed\\",\\"expression\\":\\"FILL(m503cb5a7568675222eb2ac827982f88ad300c986505dabfafe1707080946e597, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsFailed\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Failed\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m503cb5a7568675222eb2ac827982f88ad300c986505dabfafe1707080946e597\\"}],[{\\"label\\":\\"Throttled\\",\\"expression\\":\\"FILL(m278670a6ffa3ce32fec8fcb73c1cfdc4c965389617e2387ab5852ebb00b2a81f, 0)\\"}],[\\"AWS/States\\",\\"ExecutionThrottled\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Throttled\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m278670a6ffa3ce32fec8fcb73c1cfdc4c965389617e2387ab5852ebb00b2a81f\\"}],[{\\"label\\":\\"Timed Out\\",\\"expression\\":\\"FILL(m106d91118c893ec9037d16448722184f1ebdcca08a617e1f13758151a8c85a21, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsTimedOut\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Timed Out\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m106d91118c893ec9037d16448722184f1ebdcca08a617e1f13758151a8c85a21\\"}],[\\"AWS/States\\",\\"ExecutionTime\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Duration\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":80,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Dead Letter Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff7f0e\\",\\"label\\":\\"10 days\\",\\"value\\":864000,\\"yAxis\\":\\"right\\"},{\\"color\\":\\"#ff0000\\",\\"label\\":\\"14 days (DLQ Retention)\\",\\"value\\":1209600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":86,\\"properties\\":{\\"markdown\\":\\"# Deny List\\\\n\\\\n[button:primary:Deny List Object](/s3/object/",
              Object {
                "Ref": "ConstructHubDenyListBucket1B3C2C2E",
              },
              "?prefix=deny-list.json)\\\\n[button:Prune Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              ")\\\\n[button:Prune Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "/log-events)\\\\n[button:Delete Queue](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "QueueName",
                ],
              },
              ")\\\\n[button:Delete Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":88,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Deny List\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Rules\\",\\"expression\\":\\"FILL(m41327b0edbbef1ca627d9503d1b9b9fab401700118519537b58e0557adee7e4f, REPEAT)\\"}],[\\"ConstructHub/DenyList\\",\\"DenyListRuleCount\\",{\\"label\\":\\"Rules\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m41327b0edbbef1ca627d9503d1b9b9fab401700118519537b58e0557adee7e4f\\"}],[\\"AWS/SQS\\",\\"NumberOfMessagesDeleted\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Deleted Files\\",\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":88,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Prune Function Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":94,\\"properties\\":{\\"markdown\\":\\"# Package Stats\\\\n\\\\n[button:primary:Package Stats Object](/s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=stats.json)\\\\n[button:Package Stats Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              ")\\\\n[button:Package Stats Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":96,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Number of Package Stats Recorded\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Packages with stats\\",\\"expression\\":\\"FILL(m47411943a6e8f8e16a1dd905ff43cab11425b802c4d32615e081cab30c15f29f, REPEAT)\\"}],[\\"ConstructHub/PackageStats\\",\\"RegisteredPackagesWithStats\\",{\\"label\\":\\"Packages with stats\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m47411943a6e8f8e16a1dd905ff43cab11425b802c4d32615e081cab30c15f29f\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":96,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocation Duration\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              "\\",{\\"label\\":\\"Duration\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"15 minutes (Lambda timeout)\\",\\"value\\":900,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":102,\\"properties\\":{\\"markdown\\":\\"# Version Tracker\\\\n\\\\n[button:primary:Versions Object](/s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=all-versions.json)\\\\n[button:Version Tracker Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              ")\\\\n[button:Version Tracker Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":104,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Number of Package Versions Recorded\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Package versions recorded\\",\\"expression\\":\\"FILL(m343ebb2e5802fe223e549d8262d8d0c364846e0276426bc0a2d872e83bd8e63d, REPEAT)\\"}],[\\"ConstructHub/VersionTracker\\",\\"TrackedVersionsCount\\",{\\"label\\":\\"Package versions recorded\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m343ebb2e5802fe223e549d8262d8d0c364846e0276426bc0a2d872e83bd8e63d\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":104,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocation Duration\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              "\\",{\\"label\\":\\"Duration\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"1 minutes (Lambda timeout)\\",\\"value\\":60,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}}]}",
            ],
          ],
        },
        "DashboardName": "ConstructHubBackend-graphs",
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubBackendDashboardReportsDFD170B1": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"start\\":\\"-P1W\\",\\"periodOverride\\":\\"auto\\",\\"widgets\\":[{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"uninstallable-objects/data.json\\",\\"description\\":\\"These packages could not be installed. Note that currently they will also appear in the 'missing' documentation reports.\\\\n\\\\nThe specific error can be found in the package directory inside a file named 'uninstallable'\\\\n\\"},\\"title\\":\\"Package Versions Report | Uninstallable\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":6,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/typescript-documentation.json\\",\\"description\\":\\"These packages are missing typescript documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _typescript_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":12,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/typescript.json\\",\\"description\\":\\"These packages are missing typescript documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _typescript_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":18,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/python-documentation.json\\",\\"description\\":\\"These packages are missing python documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _python_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/python.json\\",\\"description\\":\\"These packages are missing python documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _python_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/java-documentation.json\\",\\"description\\":\\"These packages are missing java documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _java_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":36,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/java.json\\",\\"description\\":\\"These packages are missing java documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _java_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":42,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/csharp-documentation.json\\",\\"description\\":\\"These packages are missing csharp documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _csharp_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":48,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/csharp.json\\",\\"description\\":\\"These packages are missing csharp documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _csharp_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}}]}",
            ],
          ],
        },
        "DashboardName": "ConstructHubBackend-reports",
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubDenyListBucket1B3C2C2E": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "aws-cdk:auto-delete-objects",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketAllowBucketNotificationsToTestConstructHubDenyListPrunePruneHandler03826FC4A79351A0": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandler30B33551",
            "Arn",
          ],
        },
        "Principal": "s3.amazonaws.com",
        "SourceAccount": Object {
          "Ref": "AWS::AccountId",
        },
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListBucket1B3C2C2E",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubDenyListBucketAutoDeleteObjectsCustomResource997A3642": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListBucketPolicyA1878E10",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3AutoDeleteObjects",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketDeploymentAwsCliLayerEAC3D4DA": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubDenyListBucketDeploymentCustomResourceF835956B": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListBucketNotifications2269EB2A",
      ],
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "Prune": true,
        "RetainOnDelete": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketNotifications2269EB2A": Object {
      "DependsOn": Array [
        "ConstructHubDenyListBucketAllowBucketNotificationsToTestConstructHubDenyListPrunePruneHandler03826FC4A79351A0",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "Managed": true,
        "NotificationConfiguration": Object {
          "LambdaFunctionConfigurations": Array [
            Object {
              "Events": Array [
                "s3:ObjectCreated:*",
              ],
              "Filter": Object {
                "Key": Object {
                  "FilterRules": Array [
                    Object {
                      "Name": "suffix",
                      "Value": "deny-list.json",
                    },
                    Object {
                      "Name": "prefix",
                      "Value": "deny-list.json",
                    },
                  ],
                },
              },
              "LambdaFunctionArn": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPrunePruneHandler30B33551",
                  "Arn",
                ],
              },
            },
          ],
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3BucketNotifications",
    },
    "ConstructHubDenyListBucketPolicyA1878E10": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::GetAtt": Array [
                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                    "Arn",
                  ],
                },
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubDenyListFailoverBucketAutoDeleteObjectsCustomResource5A026600": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListFailoverBucketPolicy3B552017",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3AutoDeleteObjects",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListFailoverBucketBF1E05AD": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "aws-cdk:auto-delete-objects",
            "Value": "true",
          },
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListFailoverBucketPolicy3B552017": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListFailoverBucketBF1E05AD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListFailoverBucketBF1E05AD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::GetAtt": Array [
                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                    "Arn",
                  ],
                },
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListFailoverBucketBF1E05AD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListFailoverBucketBF1E05AD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubDenyListPeriodicPruneA981153D": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(5 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubDenyListPrunePruneHandler30B33551",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubDenyListPeriodicPruneAllowEventRuleTestConstructHubDenyListPrunePruneHandler03826FC486B0D780": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandler30B33551",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPeriodicPruneA981153D",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubDenyListPruneDeleteQueueBBF60185": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "VisibilityTimeout": 120,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListPrunePruneHandler30B33551": Object {
      "DependsOn": Array [
        "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA",
        "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3BucketAE80D773",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "backend/deny-list/prune-handler.lambda.ts",
        "Environment": Object {
          "Variables": Object {
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "ON_CHANGE_FUNCTION_NAME": Object {
              "Fn::GetAtt": Array [
                "ConstructHubOrchestrationCatalogBuilder7C964951",
                "Arn",
              ],
            },
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "PACKAGE_DATA_KEY_PREFIX": "data/",
            "PRUNE_QUEUE_URL": Object {
              "Ref": "ConstructHubDenyListPruneDeleteQueueBBF60185",
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B": Object {
      "DependsOn": Array [
        "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393",
        "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3BucketAC5DE359",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "backend/deny-list/prune-queue-handler.lambda.ts",
        "Environment": Object {
          "Variables": Object {
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerSqsEventSourceTestConstructHubDenyListPruneDeleteQueue04186FB403F01CBE": Object {
      "Properties": Object {
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPruneDeleteQueueBBF60185",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubFailoverPackageDataBA7D3B85": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "AbortIncompleteMultipartUpload": Object {
                "DaysAfterInitiation": 1,
              },
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionTransitions": Array [
                Object {
                  "StorageClass": "STANDARD_IA",
                  "TransitionInDays": 31,
                },
              ],
              "Status": "Enabled",
            },
            Object {
              "ExpiredObjectDeleteMarker": true,
              "NoncurrentVersionExpirationInDays": 90,
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionExpirationInDays": 7,
              "Prefix": "catalog.json",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubFailoverPackageDataPolicy89BCDF76": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubFailoverPackageDataBA7D3B85",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubFailoverPackageDataBA7D3B85",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubFailoverPackageDataBA7D3B85",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestion407909CE": Object {
      "DependsOn": Array [
        "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2",
        "ConstructHubIngestionServiceRole6380BAB6",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3BucketFE59B3A9",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Ingestion] Ingests new package versions into the Construct Hub",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CONFIG_BUCKET_NAME": Object {
              "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
            },
            "CONFIG_FILE_KEY": "config.json",
            "STATE_MACHINE_ARN": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionServiceRole6380BAB6",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubIngestionConfigBucket0F0ED0B6": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubIngestionConfigBucketPolicyF096914C": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestionDLQ3E96A5F2": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionDLQAlarm83BD1903": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The dead-letter queue for the Ingestion function is not empty!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to the queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "
Direct link to the function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Ingestion/DLQNotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "m1 + m2",
            "Id": "expr_1",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubIngestionDLQ3E96A5F2",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "m2",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubIngestionDLQ3E96A5F2",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubIngestionDeployIngestionConfigurationAwsCliLayerF77955C2": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubIngestionDeployIngestionConfigurationCustomResourceD7F243C1": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
        },
        "Prune": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionFailoverConfigBucket079F82C3": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubIngestionFailoverConfigBucketPolicyD45F3F6D": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubIngestionFailoverConfigBucket079F82C3",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionFailoverConfigBucket079F82C3",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionFailoverConfigBucket079F82C3",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestionFailureAlarm9D0028DD": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The Ingestion function is failing!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to the function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Ingestion/Failure",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubIngestion407909CE",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubIngestionLogRetention98263C90": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubIngestionQueue1AD94CA3": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": Object {
          "deadLetterTargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubIngestionDLQ3E96A5F2",
              "Arn",
            ],
          },
          "maxReceiveCount": 5,
        },
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionReprocessQueueADCE803E": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": Object {
          "deadLetterTargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubIngestionDLQ3E96A5F2",
              "Arn",
            ],
          },
          "maxReceiveCount": 5,
        },
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E": Object {
      "DependsOn": Array [
        "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135",
        "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3Bucket5255533F",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Ingestion/ReIngest] The function used to reprocess packages through ingestion",
        "Environment": Object {
          "Variables": Object {
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "QUEUE_URL": Object {
              "Ref": "ConstructHubIngestionReprocessQueueADCE803E",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 180,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/metadata.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachine3708141C": Object {
      "DependsOn": Array [
        "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747",
        "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Has a ContinuationToken?\\",\\"States\\":{\\"Has a ContinuationToken?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.ContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"S3.ListObjectsV2(NextPage)\\"}],\\"Default\\":\\"S3.ListObjectsV2(FirstPage)\\"},\\"S3.ListObjectsV2(FirstPage)\\":{\\"Next\\":\\"Is there more?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Prefix\\":\\"data/\\"}},\\"Is there more?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Give room for on-demand work\\"}],\\"Default\\":\\"Process Result\\"},\\"S3.ListObjectsV2(NextPage)\\":{\\"Next\\":\\"Is there more?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.ContinuationToken\\",\\"Prefix\\":\\"data/\\"}},\\"Process Result\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"End\\":true,\\"Iterator\\":{\\"StartAt\\":\\"Is metadata object?\\",\\"States\\":{\\"Is metadata object?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.Key\\",\\"StringMatches\\":\\"*/metadata.json\\",\\"Next\\":\\"Send for reprocessing\\"}],\\"Default\\":\\"Nothing to do\\"},\\"Nothing to do\\":{\\"Type\\":\\"Succeed\\"},\\"Send for reprocessing\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke\\",\\"Parameters\\":{\\"FunctionName\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E",
                  "Arn",
                ],
              },
              "\\",\\"Payload.$\\":\\"$\\"}}}},\\"ItemsPath\\":\\"$.response.Contents\\"},\\"Continue as new\\":{\\"Next\\":\\"Process Result\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":null,\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution\\",\\"Parameters\\":{\\"Input\\":{\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:",
              Object {
                "Ref": "AWS::Region",
              },
              ":",
              Object {
                "Ref": "AWS::AccountId",
              },
              ":stateMachine:Test.ConstructHub.Ingestion.ReprocessWorkflow\\"}},\\"Give room for on-demand work\\":{\\"Type\\":\\"Wait\\",\\"Seconds\\":15,\\"Next\\":\\"Continue as new\\"}},\\"TimeoutSeconds\\":3600}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Ingestion.ReprocessWorkflow",
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":states:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":stateMachine:Test.ConstructHub.Ingestion.ReprocessWorkflow",
                  ],
                ],
              },
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionServiceRole6380BAB6": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionServiceRole6380BAB6",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionDLQEC555E58E8FEA048": Object {
      "Properties": Object {
        "BatchSize": 1,
        "Enabled": false,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionDLQ3E96A5F2",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionQueue165B81E2C095FF2A": Object {
      "Properties": Object {
        "BatchSize": 1,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionQueue1AD94CA3",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionReprocessQueueEFA2CB8349836CD4": Object {
      "Properties": Object {
        "BatchSize": 1,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessQueueADCE803E",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubInventoryCanary63D899BC": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
        "ConstructHubInventoryCanaryServiceRole7684EDDE",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3Bucket9A67A1B5",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Inventory] A canary that periodically inspects the list of indexed packages",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanaryServiceRole7684EDDE",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubInventoryCanaryFailures5BDA8051": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The inventory canary is failing!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/InventoryCanary/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubInventoryCanary63D899BC",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 900,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubInventoryCanaryNotRunningAF44D71C": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The inventory canary is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/InventoryCanary/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubInventoryCanary63D899BC",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 900,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubInventoryCanaryScheduleRule79F2F8D8": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
      ],
      "Properties": Object {
        "ScheduleExpression": "rate(15 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubInventoryCanary63D899BC",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubInventoryCanaryScheduleRuleAllowEventRuleTestConstructHubInventoryCanary54F5B7AC7EBA7AB2": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanary63D899BC",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanaryScheduleRule79F2F8D8",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubInventoryCanaryServiceRole7684EDDE": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/*-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/*.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/uninstallable-objects/data.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubInventoryCanaryServiceRole7684EDDE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubLicenseListAwsCliLayer59592811": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubLicenseListBucket9334047F": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubLicenseListBucketPolicy817F92CD": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubLicenseListBucket9334047F",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubLicenseListCustomResource323F0FD4": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubLicenseListBucket9334047F",
        },
        "Prune": true,
        "RetainOnDelete": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubLicenseListFailoverBucketA96D2AAF": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubLicenseListFailoverBucketPolicy7F222A76": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubLicenseListFailoverBucketA96D2AAF",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListFailoverBucketA96D2AAF",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListFailoverBucketA96D2AAF",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubMonitoringHighSeverityDashboard8761DBAC": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"widgets\\":[{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Backend Orchestration Dead-Letter Queue is not empty\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQAlarm85EE7509",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":6,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Size Shrunk\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilderShrinkingCatalogAlarm48329E25",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":12,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Backend Orchestration Failed\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationOrchestrationFailed5AF50838",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":18,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Ingestion failures\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionFailureAlarm9D0028DD",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Home Page Canary\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubMonitoringWebCanaryHomePageErrorsE7BB4002",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"NpmJs/Follower Failures\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":36,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"NpmJs/Follower Not Running\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsFollowerNotRunningCEAF0E1E",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":42,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"New version visibility SLA breached\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsCanaryAlarmBE2B479E",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}}]}",
            ],
          ],
        },
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubMonitoringWatchfulDashboardB8493D55": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"widgets\\":[{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"markdown\\":\\"# Deny List - Prune Function\\\\n\\\\n[button:AWS Lambda Console](https://console.aws.amazon.com/lambda/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "?tab=graph) [button:CloudWatch Logs](https://console.aws.amazon.com/cloudwatch/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#logEventViewer:group=/aws/lambda/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":0,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocations/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":6,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Errors/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Errors > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":12,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Throttles/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Throttles\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Throttles > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":18,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Duration/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"p99\\",\\"stat\\":\\"p99\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"p99 > 720000 for 3 datapoints within 15 minutes\\",\\"value\\":720000,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":8,\\"properties\\":{\\"markdown\\":\\"# Deny List - Prune Delete Function\\\\n\\\\n[button:AWS Lambda Console](https://console.aws.amazon.com/lambda/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "?tab=graph) [button:CloudWatch Logs](https://console.aws.amazon.com/cloudwatch/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#logEventViewer:group=/aws/lambda/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":0,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocations/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":6,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Errors/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Errors > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":12,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Throttles/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Throttles\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Throttles > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":18,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Duration/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"label\\":\\"p99\\",\\"stat\\":\\"p99\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"p99 > 48000 for 3 datapoints within 15 minutes\\",\\"value\\":48000,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}}]}",
            ],
          ],
        },
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4DurationAlarm116EB85B": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "p99 latency >= 720s (80%)",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 3,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": "p99",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
                    },
                  },
                ],
                "MetricName": "Duration",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "p99",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 720000,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4ErrorsAlarm9E8C0618": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 errors per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4ThrottlesAlarm7A95EA66": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 throttles per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Throttles",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BDurationAlarm331A9019": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "p99 latency >= 48s (80%)",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 3,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": "p99",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
                    },
                  },
                ],
                "MetricName": "Duration",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "p99",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 48000,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BErrorsAlarm1C29CAE7": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 errors per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BThrottlesAlarm2F5C1946": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 throttles per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Throttles",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWebCanaryHomePageErrorsE7BB4002": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "80% error rate for https://",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppDistribution1F181DC9",
                  "DomainName",
                ],
              },
              " (Home Page)",
            ],
          ],
        },
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "https://",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppDistribution1F181DC9",
                      "DomainName",
                    ],
                  },
                  " Errors",
                ],
              ],
            },
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
                    },
                  },
                ],
                "MetricName": "Errors",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 4,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8": Object {
      "DependsOn": Array [
        "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3Bucket583A7087",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "HTTP GET https://",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppDistribution1F181DC9",
                  "DomainName",
                ],
              },
              ": Home Page",
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "URL": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "https://",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppDistribution1F181DC9",
                      "DomainName",
                    ],
                  },
                ],
              ],
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubMonitoringWebCanaryHomePageRuleAllowEventRuleTestConstructHubMonitoringWebCanaryHomePageHttpGetFunction941819C9E47F90EE": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageRuleE14F9F4E",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubMonitoringWebCanaryHomePageRuleE14F9F4E": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubOrchestration39161A46": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRoleDefaultPolicyEACD181F",
        "ConstructHubOrchestrationRoleF4CF6987",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Track Execution Infos\\",\\"States\\":{\\"Track Execution Infos\\":{\\"Type\\":\\"Pass\\",\\"ResultPath\\":\\"$.$TaskExecution\\",\\"InputPath\\":\\"$$.Execution\\",\\"Parameters\\":{\\"Id.$\\":\\"$.Id\\",\\"Name.$\\":\\"$.Name\\",\\"RoleArn.$\\":\\"$.RoleArn\\",\\"StartTime.$\\":\\"$.StartTime\\"},\\"Next\\":\\"Prepare doc-gen ECS Command\\"},\\"Prepare doc-gen ECS Command\\":{\\"Type\\":\\"Pass\\",\\"ResultPath\\":\\"$.docGen\\",\\"Parameters\\":{\\"command.$\\":\\"States.Array(States.JsonToString($))\\"},\\"Next\\":\\"Generate docs\\"},\\"Generate docs\\":{\\"Next\\":\\"Check whether catalog needs udpating\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"jsii-docgen.NoSpaceLeftOnDevice\\"],\\"MaxAttempts\\":0},{\\"ErrorEquals\\":[\\"ECS.AmazonECSException\\",\\"ECS.InvalidParameterException\\",\\"jsii-docgen.NpmError.E429\\",\\"jsii-codgen.NpmError.EPROTO\\"],\\"IntervalSeconds\\":120,\\"MaxAttempts\\":200,\\"BackoffRate\\":1},{\\"ErrorEquals\\":[\\"jsii-docgen.NpmError.ETARGET\\"],\\"IntervalSeconds\\":300,\\"MaxAttempts\\":3,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"MaxAttempts\\":3}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"UnprocessablePackageError\\"],\\"Next\\":\\"Ignore\\"},{\\"ErrorEquals\\":[\\"States.Timeout\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"ECS.AmazonECSException\\",\\"ECS.InvalidParameterException\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"TimeoutSeconds\\":7200,\\"HeartbeatSeconds\\":300,\\"InputPath\\":\\"$.docGen.command\\",\\"ResultPath\\":\\"$.docGenOutput\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::ecs:runTask.waitForTaskToken\\",\\"Parameters\\":{\\"Cluster\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCluster3D6F0081",
                  "Arn",
                ],
              },
              "\\",\\"TaskDefinition\\":\\"TestConstructHubOrchestrationTransliteratorTaskDefinition1C44F91E\\",\\"NetworkConfiguration\\":{\\"AwsvpcConfiguration\\":{\\"Subnets\\":[\\"",
              Object {
                "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1SubnetEA67D882",
              },
              "\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2SubnetC067C1B7",
              },
              "\\"],\\"SecurityGroups\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationGeneratedocsSecurityGroupC584DAC2",
                  "GroupId",
                ],
              },
              "\\"]}},\\"Overrides\\":{\\"ContainerOverrides\\":[{\\"Name\\":\\"Resource\\",\\"Command.$\\":\\"$\\",\\"Environment\\":[{\\"Name\\":\\"SFN_TASK_TOKEN\\",\\"Value.$\\":\\"$$.Task.Token\\"}]}]},\\"LaunchType\\":\\"FARGATE\\",\\"PlatformVersion\\":\\"1.4.0\\"}},\\"Check whether catalog needs udpating\\":{\\"Next\\":\\"Is catalog update needed?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\",\\"Lambda.Unknown\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\",\\"Lambda.Unknown\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.catalogNeedsUpdating\\",\\"Resource\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC",
                  "Arn",
                ],
              },
              "\\"},\\"Is catalog update needed?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.catalogNeedsUpdating\\",\\"BooleanEquals\\":true,\\"Next\\":\\"Add to catalog.json\\"}],\\"Default\\":\\"Done\\"},\\"Done\\":{\\"Type\\":\\"Succeed\\"},\\"Add to catalog.json\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.catalogBuilderOutput\\",\\"ResultSelector\\":{\\"ETag.$\\":\\"$.Payload.ETag\\",\\"VersionId.$\\":\\"$.Payload.VersionId\\"},\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke\\",\\"Parameters\\":{\\"FunctionName\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
              "\\",\\"Payload.$\\":\\"$\\"}},\\"Send to Dead Letter Queue\\":{\\"Next\\":\\"Sent to DLQ\\",\\"Type\\":\\"Task\\",\\"ResultPath\\":null,\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::sqs:sendMessage\\",\\"Parameters\\":{\\"QueueUrl\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationDLQ9C6D9BD4",
              },
              "\\",\\"MessageBody.$\\":\\"$\\"}},\\"Sent to DLQ\\":{\\"Type\\":\\"Succeed\\"},\\"Ignore\\":{\\"Type\\":\\"Pass\\",\\"End\\":true}},\\"TimeoutSeconds\\":86400}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRoleF4CF6987",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Orchestration",
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationCatalogBuilder7C964951": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5",
        "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3Bucket722FE70B",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Creates the catalog.json object in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "PassThrough",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationCatalogBuilderLogRetention04ED6996": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":lambda:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":function:*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationCatalogBuilderShrinkingCatalogAlarm48329E25": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The number of packages registered in the catalog.json object has shrunk by more than 5
elements. There might be a mass extinction event going on. This should be investigated
as soon as possible.

Catalog.json: /s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=catalog.json
Catalog Builder: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
              "

RUNBOOK: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/CatalogBuilder/ShrinkingCatalog",
        "ComparisonOperator": "LessThanThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "DIFF(FILL(m1, REPEAT))",
            "Id": "expr_1",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "RegisteredPackagesMajorVersion",
                "Namespace": "ConstructHub/CatalogBuilder",
              },
              "Period": 900,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": -5,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationCluster3D6F0081": Object {
      "Properties": Object {
        "ClusterSettings": Array [
          Object {
            "Name": "containerInsights",
            "Value": "enabled",
          },
        ],
      },
      "Type": "AWS::ECS::Cluster",
    },
    "ConstructHubOrchestrationCluster4C9C8AA6": Object {
      "Properties": Object {
        "CapacityProviders": Array [
          "FARGATE",
          "FARGATE_SPOT",
        ],
        "Cluster": Object {
          "Ref": "ConstructHubOrchestrationCluster3D6F0081",
        },
        "DefaultCapacityProviderStrategy": Array [],
      },
      "Type": "AWS::ECS::ClusterCapacityProviderAssociations",
    },
    "ConstructHubOrchestrationClusterVpcD5CC96DF": Object {
      "Properties": Object {
        "CidrBlock": "10.0.0.0/16",
        "EnableDnsHostnames": true,
        "EnableDnsSupport": true,
        "InstanceTenancy": "default",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc",
          },
        ],
      },
      "Type": "AWS::EC2::VPC",
    },
    "ConstructHubOrchestrationClusterVpcIGW824B9527": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc",
          },
        ],
      },
      "Type": "AWS::EC2::InternetGateway",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1DefaultRoute65613FDA": Object {
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1NATGatewayBF889500",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTable978A35E2",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTable978A35E2": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTableAssociation62534665": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTable978A35E2",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1SubnetEA67D882",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1SubnetEA67D882": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            0,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.128.0/18",
        "MapPublicIpOnLaunch": false,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2DefaultRouteF6579FD1": Object {
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2NATGateway70A454FD",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTable0BC880DB",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTable0BC880DB": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTableAssociation9FB50C41": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTable0BC880DB",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2SubnetC067C1B7",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2SubnetC067C1B7": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            1,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.192.0/18",
        "MapPublicIpOnLaunch": false,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1DefaultRouteAF6519CE": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationClusterVpcVPCGW7E73D481",
      ],
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcIGW824B9527",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableD384ACA4",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1EIP2D9D4C52": Object {
      "Properties": Object {
        "Domain": "vpc",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
      },
      "Type": "AWS::EC2::EIP",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1NATGatewayBF889500": Object {
      "Properties": Object {
        "AllocationId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationClusterVpcPublicSubnet1EIP2D9D4C52",
            "AllocationId",
          ],
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1Subnet10DB7A72",
        },
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
      },
      "Type": "AWS::EC2::NatGateway",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableAssociation31FB3CD6": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableD384ACA4",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1Subnet10DB7A72",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableD384ACA4": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1Subnet10DB7A72": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            0,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.0.0/18",
        "MapPublicIpOnLaunch": true,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2DefaultRouteED1B3A37": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationClusterVpcVPCGW7E73D481",
      ],
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcIGW824B9527",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableE3A3966D",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2EIPC9DD9674": Object {
      "Properties": Object {
        "Domain": "vpc",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
      },
      "Type": "AWS::EC2::EIP",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2NATGateway70A454FD": Object {
      "Properties": Object {
        "AllocationId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationClusterVpcPublicSubnet2EIPC9DD9674",
            "AllocationId",
          ],
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2Subnet899B70D2",
        },
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
      },
      "Type": "AWS::EC2::NatGateway",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableAssociationFB0694B7": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableE3A3966D",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2Subnet899B70D2",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableE3A3966D": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2Subnet899B70D2": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            1,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.64.0/18",
        "MapPublicIpOnLaunch": true,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcVPCGW7E73D481": Object {
      "Properties": Object {
        "InternetGatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcIGW824B9527",
        },
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::VPCGatewayAttachment",
    },
    "ConstructHubOrchestrationDLQ9C6D9BD4": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubOrchestrationDLQAlarm85EE7509": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Backend orchestration dead-letter queue is not empty.

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "
Warning: State Machines executions that sent messages to the DLQ will not show as \\"failed\\".",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/DLQ/NotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "m1 + m2",
            "Id": "expr_1",
            "Label": "Dead-Letter Queue not empty",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubOrchestrationDLQ9C6D9BD4",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "m2",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubOrchestrationDLQ9C6D9BD4",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationGeneratedocsSecurityGroupC584DAC2": Object {
      "Properties": Object {
        "GroupDescription": "Test/ConstructHub/Orchestration/Generate docs/SecurityGroup",
        "SecurityGroupEgress": Array [
          Object {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::SecurityGroup",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9",
        "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3BucketE78A0203",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Orchestration/NeedsCatalogUpdate] Determines whether a package version requires a catalog update",
        "Environment": Object {
          "Variables": Object {
            "CATALOG_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CATALOG_OBJECT_KEY": "catalog.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationOrchestrationFailed5AF50838": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Backend orchestration failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to state machine: /states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "
Warning: messages that resulted in a failed exectuion will NOT be in the DLQ!",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/Resource/ExecutionsFailed",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "StateMachineArn",
            "Value": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "ExecutionsFailed",
        "Namespace": "AWS/States",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationRedrive8DDBA67E": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436",
        "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3Bucket6F376B71",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Redrive] Manually redrives all messages from the backend dead letter queue",
        "Environment": Object {
          "Variables": Object {
            "QUEUE_URL": Object {
              "Ref": "ConstructHubOrchestrationDLQ9C6D9BD4",
            },
            "STATE_MACHINE_ARN": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationRedriveServiceRoleB84EFF33": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationE9FAB254": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86",
        "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Get prefix page\\",\\"States\\":{\\"Get prefix page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next prefixes page\\"}],\\"Default\\":\\"First prefix page\\"},\\"Has more prefixes?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get prefix page\\"}],\\"Default\\":\\"Done\\"},\\"For each prefix\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more prefixes?\\",\\"Iterator\\":{\\"StartAt\\":\\"Is this a @scope-- prefix?\\",\\"States\\":{\\"Is this a @scope-- prefix?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.Prefix\\",\\"StringMatches\\":\\"data/@*\\",\\"Next\\":\\"Get @scope page\\"}],\\"Default\\":\\"Process unscoped package\\"},\\"Process unscoped package\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution.sync:2\\",\\"Parameters\\":{\\"Input\\":{\\"Prefix.$\\":\\"$.Prefix\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
              "\\"}},\\"Get @scope page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next @scope page\\"}],\\"Default\\":\\"First @scope page\\"},\\"Has more packages?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get @scope page\\"}],\\"Default\\":\\"All Done\\"},\\"For each @scope--pkg\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more packages?\\",\\"Iterator\\":{\\"StartAt\\":\\"Process scoped package\\",\\"States\\":{\\"Process scoped package\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution.sync:2\\",\\"Parameters\\":{\\"Input\\":{\\"Prefix.$\\":\\"$.Prefix\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
              "\\"}}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First @scope page\\":{\\"Next\\":\\"For each @scope--pkg\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Next @scope page\\":{\\"Next\\":\\"For each @scope--pkg\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"All Done\\":{\\"Type\\":\\"Succeed\\"}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First prefix page\\":{\\"Next\\":\\"For each prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix\\":\\"data/\\"}},\\"Next prefixes page\\":{\\"Next\\":\\"For each prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix\\":\\"data/\\"}},\\"Done\\":{\\"Type\\":\\"Succeed\\"}},\\"TimeoutSeconds\\":14400}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Orchestration.RegenerateAllDocumentation",
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726",
        "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Get package versions page\\",\\"States\\":{\\"Get package versions page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next versions page\\"}],\\"Default\\":\\"First versions page\\"},\\"Has more versions?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get package versions page\\"}],\\"Default\\":\\"Success\\"},\\"For each key prefix\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more versions?\\",\\"Iterator\\":{\\"StartAt\\":\\"Start Orchestration Workflow\\",\\"States\\":{\\"Start Orchestration Workflow\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution\\",\\"Parameters\\":{\\"Input\\":{\\"bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"assembly\\":{\\"key.$\\":\\"States.Format('{}assembly.json', $.Prefix)\\"},\\"metadata\\":{\\"key.$\\":\\"States.Format('{}metadata.json', $.Prefix)\\"},\\"package\\":{\\"key.$\\":\\"States.Format('{}package.tgz', $.Prefix)\\"},\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\"}}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First versions page\\":{\\"Next\\":\\"For each key prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Next versions page\\":{\\"Next\\":\\"For each key prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Success\\":{\\"Type\\":\\"Succeed\\"}},\\"TimeoutSeconds\\":3600}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
            "Arn",
          ],
        },
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
            },
            Object {
              "Action": Array [
                "states:DescribeExecution",
                "states:StopExecution",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":states:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":execution:",
                    Object {
                      "Fn::Select": Array [
                        6,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
                            },
                          ],
                        },
                      ],
                    },
                    "*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "events:PutTargets",
                "events:PutRule",
                "events:DescribeRule",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":events:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":rule/StepFunctionsGetEventsForStepFunctionsExecutionRule",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRoleDefaultPolicyEACD181F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "ecs:RunTask",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Fn::Select": Array [
                        1,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        2,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        3,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        4,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        0,
                        Object {
                          "Fn::Split": Array [
                            "/",
                            Object {
                              "Fn::Select": Array [
                                5,
                                Object {
                                  "Fn::Split": Array [
                                    ":",
                                    Object {
                                      "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    "/",
                    Object {
                      "Fn::Select": Array [
                        1,
                        Object {
                          "Fn::Split": Array [
                            "/",
                            Object {
                              "Fn::Select": Array [
                                5,
                                Object {
                                  "Fn::Split": Array [
                                    ":",
                                    Object {
                                      "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "ecs:StopTask",
                "ecs:DescribeTasks",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "iam:PassRole",
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
                    "Arn",
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sqs:SendMessage",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRoleDefaultPolicyEACD181F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRoleF4CF6987",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRoleF4CF6987": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "RetentionInDays": 731,
      },
      "Type": "AWS::Logs::LogGroup",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566": Object {
      "Properties": Object {
        "ContainerDefinitions": Array [
          Object {
            "Environment": Array [
              Object {
                "Name": "HEADER_SPAN",
                "Value": "true",
              },
              Object {
                "Name": "AWS_EMF_ENVIRONMENT",
                "Value": "Local",
              },
            ],
            "Essential": true,
            "Image": Object {
              "Fn::Join": Array [
                "",
                Array [
                  Object {
                    "Ref": "AWS::AccountId",
                  },
                  ".dkr.ecr.",
                  Object {
                    "Ref": "AWS::Region",
                  },
                  ".",
                  Object {
                    "Ref": "AWS::URLSuffix",
                  },
                  "/aws-cdk/assets:7c9e079743e720b70ff8ebb610b200b99b7bc6a53866e2da22f537f751de0ff4",
                ],
              ],
            },
            "LogConfiguration": Object {
              "LogDriver": "awslogs",
              "Options": Object {
                "awslogs-group": Object {
                  "Ref": "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                },
                "awslogs-region": Object {
                  "Ref": "AWS::Region",
                },
                "awslogs-stream-prefix": "transliterator",
              },
            },
            "Name": "Resource",
          },
        ],
        "Cpu": "4096",
        "ExecutionRoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
            "Arn",
          ],
        },
        "Family": "TestConstructHubOrchestrationTransliteratorTaskDefinition1C44F91E",
        "Memory": "8192",
        "NetworkMode": "awsvpc",
        "RequiresCompatibilities": Array [
          "FARGATE",
        ],
        "TaskRoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
            "Arn",
          ],
        },
      },
      "Type": "AWS::ECS::TaskDefinition",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "ecs-tasks.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleDefaultPolicyBDBF6E5D": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "ecr:BatchCheckLayerAvailability",
                "ecr:GetDownloadUrlForLayer",
                "ecr:BatchGetImage",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":ecr:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":repository/aws-cdk/assets",
                  ],
                ],
              },
            },
            Object {
              "Action": "ecr:GetAuthorizationToken",
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleDefaultPolicyBDBF6E5D",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "ecs-tasks.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleDefaultPolicyE0EED0F8": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "states:SendTaskFailure",
                "states:SendTaskHeartbeat",
                "states:SendTaskSuccess",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/assembly.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/uninstallable",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/uninstallable",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/uninstallable",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-typescript.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-typescript.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-python.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-python.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-java.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-java.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-csharp.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-csharp.*.corruptassembly",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleDefaultPolicyE0EED0F8",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubPackageDataDC5EF35E": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "AbortIncompleteMultipartUpload": Object {
                "DaysAfterInitiation": 1,
              },
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionTransitions": Array [
                Object {
                  "StorageClass": "STANDARD_IA",
                  "TransitionInDays": 31,
                },
              ],
              "Status": "Enabled",
            },
            Object {
              "ExpiredObjectDeleteMarker": true,
              "NoncurrentVersionExpirationInDays": 90,
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionExpirationInDays": 7,
              "Prefix": "catalog.json",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubPackageDataPolicy4615475A": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubPackageDataDC5EF35E",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:GetObject",
              "Effect": "Allow",
              "Principal": Object {
                "CanonicalUser": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4",
                    "S3CanonicalUserId",
                  ],
                },
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubPackageStatsFailures833C3D9B": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The package stats function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/PackageStats/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubStats61DB07B1",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "ExpirationInDays": 30,
              "Prefix": "staged/",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubSourcesFailoverNpmJsStagingBucketPolicy00182F29": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubSourcesNpmJs15A77D2D": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22",
        "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3Bucket024B3DC6",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJs] Periodically query npmjs.com index for new packages",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "FUNCTION_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
            },
            "LICENSE_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubLicenseListBucket9334047F",
            },
            "LICENSE_LIST_OBJECT_KEY": "allowed-licenses.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 300,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsCanary5558FC45": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
        "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3Bucket37F2908E",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJs/PackageCanary] Monitors construct-hub-probe versions availability",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "CONSTRUCT_HUB_BASE_URL": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "https://",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppDistribution1F181DC9",
                      "DomainName",
                    ],
                  },
                ],
              ],
            },
            "PACKAGE_CANARY_BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "PACKAGE_NAME": "construct-hub-probe",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsCanaryAlarmBE2B479E": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": "New versions of construct-hub-probe have been published over 5 minutes ago and are still not visible in construct hub
Runbook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Canary/SLA-Breached",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 2,
        "Metrics": Array [
          Object {
            "Expression": "MAX([mDwell, mTTC])",
            "Id": "expr_1",
          },
          Object {
            "Id": "mDwell",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "DwellTime",
                "Namespace": "ConstructHub/PackageCanary",
              },
              "Period": 60,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "mTTC",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "TimeToCatalog",
                "Namespace": "ConstructHub/PackageCanary",
              },
              "Period": 60,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 300,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsCanarySchedule4D94219F": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
      ],
      "Properties": Object {
        "Description": "Scheduled executions of the NpmJS package canary",
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubSourcesNpmJsCanary5558FC45",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubSourcesNpmJsCanaryScheduleAllowEventRuleTestConstructHubSourcesNpmJsCanary47220A990ABB5DFD": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanary5558FC45",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanarySchedule4D94219F",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/package-canary/*.state.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubSourcesNpmJs15A77D2D",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsFollowerNoChanges2CB08C93": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function is no discovering any changes from CouchDB!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/NoChanges",
        "ComparisonOperator": "LessThanThreshold",
        "EvaluationPeriods": 2,
        "MetricName": "ChangeCount",
        "Namespace": "ConstructHub/PackageSource/NpmJs/Follower",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsFollowerNotRunningCEAF0E1E": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsScheduleAllowEventRuleTestConstructHubSourcesNpmJs5171C2A673CCB598",
        "ConstructHubSourcesNpmJsSchedule34031870",
      ],
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubSourcesNpmJs15A77D2D",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsSchedule34031870": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
      ],
      "Properties": Object {
        "Description": "Test/ConstructHub/Sources/NpmJs/Schedule",
        "ScheduleExpression": "rate(5 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubSourcesNpmJs15A77D2D",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubSourcesNpmJsScheduleAllowEventRuleTestConstructHubSourcesNpmJs5171C2A673CCB598": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJs15A77D2D",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsSchedule34031870",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/couchdb-last-transaction-id.2",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsStageAndNotify591C0CFA": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F",
        "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3Bucket8AF0E263",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "DeadLetterConfig": Object {
          "TargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubSourcesStagerDLQ80BD2600",
              "Arn",
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJS-StageAndNotify] Stages tarballs to S3 and notifies ConstructHub",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "QUEUE_URL": Object {
              "Ref": "ConstructHubIngestionQueue1AD94CA3",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 300,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyEventInvokeConfigF58F658E": Object {
      "Properties": Object {
        "FunctionName": Object {
          "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
        },
        "MaximumRetryAttempts": 2,
        "Qualifier": "$LATEST",
      },
      "Type": "AWS::Lambda::EventInvokeConfig",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sqs:SendMessage",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsStageAndNotifySqsEventSourceTestConstructHubSourcesStagerDLQC4F4F3F95658073F": Object {
      "Properties": Object {
        "BatchSize": 1,
        "Enabled": false,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesStagerDLQ80BD2600",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubSourcesNpmJsStagingBucketB286F0E6": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "ExpirationInDays": 30,
              "Prefix": "staged/",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubSourcesNpmJsStagingBucketPolicy06788ED9": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubSourcesStagerDLQ80BD2600": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubSourcesTestConstructHubSourcesNpmJsStagerDLQNotEmpty30787871": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJS package stager is failing - its dead letter queue is not empty/n/nLink to the lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "/nLink to the dead letter queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "/n/nRunbook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Stager/DLQNotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "mVisible + mHidden",
            "Id": "expr_1",
          },
          Object {
            "Id": "mVisible",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubSourcesStagerDLQ80BD2600",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "mHidden",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubSourcesStagerDLQ80BD2600",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubStats61DB07B1": Object {
      "DependsOn": Array [
        "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA",
        "ConstructHubStatsServiceRole48DCA379",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3Bucket3D1A3222",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Creates the stats.json object in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "CATALOG_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CATALOG_OBJECT_KEY": "catalog.json",
            "STATS_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "STATS_OBJECT_KEY": "stats.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 256,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStatsServiceRole48DCA379",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "PassThrough",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubStatsLogRetentionDD577705": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubStatsRuleAllowEventRuleTestConstructHubStatsA5392874C4495EDA": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStats61DB07B1",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStatsRuleEEDEC976",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubStatsRuleEEDEC976": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(1 day)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubStats61DB07B1",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubStatsServiceRole48DCA379": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubStatsServiceRole48DCA379",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubVersionTrackerD5E8AEAE": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
        "ConstructHubVersionTrackerServiceRole721EE863",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3Bucket86412295",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "[Test/ConstructHub/VersionTracker] Creates the all-versions.json in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "PACKAGE_DATA_KEY_PREFIX": "data/",
            "VERSION_TRACKER_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "VERSION_TRACKER_OBJECT_KEY": "all-versions.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerServiceRole721EE863",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubVersionTrackerFailures00296806": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The version tracker function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/VersionTracker/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubVersionTrackerD5E8AEAE",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubVersionTrackerLogRetention6BB4E813": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubVersionTrackerNotRunning2FBC5BDA": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The version tracker function is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/VersionTracker/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubVersionTrackerD5E8AEAE",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 60,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubVersionTrackerRuleAllowEventRuleTestConstructHubVersionTracker969692245DE33940": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerD5E8AEAE",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerRuleD147E5BF",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubVersionTrackerRuleD147E5BF": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
      ],
      "Properties": Object {
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubVersionTrackerD5E8AEAE",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubVersionTrackerServiceRole721EE863": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubVersionTrackerServiceRole721EE863",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B": Object {
      "Properties": Object {
        "AutoPublish": true,
        "FunctionCode": "\\"use strict\\";
function handler(event) {
    var response = event.response;
    var headers = response.headers;
    headers['x-frame-options'] = { value: 'deny' };
    headers['x-xss-protection'] = { value: '1; mode=block' };
    headers['x-content-type-options'] = { value: 'nosniff' };
    headers['strict-transport-security'] = { value: 'max-age=47304000; includeSubDomains' };
    headers['content-security-policy'] = {
        value: [
            \\"default-src 'self' 'unsafe-inline' https://*.awsstatic.com;\\",
            \\"connect-src 'self' https://*.shortbread.aws.dev https://a0.awsstatic.com/ https://amazonwebservices.d2.sc.omtrdc.net https://aws.demdex.net https://dpm.demdex.net https://cm.everesttech.net;\\",
            'frame-src https://aws.demdex.net https://dpm.demdex.net;',
            \\"img-src 'self' https://* https://a0.awsstatic.com/ https://amazonwebservices.d2.sc.omtrdc.net https://aws.demdex.net https://dpm.demdex.net https://cm.everesttech.net;\\",
            \\"object-src 'none';\\",
            \\"style-src 'self' 'unsafe-inline';\\",
        ].join(' '),
    };
    return response;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzcG9uc2UtZnVuY3Rpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvd2ViYXBwL3Jlc3BvbnNlLWZ1bmN0aW9uL3Jlc3BvbnNlLWZ1bmN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFTQSxTQUFTLE9BQU8sQ0FBQyxLQUF5QjtJQUN4QyxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO0lBQzlCLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUM7SUFFL0IsT0FBTyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUM7SUFDL0MsT0FBTyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLENBQUM7SUFDekQsT0FBTyxDQUFDLHdCQUF3QixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUM7SUFDekQsT0FBTyxDQUFDLDJCQUEyQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUscUNBQXFDLEVBQUUsQ0FBQztJQUN4RixPQUFPLENBQUMseUJBQXlCLENBQUMsR0FBRztRQUNuQyxLQUFLLEVBQ0w7WUFDRSw2REFBNkQ7WUFDN0QsZ01BQWdNO1lBQ2hNLDBEQUEwRDtZQUMxRCx5S0FBeUs7WUFDekssb0JBQW9CO1lBQ3BCLG1DQUFtQztTQUNwQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7S0FDWixDQUFDO0lBRUYsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImludGVyZmFjZSBDbG91ZEZyb250UmVzcG9uc2Uge1xuICByZXNwb25zZTogYW55O1xuICBoZWFkZXJzOiB7XG4gICAgW2tleTogc3RyaW5nXToge1xuICAgICAgdmFsdWU6IHN0cmluZztcbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVyKGV2ZW50OiBDbG91ZEZyb250UmVzcG9uc2UpIHtcbiAgdmFyIHJlc3BvbnNlID0gZXZlbnQucmVzcG9uc2U7XG4gIHZhciBoZWFkZXJzID0gcmVzcG9uc2UuaGVhZGVycztcblxuICBoZWFkZXJzWyd4LWZyYW1lLW9wdGlvbnMnXSA9IHsgdmFsdWU6ICdkZW55JyB9O1xuICBoZWFkZXJzWyd4LXhzcy1wcm90ZWN0aW9uJ10gPSB7IHZhbHVlOiAnMTsgbW9kZT1ibG9jaycgfTtcbiAgaGVhZGVyc1sneC1jb250ZW50LXR5cGUtb3B0aW9ucyddID0geyB2YWx1ZTogJ25vc25pZmYnIH07XG4gIGhlYWRlcnNbJ3N0cmljdC10cmFuc3BvcnQtc2VjdXJpdHknXSA9IHsgdmFsdWU6ICdtYXgtYWdlPTQ3MzA0MDAwOyBpbmNsdWRlU3ViRG9tYWlucycgfTtcbiAgaGVhZGVyc1snY29udGVudC1zZWN1cml0eS1wb2xpY3knXSA9IHtcbiAgICB2YWx1ZTpcbiAgICBbXG4gICAgICBcImRlZmF1bHQtc3JjICdzZWxmJyAndW5zYWZlLWlubGluZScgaHR0cHM6Ly8qLmF3c3N0YXRpYy5jb207XCIsXG4gICAgICBcImNvbm5lY3Qtc3JjICdzZWxmJyBodHRwczovLyouc2hvcnRicmVhZC5hd3MuZGV2IGh0dHBzOi8vYTAuYXdzc3RhdGljLmNvbS8gaHR0cHM6Ly9hbWF6b253ZWJzZXJ2aWNlcy5kMi5zYy5vbXRyZGMubmV0IGh0dHBzOi8vYXdzLmRlbWRleC5uZXQgaHR0cHM6Ly9kcG0uZGVtZGV4Lm5ldCBodHRwczovL2NtLmV2ZXJlc3R0ZWNoLm5ldDtcIixcbiAgICAgICdmcmFtZS1zcmMgaHR0cHM6Ly9hd3MuZGVtZGV4Lm5ldCBodHRwczovL2RwbS5kZW1kZXgubmV0OycsXG4gICAgICBcImltZy1zcmMgJ3NlbGYnIGh0dHBzOi8vKiBodHRwczovL2EwLmF3c3N0YXRpYy5jb20vIGh0dHBzOi8vYW1hem9ud2Vic2VydmljZXMuZDIuc2Mub210cmRjLm5ldCBodHRwczovL2F3cy5kZW1kZXgubmV0IGh0dHBzOi8vZHBtLmRlbWRleC5uZXQgaHR0cHM6Ly9jbS5ldmVyZXN0dGVjaC5uZXQ7XCIsXG4gICAgICBcIm9iamVjdC1zcmMgJ25vbmUnO1wiLFxuICAgICAgXCJzdHlsZS1zcmMgJ3NlbGYnICd1bnNhZmUtaW5saW5lJztcIixcbiAgICBdLmpvaW4oJyAnKSxcbiAgfTtcblxuICByZXR1cm4gcmVzcG9uc2U7XG59XG4iXX0=",
        "FunctionConfig": Object {
          "Comment": "AddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9",
          "Runtime": "cloudfront-js-1.0",
        },
        "Name": "AddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9",
      },
      "Type": "AWS::CloudFront::Function",
    },
    "ConstructHubWebAppDeployWebsiteAwsCliLayer23CFFBC1": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubWebAppDeployWebsiteConfigAwsCliLayer8DFDB17A": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubWebAppDeployWebsiteConfigCustomResource2D18C708": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "DistributionId": Object {
          "Ref": "ConstructHubWebAppDistribution1F181DC9",
        },
        "Prune": false,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
          },
          Object {
            "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
        "SystemMetadata": Object {
          "cache-control": "public, max-age=300, must-revalidate, s-maxage=60, proxy-revalidate",
        },
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubWebAppDeployWebsiteCustomResourceE6DF98C9": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "DistributionId": Object {
          "Ref": "ConstructHubWebAppDistribution1F181DC9",
        },
        "Prune": false,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
        "SystemMetadata": Object {
          "cache-control": "public, max-age=300, must-revalidate, s-maxage=60, proxy-revalidate",
        },
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubWebAppDistribution1F181DC9": Object {
      "Properties": Object {
        "DistributionConfig": Object {
          "CacheBehaviors": Array [
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/data/*",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/catalog.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/all-versions.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/stats.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
          ],
          "CustomErrorResponses": Array [
            Object {
              "ErrorCode": 404,
              "ResponseCode": 200,
              "ResponsePagePath": "/index.html",
            },
            Object {
              "ErrorCode": 403,
              "ResponseCode": 200,
              "ResponsePagePath": "/index.html",
            },
          ],
          "DefaultCacheBehavior": Object {
            "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
            "Compress": true,
            "FunctionAssociations": Array [
              Object {
                "EventType": "viewer-response",
                "FunctionARN": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                    "FunctionARN",
                  ],
                },
              },
            ],
            "TargetOriginId": "TestConstructHubWebAppDistributionOrigin171FF58D3",
            "ViewerProtocolPolicy": "allow-all",
          },
          "DefaultRootObject": "index.html",
          "Enabled": true,
          "HttpVersion": "http2",
          "IPV6Enabled": true,
          "Origins": Array [
            Object {
              "DomainName": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                  "RegionalDomainName",
                ],
              },
              "Id": "TestConstructHubWebAppDistributionOrigin171FF58D3",
              "S3OriginConfig": Object {
                "OriginAccessIdentity": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "origin-access-identity/cloudfront/",
                      Object {
                        "Ref": "ConstructHubWebAppDistributionOrigin1S3Origin694AF937",
                      },
                    ],
                  ],
                },
              },
            },
            Object {
              "DomainName": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "RegionalDomainName",
                ],
              },
              "Id": "TestConstructHubWebAppDistributionOrigin276090F90",
              "S3OriginConfig": Object {
                "OriginAccessIdentity": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "origin-access-identity/cloudfront/",
                      Object {
                        "Ref": "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4",
                      },
                    ],
                  ],
                },
              },
            },
          ],
        },
      },
      "Type": "AWS::CloudFront::Distribution",
    },
    "ConstructHubWebAppDistributionOrigin1S3Origin694AF937": Object {
      "Properties": Object {
        "CloudFrontOriginAccessIdentityConfig": Object {
          "Comment": "Identity for TestConstructHubWebAppDistributionOrigin171FF58D3",
        },
      },
      "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
    },
    "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4": Object {
      "Properties": Object {
        "CloudFrontOriginAccessIdentityConfig": Object {
          "Comment": "Identity for TestConstructHubWebAppDistributionOrigin276090F90",
        },
      },
      "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
    },
    "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubWebAppFailoverWebsiteBucketPolicy7303D09F": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubWebAppWebsiteBucket4B2B9DB2": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubWebAppWebsiteBucketPolicy17174C06": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:GetObject",
              "Effect": "Allow",
              "Principal": Object {
                "CanonicalUser": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppDistributionOrigin1S3Origin694AF937",
                    "S3CanonicalUserId",
                  ],
                },
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536": Object {
      "DependsOn": Array [
        "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
        "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3BucketD1AD544E",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Handler": "index.handler",
        "Layers": Array [
          Object {
            "Ref": "ConstructHubDenyListBucketDeploymentAwsCliLayerEAC3D4DA",
          },
        ],
        "Role": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
            "Arn",
          ],
        },
        "Runtime": "python3.7",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "cloudfront:GetInvalidation",
                "cloudfront:CreateInvalidation",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
        "Roles": Array [
          Object {
            "Ref": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F": Object {
      "DependsOn": Array [
        "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3Bucket4842F32D",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Lambda function for auto-deleting objects in ",
              Object {
                "Ref": "ConstructHubDenyListBucket1B3C2C2E",
              },
              " S3 bucket.",
            ],
          ],
        },
        "Handler": "__entrypoint__.handler",
        "MemorySize": 128,
        "Role": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
            "Arn",
          ],
        },
        "Runtime": "nodejs12.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Sub": "arn:\${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A": Object {
      "DependsOn": Array [
        "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB",
        "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3Bucket2070BA0A",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:PutRetentionPolicy",
                "logs:DeleteRetentionPolicy",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB",
        "Roles": Array [
          Object {
            "Ref": "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2": Object {
      "DependsOn": Array [
        "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D",
        "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3BucketCBEF8050",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/MissingDocumentationWidget] Is a custom CloudWatch widget handler",
        "Environment": Object {
          "Variables": Object {
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "OBJECT_KEY": "uninstallable-objects/data.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Tags": Array [
          Object {
            "Key": "function-purpose",
            "Value": "cloudwatch-custom-widget",
          },
        ],
        "Timeout": 15,
      },
      "Type": "AWS::Lambda::Function",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
        "Tags": Array [
          Object {
            "Key": "function-purpose",
            "Value": "cloudwatch-custom-widget",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/uninstallable-objects/data.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/typescript-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/typescript.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/python-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/python.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/java-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/java.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/csharp-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/csharp.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D",
        "Roles": Array [
          Object {
            "Ref": "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
  },
}
`;

exports[`piggy-backing on an existing CodeArtifact domain 1`] = `
Object {
  "Outputs": Object {
    "ConstructHubDenyListSnapshotCommand3E133B03": Object {
      "Description": "Snapshot Test/ConstructHub/DenyList/Bucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
            },
          ],
        ],
      },
    },
    "ConstructHubIngestionSnapshotCommand746AF5B0": Object {
      "Description": "Snapshot Test/ConstructHub/Ingestion/ConfigBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubIngestionFailoverConfigBucket079F82C3",
            },
          ],
        ],
      },
    },
    "ConstructHubLicenseListSnapshotCommandB9EA2EF4": Object {
      "Description": "Snapshot Test/ConstructHub/LicenseList/Bucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubLicenseListBucket9334047F",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubLicenseListFailoverBucketA96D2AAF",
            },
          ],
        ],
      },
    },
    "ConstructHubMonitoringWatchfulWatchfulDashboard75D318D0": Object {
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "https://console.aws.amazon.com/cloudwatch/home?region=",
            Object {
              "Ref": "AWS::Region",
            },
            "#dashboards:name=",
            Object {
              "Ref": "ConstructHubMonitoringWatchfulDashboardB8493D55",
            },
          ],
        ],
      },
    },
    "ConstructHubSnapshotCommandDD3886DA": Object {
      "Description": "Snapshot Test/ConstructHub/PackageData",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubFailoverPackageDataBA7D3B85",
            },
          ],
        ],
      },
    },
    "ConstructHubSourcesSnapshotCommandB1EF760F": Object {
      "Description": "Snapshot Test/ConstructHub/Sources/NpmJs--StagingBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
            },
          ],
        ],
      },
    },
    "ConstructHubWebAppDomainNameDC10F8DD": Object {
      "Export": Object {
        "Name": "ConstructHubDomainName",
      },
      "Value": Object {
        "Fn::GetAtt": Array [
          "ConstructHubWebAppDistribution1F181DC9",
          "DomainName",
        ],
      },
    },
    "ConstructHubWebAppSnapshotCommandC5AF418E": Object {
      "Description": "Snapshot Test/ConstructHub/WebApp/WebsiteBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
            },
          ],
        ],
      },
    },
  },
  "Parameters": Object {
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6ArtifactHashF2EEEBFF": Object {
      "Description": "Artifact hash for asset \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3Bucket86412295": Object {
      "Description": "S3 bucket for asset \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01": Object {
      "Description": "S3 key for asset version \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440ArtifactHash87A9FF22": Object {
      "Description": "Artifact hash for asset \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054": Object {
      "Description": "S3 bucket for asset \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49": Object {
      "Description": "S3 key for asset version \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9ArtifactHashB9E3BF29": Object {
      "Description": "Artifact hash for asset \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF": Object {
      "Description": "S3 bucket for asset \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876": Object {
      "Description": "S3 key for asset version \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1ArtifactHash0128B949": Object {
      "Description": "Artifact hash for asset \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3Bucket4842F32D": Object {
      "Description": "S3 bucket for asset \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A": Object {
      "Description": "S3 key for asset version \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5ArtifactHash0AFE0939": Object {
      "Description": "Artifact hash for asset \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3Bucket722FE70B": Object {
      "Description": "S3 bucket for asset \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC": Object {
      "Description": "S3 key for asset version \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5ArtifactHash499F6DFF": Object {
      "Description": "Artifact hash for asset \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3Bucket37F2908E": Object {
      "Description": "S3 bucket for asset \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11": Object {
      "Description": "S3 key for asset version \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787ArtifactHash1BD3190B": Object {
      "Description": "Artifact hash for asset \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3BucketFE59B3A9": Object {
      "Description": "S3 bucket for asset \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588": Object {
      "Description": "S3 key for asset version \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dArtifactHash3B82A2B3": Object {
      "Description": "Artifact hash for asset \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3BucketCBEF8050": Object {
      "Description": "S3 bucket for asset \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381": Object {
      "Description": "S3 key for asset version \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbcArtifactHashF236251A": Object {
      "Description": "Artifact hash for asset \\"4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbc\\"",
      "Type": "String",
    },
    "AssetParameters4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbcS3Bucket02FC0B28": Object {
      "Description": "S3 bucket for asset \\"4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbc\\"",
      "Type": "String",
    },
    "AssetParameters4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbcS3VersionKey547E84F8": Object {
      "Description": "S3 key for asset version \\"4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbc\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bArtifactHash5ABBFB9B": Object {
      "Description": "Artifact hash for asset \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3Bucket8AF0E263": Object {
      "Description": "S3 bucket for asset \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545": Object {
      "Description": "S3 key for asset version \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeArtifactHash3FAC57D3": Object {
      "Description": "Artifact hash for asset \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3Bucket6F376B71": Object {
      "Description": "S3 bucket for asset \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804": Object {
      "Description": "S3 key for asset version \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177ArtifactHashF4EB5524": Object {
      "Description": "Artifact hash for asset \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC": Object {
      "Description": "S3 bucket for asset \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9": Object {
      "Description": "S3 key for asset version \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900ArtifactHash121EF458": Object {
      "Description": "Artifact hash for asset \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865": Object {
      "Description": "S3 bucket for asset \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20": Object {
      "Description": "S3 key for asset version \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9ArtifactHash694505BF": Object {
      "Description": "Artifact hash for asset \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0": Object {
      "Description": "S3 bucket for asset \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4": Object {
      "Description": "S3 key for asset version \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064ArtifactHashEA963870": Object {
      "Description": "Artifact hash for asset \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2": Object {
      "Description": "S3 bucket for asset \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37": Object {
      "Description": "S3 key for asset version \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4ArtifactHash660A50B8": Object {
      "Description": "Artifact hash for asset \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3BucketE78A0203": Object {
      "Description": "S3 bucket for asset \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7": Object {
      "Description": "S3 key for asset version \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8ArtifactHash238275D6": Object {
      "Description": "Artifact hash for asset \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3BucketD1AD544E": Object {
      "Description": "S3 bucket for asset \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70": Object {
      "Description": "S3 key for asset version \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827ArtifactHash1355580A": Object {
      "Description": "Artifact hash for asset \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3Bucket2070BA0A": Object {
      "Description": "S3 bucket for asset \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3": Object {
      "Description": "S3 key for asset version \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73ArtifactHashE8AF1E10": Object {
      "Description": "Artifact hash for asset \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3Bucket9A67A1B5": Object {
      "Description": "S3 bucket for asset \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5": Object {
      "Description": "S3 key for asset version \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcArtifactHash4E26EEC4": Object {
      "Description": "Artifact hash for asset \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3Bucket5255533F": Object {
      "Description": "S3 bucket for asset \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675": Object {
      "Description": "S3 key for asset version \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009ArtifactHash0AE6829F": Object {
      "Description": "Artifact hash for asset \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3Bucket3D1A3222": Object {
      "Description": "S3 bucket for asset \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC": Object {
      "Description": "S3 key for asset version \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aArtifactHash0386B8EC": Object {
      "Description": "Artifact hash for asset \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3BucketAE80D773": Object {
      "Description": "S3 bucket for asset \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F": Object {
      "Description": "S3 key for asset version \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efArtifactHashE5DEFDE2": Object {
      "Description": "Artifact hash for asset \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3Bucket583A7087": Object {
      "Description": "S3 bucket for asset \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839": Object {
      "Description": "S3 key for asset version \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68ArtifactHashD9A515C3": Object {
      "Description": "Artifact hash for asset \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7": Object {
      "Description": "S3 bucket for asset \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F": Object {
      "Description": "S3 key for asset version \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3ArtifactHash11DB5971": Object {
      "Description": "Artifact hash for asset \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3BucketAC5DE359": Object {
      "Description": "S3 bucket for asset \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC": Object {
      "Description": "S3 key for asset version \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5ArtifactHash185A4671": Object {
      "Description": "Artifact hash for asset \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3Bucket024B3DC6": Object {
      "Description": "S3 bucket for asset \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859": Object {
      "Description": "S3 key for asset version \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
  },
  "Resources": Object {
    "AWS679f53fac002430cb0da5b7982bd22872D164C4C": Object {
      "DependsOn": Array [
        "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbcS3Bucket02FC0B28",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbcS3VersionKey547E84F8",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbcS3VersionKey547E84F8",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
            "Arn",
          ],
        },
        "Runtime": "nodejs12.x",
        "Timeout": 120,
      },
      "Type": "AWS::Lambda::Function",
    },
    "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691": Object {
      "DependsOn": Array [
        "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
        "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
      ],
      "Properties": Object {
        "Code": Object {
          "ZipFile": "import boto3  # type: ignore
import json
import logging
import urllib.request

s3 = boto3.client(\\"s3\\")

CONFIGURATION_TYPES = [\\"TopicConfigurations\\", \\"QueueConfigurations\\", \\"LambdaFunctionConfigurations\\"]

def handler(event: dict, context):
    response_status = \\"SUCCESS\\"
    error_message = \\"\\"
    try:
        props = event[\\"ResourceProperties\\"]
        bucket = props[\\"BucketName\\"]
        notification_configuration = props[\\"NotificationConfiguration\\"]
        request_type = event[\\"RequestType\\"]
        managed = props.get('Managed', 'true').lower() == 'true'
        stack_id = event['StackId']

        if managed:
          config = handle_managed(request_type, notification_configuration)
        else:
          config = handle_unmanaged(bucket, stack_id, request_type, notification_configuration)

        put_bucket_notification_configuration(bucket, config)
    except Exception as e:
        logging.exception(\\"Failed to put bucket notification configuration\\")
        response_status = \\"FAILED\\"
        error_message = f\\"Error: {str(e)}. \\"
    finally:
        submit_response(event, context, response_status, error_message)


def handle_managed(request_type, notification_configuration):
  if request_type == 'Delete':
    return {}
  return notification_configuration


def handle_unmanaged(bucket, stack_id, request_type, notification_configuration):

  # find external notifications
  external_notifications = find_external_notifications(bucket, stack_id)

  # if delete, that's all we need
  if request_type == 'Delete':
    return external_notifications

  def with_id(notification):
    notification['Id'] = f\\"{stack_id}-{hash(json.dumps(notification, sort_keys=True))}\\"
    return notification

  # otherwise, merge external with incoming config and augment with id
  notifications = {}
  for t in CONFIGURATION_TYPES:
    external = external_notifications.get(t, [])
    incoming = [with_id(n) for n in notification_configuration.get(t, [])]
    notifications[t] = external + incoming
  return notifications


def find_external_notifications(bucket, stack_id):
  existing_notifications = get_bucket_notification_configuration(bucket)
  external_notifications = {}
  for t in CONFIGURATION_TYPES:
    # if the notification was created by us, we know what id to expect
    # so we can filter by it.
    external_notifications[t] = [n for n in existing_notifications.get(t, []) if not n['Id'].startswith(f\\"{stack_id}-\\")]

  return external_notifications


def get_bucket_notification_configuration(bucket):
  return s3.get_bucket_notification_configuration(Bucket=bucket)


def put_bucket_notification_configuration(bucket, notification_configuration):
  s3.put_bucket_notification_configuration(Bucket=bucket, NotificationConfiguration=notification_configuration)


def submit_response(event: dict, context, response_status: str, error_message: str):
    response_body = json.dumps(
        {
            \\"Status\\": response_status,
            \\"Reason\\": f\\"{error_message}See the details in CloudWatch Log Stream: {context.log_stream_name}\\",
            \\"PhysicalResourceId\\": event.get(\\"PhysicalResourceId\\") or event[\\"LogicalResourceId\\"],
            \\"StackId\\": event[\\"StackId\\"],
            \\"RequestId\\": event[\\"RequestId\\"],
            \\"LogicalResourceId\\": event[\\"LogicalResourceId\\"],
            \\"NoEcho\\": False,
        }
    ).encode(\\"utf-8\\")
    headers = {\\"content-type\\": \\"\\", \\"content-length\\": str(len(response_body))}
    try:
        req = urllib.request.Request(url=event[\\"ResponseURL\\"], headers=headers, data=response_body, method=\\"PUT\\")
        with urllib.request.urlopen(req) as response:
            print(response.read().decode(\\"utf-8\\"))
        print(\\"Status code: \\" + response.reason)
    except Exception as e:
        print(\\"send(..) failed executing request.urlopen(..): \\" + str(e))
",
        },
        "Description": "AWS CloudFormation handler for \\"Custom::S3BucketNotifications\\" resources (@aws-cdk/aws-s3)",
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
            "Arn",
          ],
        },
        "Runtime": "python3.7",
        "Timeout": 300,
      },
      "Type": "AWS::Lambda::Function",
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:PutBucketNotification",
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
        "Roles": Array [
          Object {
            "Ref": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubBackendDashboardGraphs6A37B2BC": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"start\\":\\"-P1W\\",\\"periodOverride\\":\\"auto\\",\\"widgets\\":[{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"markdown\\":\\"# Catalog Overview\\\\n\\\\n[button:primary:Package Data](/s3/buckets/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              ")\\\\n[button:Catalog Builder](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
              ")\\\\n[button:Inventory Canary](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
              ")\\\\n[button:Search Canary Log Group](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Size\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SubmoduleCount\\",{\\"label\\":\\"Submodules\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageVersionCount\\",{\\"label\\":\\"Package Versions\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageMajorVersionCount\\",{\\"label\\":\\"Package Majors\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageCount\\",{\\"label\\":\\"Packages\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Issues\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"UnknownObjectCount\\",{\\"label\\":\\"Unknown\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingAssemblyCount\\",{\\"label\\":\\"Missing Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageMetadataCount\\",{\\"label\\":\\"Missing Metadata\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageTarballCount\\",{\\"label\\":\\"Missing Tarball\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UninstallablePackageCount\\",{\\"label\\":\\"Uninstallable Package\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/CatalogBuilder\\",\\"MissingConstructFrameworkCount\\",{\\"label\\":\\"No Construct Framework\\",\\"period\\":900,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/CatalogBuilder\\",\\"MissingConstructFrameworkVersionCount\\",{\\"label\\":\\"No Construct Framework Version\\",\\"period\\":900,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":8,\\"properties\\":{\\"markdown\\":\\"# Documentation Generation\\\\n\\\\n[button:primary:Transliterator Logs](/cloudwatch/home#logsV2:log-groups/log-group/",
              Object {
                "Fn::Join": Array [
                  "%252",
                  Object {
                    "Fn::Split": Array [
                      "/",
                      Object {
                        "Ref": "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                      },
                    ],
                  },
                ],
              },
              ")\\\\n[button:Transliterator ECS Cluster](/ecs/home#/clusters/",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "/tasks)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Fargate Resources\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Usage\\",\\"ResourceCount\\",\\"Class\\",\\"None\\",\\"Resource\\",\\"OnDemand\\",\\"Service\\",\\"Fargate\\",\\"Type\\",\\"Resource\\",{\\"label\\":\\"Fargate Usage (On-Demand)\\",\\"stat\\":\\"Maximum\\",\\"id\\":\\"mFargateUsage\\"}],[{\\"label\\":\\"Fargate Quota (On-Demand)\\",\\"expression\\":\\"SERVICE_QUOTA(mFargateUsage)\\"}],[{\\"label\\":\\"CPU Utilization\\",\\"expression\\":\\"100 * FILL(mCpuUtilized, 0) / FILL(mCpuReserved, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"CpuReserved\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mCpuReserved\\"}],[\\"ECS/ContainerInsights\\",\\"CpuUtilized\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mCpuUtilized\\"}],[{\\"label\\":\\"Memory Utilization\\",\\"expression\\":\\"100 * FILL(mMemoryUtilized, 0) / FILL(mMemoryReserved, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"MemoryReserved\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mMemoryReserved\\"}],[\\"ECS/ContainerInsights\\",\\"MemoryUtilized\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mMemoryUtilized\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"label\\":\\"Percent\\",\\"min\\":0,\\"max\\":100,\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"ECS Resources\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Received Bytes\\",\\"expression\\":\\"FILL(m67cc14db3275d4a2af71847df2ebb376a00b015f62c4ff9d1aedb9bc615a6cf0, 0)\\"}],[\\"ECS/ContainerInsights\\",\\"NetworkRxBytes\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Received Bytes\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m67cc14db3275d4a2af71847df2ebb376a00b015f62c4ff9d1aedb9bc615a6cf0\\"}],[{\\"label\\":\\"Transmitted Bytes\\",\\"expression\\":\\"FILL(md6781afc8bf73de5587d36039d8226d1c0fe0b50a1c949759d3d8d8cd2e3f6d1, 0)\\"}],[\\"ECS/ContainerInsights\\",\\"NetworkTxBytes\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Transmitted Bytes\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"md6781afc8bf73de5587d36039d8226d1c0fe0b50a1c949759d3d8d8cd2e3f6d1\\"}],[{\\"label\\":\\"Task Count\\",\\"expression\\":\\"FILL(mbb258976f5c025a7dff5289417a6b07619e000e4af1a427fecc57b31586fd6dd, 0)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"TaskCount\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Task Count\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"mbb258976f5c025a7dff5289417a6b07619e000e4af1a427fecc57b31586fd6dd\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":16,\\"properties\\":{\\"markdown\\":\\"## Language: typescript\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":17,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":17,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":23,\\"properties\\":{\\"markdown\\":\\"## Language: python\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":24,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"markdown\\":\\"## Language: java\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":31,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":31,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":37,\\"properties\\":{\\"markdown\\":\\"## Language: csharp\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":38,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":38,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":44,\\"properties\\":{\\"markdown\\":\\"# Test/ConstructHub/Sources/NpmJs\\\\n\\\\n[button:primary:NpmJs Follower](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              ")\\\\n[button:Marker Object](/s3/object/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
              },
              "?prefix=couchdb-last-transaction-id.2)\\\\n[button:Stager](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              ")\\\\n[button:Stager DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":46,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Follower Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"RemainingTime\\",{\\"label\\":\\"Remaining Time\\",\\"stat\\":\\"Minimum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":46,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Stager Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}],[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Duration\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":52,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"CouchDB Follower\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Change Count\\",\\"expression\\":\\"FILL(mf6a938229aec623f5cf21e3ae3401901e7f7c6ebd5774ab6ac6e74af83efd121, 0)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"ChangeCount\\",{\\"label\\":\\"Change Count\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"mf6a938229aec623f5cf21e3ae3401901e7f7c6ebd5774ab6ac6e74af83efd121\\"}],[{\\"label\\":\\"Unprocessable\\",\\"expression\\":\\"FILL(m5b235d813bd8ded65d7de9a1345c9b49a8cf2af40e7e98ddbb8cb73e00783a8a, 0)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"UnprocessableEntity\\",{\\"label\\":\\"Unprocessable\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m5b235d813bd8ded65d7de9a1345c9b49a8cf2af40e7e98ddbb8cb73e00783a8a\\"}],[{\\"label\\":\\"Lag to npmjs.com\\",\\"expression\\":\\"FILL(m4d6c513faac55be4bca785e8587a9a145b65f5fe675318c9c5c52f3ada197b7b, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"NpmJsChangeAge\\",{\\"label\\":\\"Lag to npmjs.com\\",\\"stat\\":\\"Minimum\\",\\"visible\\":false,\\"id\\":\\"m4d6c513faac55be4bca785e8587a9a145b65f5fe675318c9c5c52f3ada197b7b\\"}],[{\\"label\\":\\"Package Version Age\\",\\"expression\\":\\"FILL(mec485aa83505431ed7a356970082cd4815c310504ff176dd3eeb241ae7bbf0c4, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"PackageVersionAge\\",{\\"label\\":\\"Package Version Age\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mec485aa83505431ed7a356970082cd4815c310504ff176dd3eeb241ae7bbf0c4\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"label\\":\\"Milliseconds\\",\\"min\\":0,\\"showUnits\\":false}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":52,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"CouchDB Changes\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Last Sequence Number\\",\\"expression\\":\\"FILL(mcc89a801dd7db60ea52e74b9851bd34a3899e7a26323ac98feb632cdf70c2500, REPEAT)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"LastSeq\\",{\\"label\\":\\"Last Sequence Number\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mcc89a801dd7db60ea52e74b9851bd34a3899e7a26323ac98feb632cdf70c2500\\"}]],\\"yAxis\\":{},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":58,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Stager Dead-Letter Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Visible Messages\\",\\"expression\\":\\"FILL(m96c7bb4160011a049b6b07c0feab8fb02e5a8d4aa466939592829f864dde6400, 0)\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m96c7bb4160011a049b6b07c0feab8fb02e5a8d4aa466939592829f864dde6400\\"}],[{\\"label\\":\\"Invisible Messages\\",\\"expression\\":\\"FILL(mf74066283a392fc98a0cd7a405f2aa9b5af544d3a87542f06fff7fd069fd8578, 0)\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mf74066283a392fc98a0cd7a405f2aa9b5af544d3a87542f06fff7fd069fd8578\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":58,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Package Canary\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/PackageCanary\\",\\"DwellTime\\",{\\"label\\":\\"Dwell Time\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/PackageCanary\\",\\"TimeToCatalog\\",{\\"label\\":\\"Time to Catalog\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/PackageCanary\\",\\"TrackedVersionCount\\",{\\"label\\":\\"Tracked Version Count\\",\\"period\\":60,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff0000\\",\\"label\\":\\"SLA (5 minutes)\\",\\"value\\":300,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":64,\\"properties\\":{\\"markdown\\":\\"# Ingestion Function\\\\n\\\\n[button:Ingestion Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              ")\\\\n[button:primary:Search Log Group](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "/log-events)\\\\n[button:DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":66,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Function Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":66,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Input Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Hidden Messages\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"period\\":60,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"10 Minutes\\",\\"value\\":600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":72,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Input Quality\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"stacked\\":true,\\"metrics\\":[[{\\"label\\":\\"Invalid Assemblies\\",\\"expression\\":\\"FILL(m0c5f10aa73687a21aa44b8985d19311246bca6c2cd1b2256b9f3e78c71e94fa3, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"InvalidAssembly\\",{\\"label\\":\\"Invalid Assemblies\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m0c5f10aa73687a21aa44b8985d19311246bca6c2cd1b2256b9f3e78c71e94fa3\\"}],[{\\"label\\":\\"Invalid Tarball\\",\\"expression\\":\\"FILL(m3a39d9b0bf974255f27dc95e44c8574bdfce2b97e49a7504346a77c5c9f6a3e1, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"InvalidTarball\\",{\\"label\\":\\"Invalid Tarball\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3a39d9b0bf974255f27dc95e44c8574bdfce2b97e49a7504346a77c5c9f6a3e1\\"}],[{\\"label\\":\\"Ineligible License\\",\\"expression\\":\\"FILL(me19ae9c3f20ae715e3462f9402684a3817282218f36e69494a60bc251e3435a6, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"IneligibleLicense\\",{\\"label\\":\\"Ineligible License\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"me19ae9c3f20ae715e3462f9402684a3817282218f36e69494a60bc251e3435a6\\"}],[{\\"label\\":\\"Mismatched Identity\\",\\"expression\\":\\"FILL(m7c1d407f17f8d2452a0bf87ac06fdd032de385a2758254f4192d6e17ed40d44b, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"MismatchedIdentityRejections\\",{\\"label\\":\\"Mismatched Identity\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7c1d407f17f8d2452a0bf87ac06fdd032de385a2758254f4192d6e17ed40d44b\\"}],[{\\"label\\":\\"Found License file\\",\\"expression\\":\\"FILL(m7084dfec3c5bab86694d7ae438460f471c174a94bc67c9c9738e3ab60246b661, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"FoundLicenseFile\\",{\\"label\\":\\"Found License file\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7084dfec3c5bab86694d7ae438460f471c174a94bc67c9c9738e3ab60246b661\\"}]],\\"yAxis\\":{\\"left\\":{\\"label\\":\\"Count\\",\\"min\\":0,\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":72,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Dead Letters\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff7f0e\\",\\"label\\":\\"10 days\\",\\"value\\":864000,\\"yAxis\\":\\"right\\"},{\\"color\\":\\"#ff0000\\",\\"label\\":\\"14 days (DLQ Retention)\\",\\"value\\":1209600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":78,\\"properties\\":{\\"markdown\\":\\"# Orchestration\\\\n\\\\n[button:primary:State Machine](/states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              ")\\\\n[button:DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              ")\\\\n[button:Redrive DLQ](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationRedrive8DDBA67E",
              },
              ")\\\\n[button:Regenerate All Documentation](/states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationE9FAB254",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":80,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"State Machine Executions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Started\\",\\"expression\\":\\"FILL(m392141ff4cfa3bbe1889b2db42bcf20599513e199a0b9fb8dc736cde893c1d7c, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsStarted\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Started\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m392141ff4cfa3bbe1889b2db42bcf20599513e199a0b9fb8dc736cde893c1d7c\\"}],[{\\"label\\":\\"Succeeded\\",\\"expression\\":\\"FILL(md1b80634be6e2f057c84f44fab13979a6445395ea2dc357cd12d0ba9f504e6d1, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsSucceeded\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Succeeded\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"md1b80634be6e2f057c84f44fab13979a6445395ea2dc357cd12d0ba9f504e6d1\\"}],[{\\"label\\":\\"Aborted\\",\\"expression\\":\\"FILL(m7c13255adf2b6d90baaa9e4e952e72ce260730c93b662336d01e3342f6255e08, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsAborted\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Aborted\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7c13255adf2b6d90baaa9e4e952e72ce260730c93b662336d01e3342f6255e08\\"}],[{\\"label\\":\\"Failed\\",\\"expression\\":\\"FILL(m503cb5a7568675222eb2ac827982f88ad300c986505dabfafe1707080946e597, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsFailed\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Failed\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m503cb5a7568675222eb2ac827982f88ad300c986505dabfafe1707080946e597\\"}],[{\\"label\\":\\"Throttled\\",\\"expression\\":\\"FILL(m278670a6ffa3ce32fec8fcb73c1cfdc4c965389617e2387ab5852ebb00b2a81f, 0)\\"}],[\\"AWS/States\\",\\"ExecutionThrottled\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Throttled\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m278670a6ffa3ce32fec8fcb73c1cfdc4c965389617e2387ab5852ebb00b2a81f\\"}],[{\\"label\\":\\"Timed Out\\",\\"expression\\":\\"FILL(m106d91118c893ec9037d16448722184f1ebdcca08a617e1f13758151a8c85a21, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsTimedOut\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Timed Out\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m106d91118c893ec9037d16448722184f1ebdcca08a617e1f13758151a8c85a21\\"}],[\\"AWS/States\\",\\"ExecutionTime\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Duration\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":80,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Dead Letter Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff7f0e\\",\\"label\\":\\"10 days\\",\\"value\\":864000,\\"yAxis\\":\\"right\\"},{\\"color\\":\\"#ff0000\\",\\"label\\":\\"14 days (DLQ Retention)\\",\\"value\\":1209600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":86,\\"properties\\":{\\"markdown\\":\\"# Deny List\\\\n\\\\n[button:primary:Deny List Object](/s3/object/",
              Object {
                "Ref": "ConstructHubDenyListBucket1B3C2C2E",
              },
              "?prefix=deny-list.json)\\\\n[button:Prune Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              ")\\\\n[button:Prune Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "/log-events)\\\\n[button:Delete Queue](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "QueueName",
                ],
              },
              ")\\\\n[button:Delete Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":88,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Deny List\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Rules\\",\\"expression\\":\\"FILL(m41327b0edbbef1ca627d9503d1b9b9fab401700118519537b58e0557adee7e4f, REPEAT)\\"}],[\\"ConstructHub/DenyList\\",\\"DenyListRuleCount\\",{\\"label\\":\\"Rules\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m41327b0edbbef1ca627d9503d1b9b9fab401700118519537b58e0557adee7e4f\\"}],[\\"AWS/SQS\\",\\"NumberOfMessagesDeleted\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Deleted Files\\",\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":88,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Prune Function Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":94,\\"properties\\":{\\"markdown\\":\\"# Package Stats\\\\n\\\\n[button:primary:Package Stats Object](/s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=stats.json)\\\\n[button:Package Stats Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              ")\\\\n[button:Package Stats Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":96,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Number of Package Stats Recorded\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Packages with stats\\",\\"expression\\":\\"FILL(m47411943a6e8f8e16a1dd905ff43cab11425b802c4d32615e081cab30c15f29f, REPEAT)\\"}],[\\"ConstructHub/PackageStats\\",\\"RegisteredPackagesWithStats\\",{\\"label\\":\\"Packages with stats\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m47411943a6e8f8e16a1dd905ff43cab11425b802c4d32615e081cab30c15f29f\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":96,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocation Duration\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              "\\",{\\"label\\":\\"Duration\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"15 minutes (Lambda timeout)\\",\\"value\\":900,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":102,\\"properties\\":{\\"markdown\\":\\"# Version Tracker\\\\n\\\\n[button:primary:Versions Object](/s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=all-versions.json)\\\\n[button:Version Tracker Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              ")\\\\n[button:Version Tracker Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":104,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Number of Package Versions Recorded\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Package versions recorded\\",\\"expression\\":\\"FILL(m343ebb2e5802fe223e549d8262d8d0c364846e0276426bc0a2d872e83bd8e63d, REPEAT)\\"}],[\\"ConstructHub/VersionTracker\\",\\"TrackedVersionsCount\\",{\\"label\\":\\"Package versions recorded\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m343ebb2e5802fe223e549d8262d8d0c364846e0276426bc0a2d872e83bd8e63d\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":104,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocation Duration\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              "\\",{\\"label\\":\\"Duration\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"1 minutes (Lambda timeout)\\",\\"value\\":60,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}}]}",
            ],
          ],
        },
        "DashboardName": "ConstructHubBackend-graphs",
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubBackendDashboardReportsDFD170B1": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"start\\":\\"-P1W\\",\\"periodOverride\\":\\"auto\\",\\"widgets\\":[{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"uninstallable-objects/data.json\\",\\"description\\":\\"These packages could not be installed. Note that currently they will also appear in the 'missing' documentation reports.\\\\n\\\\nThe specific error can be found in the package directory inside a file named 'uninstallable'\\\\n\\"},\\"title\\":\\"Package Versions Report | Uninstallable\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":6,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/typescript-documentation.json\\",\\"description\\":\\"These packages are missing typescript documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _typescript_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":12,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/typescript.json\\",\\"description\\":\\"These packages are missing typescript documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _typescript_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":18,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/python-documentation.json\\",\\"description\\":\\"These packages are missing python documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _python_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/python.json\\",\\"description\\":\\"These packages are missing python documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _python_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/java-documentation.json\\",\\"description\\":\\"These packages are missing java documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _java_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":36,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/java.json\\",\\"description\\":\\"These packages are missing java documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _java_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":42,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/csharp-documentation.json\\",\\"description\\":\\"These packages are missing csharp documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _csharp_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":48,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/csharp.json\\",\\"description\\":\\"These packages are missing csharp documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _csharp_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}}]}",
            ],
          ],
        },
        "DashboardName": "ConstructHubBackend-reports",
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubCodeArtifact1188409E": Object {
      "Properties": Object {
        "Description": "Proxy to npmjs.com for ConstructHub",
        "DomainName": "existing-domain-name",
        "ExternalConnections": Array [
          "public:npmjs",
        ],
        "RepositoryName": "c857fcb69e05ffe74ccbcc624c4f6a4017daeb8cbb",
        "Upstreams": Array [
          "repo-1",
          "repo-2",
        ],
      },
      "Type": "AWS::CodeArtifact::Repository",
    },
    "ConstructHubCodeArtifactGetEndpoint9A458FEF": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubCodeArtifactGetEndpointCustomResourcePolicy4FC951E9",
      ],
      "Properties": Object {
        "Create": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"service\\":\\"CodeArtifact\\",\\"action\\":\\"getRepositoryEndpoint\\",\\"parameters\\":{\\"domain\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubCodeArtifact1188409E",
                  "DomainName",
                ],
              },
              "\\",\\"domainOwner\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubCodeArtifact1188409E",
                  "DomainOwner",
                ],
              },
              "\\",\\"format\\":\\"npm\\",\\"repository\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubCodeArtifact1188409E",
                  "Name",
                ],
              },
              "\\"},\\"physicalResourceId\\":{\\"responsePath\\":\\"repositoryEndpoint\\"}}",
            ],
          ],
        },
        "InstallLatestAwsSdk": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
            "Arn",
          ],
        },
        "Update": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"service\\":\\"CodeArtifact\\",\\"action\\":\\"getRepositoryEndpoint\\",\\"parameters\\":{\\"domain\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubCodeArtifact1188409E",
                  "DomainName",
                ],
              },
              "\\",\\"domainOwner\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubCodeArtifact1188409E",
                  "DomainOwner",
                ],
              },
              "\\",\\"format\\":\\"npm\\",\\"repository\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubCodeArtifact1188409E",
                  "Name",
                ],
              },
              "\\"},\\"physicalResourceId\\":{\\"responsePath\\":\\"repositoryEndpoint\\"}}",
            ],
          ],
        },
      },
      "Type": "Custom::CodeArtifactNpmRepositoryEndpoint",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubCodeArtifactGetEndpointCustomResourcePolicy4FC951E9": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "codeartifact:GetRepositoryEndpoint",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubCodeArtifact1188409E",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubCodeArtifactGetEndpointCustomResourcePolicy4FC951E9",
        "Roles": Array [
          Object {
            "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubCodeArtifactGetPublishingEndpoint6394DEF7": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubCodeArtifactGetPublishingEndpointCustomResourcePolicyE039B00F",
      ],
      "Properties": Object {
        "Create": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"service\\":\\"CodeArtifact\\",\\"action\\":\\"getRepositoryEndpoint\\",\\"parameters\\":{\\"domain\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubCodeArtifact1188409E",
                  "DomainName",
                ],
              },
              "\\",\\"domainOwner\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubCodeArtifact1188409E",
                  "DomainOwner",
                ],
              },
              "\\",\\"format\\":\\"npm\\",\\"repository\\":\\"c857fcb69e05ffe74ccbcc624c4f6a4017daeb8cbb\\"},\\"physicalResourceId\\":{\\"responsePath\\":\\"repositoryEndpoint\\"}}",
            ],
          ],
        },
        "InstallLatestAwsSdk": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
            "Arn",
          ],
        },
        "Update": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"service\\":\\"CodeArtifact\\",\\"action\\":\\"getRepositoryEndpoint\\",\\"parameters\\":{\\"domain\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubCodeArtifact1188409E",
                  "DomainName",
                ],
              },
              "\\",\\"domainOwner\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubCodeArtifact1188409E",
                  "DomainOwner",
                ],
              },
              "\\",\\"format\\":\\"npm\\",\\"repository\\":\\"c857fcb69e05ffe74ccbcc624c4f6a4017daeb8cbb\\"},\\"physicalResourceId\\":{\\"responsePath\\":\\"repositoryEndpoint\\"}}",
            ],
          ],
        },
      },
      "Type": "Custom::CodeArtifactNpmRepositoryEndpoint",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubCodeArtifactGetPublishingEndpointCustomResourcePolicyE039B00F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "codeartifact:GetRepositoryEndpoint",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubCodeArtifact1188409E",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubCodeArtifactGetPublishingEndpointCustomResourcePolicyE039B00F",
        "Roles": Array [
          Object {
            "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubDenyListBucket1B3C2C2E": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "aws-cdk:auto-delete-objects",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketAllowBucketNotificationsToTestConstructHubDenyListPrunePruneHandler03826FC4A79351A0": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandler30B33551",
            "Arn",
          ],
        },
        "Principal": "s3.amazonaws.com",
        "SourceAccount": Object {
          "Ref": "AWS::AccountId",
        },
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListBucket1B3C2C2E",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubDenyListBucketAutoDeleteObjectsCustomResource997A3642": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListBucketPolicyA1878E10",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3AutoDeleteObjects",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketDeploymentAwsCliLayerEAC3D4DA": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubDenyListBucketDeploymentCustomResourceF835956B": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListBucketNotifications2269EB2A",
      ],
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "Prune": true,
        "RetainOnDelete": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketNotifications2269EB2A": Object {
      "DependsOn": Array [
        "ConstructHubDenyListBucketAllowBucketNotificationsToTestConstructHubDenyListPrunePruneHandler03826FC4A79351A0",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "Managed": true,
        "NotificationConfiguration": Object {
          "LambdaFunctionConfigurations": Array [
            Object {
              "Events": Array [
                "s3:ObjectCreated:*",
              ],
              "Filter": Object {
                "Key": Object {
                  "FilterRules": Array [
                    Object {
                      "Name": "suffix",
                      "Value": "deny-list.json",
                    },
                    Object {
                      "Name": "prefix",
                      "Value": "deny-list.json",
                    },
                  ],
                },
              },
              "LambdaFunctionArn": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPrunePruneHandler30B33551",
                  "Arn",
                ],
              },
            },
          ],
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3BucketNotifications",
    },
    "ConstructHubDenyListBucketPolicyA1878E10": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::GetAtt": Array [
                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                    "Arn",
                  ],
                },
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubDenyListFailoverBucketAutoDeleteObjectsCustomResource5A026600": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListFailoverBucketPolicy3B552017",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3AutoDeleteObjects",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListFailoverBucketBF1E05AD": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "aws-cdk:auto-delete-objects",
            "Value": "true",
          },
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListFailoverBucketPolicy3B552017": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListFailoverBucketBF1E05AD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListFailoverBucketBF1E05AD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::GetAtt": Array [
                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                    "Arn",
                  ],
                },
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListFailoverBucketBF1E05AD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListFailoverBucketBF1E05AD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubDenyListPeriodicPruneA981153D": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(5 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubDenyListPrunePruneHandler30B33551",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubDenyListPeriodicPruneAllowEventRuleTestConstructHubDenyListPrunePruneHandler03826FC486B0D780": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandler30B33551",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPeriodicPruneA981153D",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubDenyListPruneDeleteQueueBBF60185": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "VisibilityTimeout": 120,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListPrunePruneHandler30B33551": Object {
      "DependsOn": Array [
        "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA",
        "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3BucketAE80D773",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "backend/deny-list/prune-handler.lambda.ts",
        "Environment": Object {
          "Variables": Object {
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "ON_CHANGE_FUNCTION_NAME": Object {
              "Fn::GetAtt": Array [
                "ConstructHubOrchestrationCatalogBuilder7C964951",
                "Arn",
              ],
            },
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "PACKAGE_DATA_KEY_PREFIX": "data/",
            "PRUNE_QUEUE_URL": Object {
              "Ref": "ConstructHubDenyListPruneDeleteQueueBBF60185",
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B": Object {
      "DependsOn": Array [
        "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393",
        "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3BucketAC5DE359",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "backend/deny-list/prune-queue-handler.lambda.ts",
        "Environment": Object {
          "Variables": Object {
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerSqsEventSourceTestConstructHubDenyListPruneDeleteQueue04186FB403F01CBE": Object {
      "Properties": Object {
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPruneDeleteQueueBBF60185",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubFailoverPackageDataBA7D3B85": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "AbortIncompleteMultipartUpload": Object {
                "DaysAfterInitiation": 1,
              },
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionTransitions": Array [
                Object {
                  "StorageClass": "STANDARD_IA",
                  "TransitionInDays": 31,
                },
              ],
              "Status": "Enabled",
            },
            Object {
              "ExpiredObjectDeleteMarker": true,
              "NoncurrentVersionExpirationInDays": 90,
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionExpirationInDays": 7,
              "Prefix": "catalog.json",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubFailoverPackageDataPolicy89BCDF76": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubFailoverPackageDataBA7D3B85",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubFailoverPackageDataBA7D3B85",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubFailoverPackageDataBA7D3B85",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestion407909CE": Object {
      "DependsOn": Array [
        "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2",
        "ConstructHubIngestionServiceRole6380BAB6",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3BucketFE59B3A9",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Ingestion] Ingests new package versions into the Construct Hub",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CODE_ARTIFACT_DOMAIN_NAME": Object {
              "Fn::GetAtt": Array [
                "ConstructHubCodeArtifact1188409E",
                "DomainName",
              ],
            },
            "CODE_ARTIFACT_DOMAIN_OWNER": Object {
              "Fn::GetAtt": Array [
                "ConstructHubCodeArtifact1188409E",
                "DomainOwner",
              ],
            },
            "CODE_ARTIFACT_REPOSITORY_ENDPOINT": Object {
              "Fn::GetAtt": Array [
                "ConstructHubCodeArtifactGetPublishingEndpoint6394DEF7",
                "repositoryEndpoint",
              ],
            },
            "CONFIG_BUCKET_NAME": Object {
              "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
            },
            "CONFIG_FILE_KEY": "config.json",
            "STATE_MACHINE_ARN": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionServiceRole6380BAB6",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubIngestionConfigBucket0F0ED0B6": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubIngestionConfigBucketPolicyF096914C": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestionDLQ3E96A5F2": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionDLQAlarm83BD1903": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The dead-letter queue for the Ingestion function is not empty!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to the queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "
Direct link to the function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Ingestion/DLQNotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "m1 + m2",
            "Id": "expr_1",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubIngestionDLQ3E96A5F2",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "m2",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubIngestionDLQ3E96A5F2",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubIngestionDeployIngestionConfigurationAwsCliLayerF77955C2": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubIngestionDeployIngestionConfigurationCustomResourceD7F243C1": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
        },
        "Prune": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionFailoverConfigBucket079F82C3": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubIngestionFailoverConfigBucketPolicyD45F3F6D": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubIngestionFailoverConfigBucket079F82C3",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionFailoverConfigBucket079F82C3",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionFailoverConfigBucket079F82C3",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestionFailureAlarm9D0028DD": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The Ingestion function is failing!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to the function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Ingestion/Failure",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubIngestion407909CE",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubIngestionLogRetention98263C90": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubIngestionQueue1AD94CA3": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": Object {
          "deadLetterTargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubIngestionDLQ3E96A5F2",
              "Arn",
            ],
          },
          "maxReceiveCount": 5,
        },
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionReprocessQueueADCE803E": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": Object {
          "deadLetterTargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubIngestionDLQ3E96A5F2",
              "Arn",
            ],
          },
          "maxReceiveCount": 5,
        },
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E": Object {
      "DependsOn": Array [
        "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135",
        "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3Bucket5255533F",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Ingestion/ReIngest] The function used to reprocess packages through ingestion",
        "Environment": Object {
          "Variables": Object {
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "QUEUE_URL": Object {
              "Ref": "ConstructHubIngestionReprocessQueueADCE803E",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 180,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/metadata.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachine3708141C": Object {
      "DependsOn": Array [
        "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747",
        "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Has a ContinuationToken?\\",\\"States\\":{\\"Has a ContinuationToken?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.ContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"S3.ListObjectsV2(NextPage)\\"}],\\"Default\\":\\"S3.ListObjectsV2(FirstPage)\\"},\\"S3.ListObjectsV2(FirstPage)\\":{\\"Next\\":\\"Is there more?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Prefix\\":\\"data/\\"}},\\"Is there more?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Give room for on-demand work\\"}],\\"Default\\":\\"Process Result\\"},\\"S3.ListObjectsV2(NextPage)\\":{\\"Next\\":\\"Is there more?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.ContinuationToken\\",\\"Prefix\\":\\"data/\\"}},\\"Process Result\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"End\\":true,\\"Iterator\\":{\\"StartAt\\":\\"Is metadata object?\\",\\"States\\":{\\"Is metadata object?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.Key\\",\\"StringMatches\\":\\"*/metadata.json\\",\\"Next\\":\\"Send for reprocessing\\"}],\\"Default\\":\\"Nothing to do\\"},\\"Nothing to do\\":{\\"Type\\":\\"Succeed\\"},\\"Send for reprocessing\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke\\",\\"Parameters\\":{\\"FunctionName\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E",
                  "Arn",
                ],
              },
              "\\",\\"Payload.$\\":\\"$\\"}}}},\\"ItemsPath\\":\\"$.response.Contents\\"},\\"Continue as new\\":{\\"Next\\":\\"Process Result\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":null,\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution\\",\\"Parameters\\":{\\"Input\\":{\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:",
              Object {
                "Ref": "AWS::Region",
              },
              ":",
              Object {
                "Ref": "AWS::AccountId",
              },
              ":stateMachine:Test.ConstructHub.Ingestion.ReprocessWorkflow\\"}},\\"Give room for on-demand work\\":{\\"Type\\":\\"Wait\\",\\"Seconds\\":15,\\"Next\\":\\"Continue as new\\"}},\\"TimeoutSeconds\\":3600}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Ingestion.ReprocessWorkflow",
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":states:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":stateMachine:Test.ConstructHub.Ingestion.ReprocessWorkflow",
                  ],
                ],
              },
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionServiceRole6380BAB6": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "sts:GetServiceBearerToken",
              "Condition": Object {
                "StringEquals": Object {
                  "sts:AWSServiceName": "codeartifact.amazonaws.com",
                },
              },
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "codeartifact:GetAuthorizationToken",
                "codeartifact:GetRepositoryEndpoint",
                "codeartifact:ReadFromRepository",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":codeartifact:",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ":",
                      Object {
                        "Ref": "AWS::AccountId",
                      },
                      ":domain/existing-domain-name",
                    ],
                  ],
                },
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubCodeArtifact1188409E",
                    "Arn",
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "codeartifact:PublishPackageVersion",
                "codeartifact:PutPackageMetadata",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codeartifact:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":package/",
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubCodeArtifact1188409E",
                        "DomainName",
                      ],
                    },
                    "/c857fcb69e05ffe74ccbcc624c4f6a4017daeb8cbb/npm/*",
                  ],
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionServiceRole6380BAB6",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionDLQEC555E58E8FEA048": Object {
      "Properties": Object {
        "BatchSize": 1,
        "Enabled": false,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionDLQ3E96A5F2",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionQueue165B81E2C095FF2A": Object {
      "Properties": Object {
        "BatchSize": 1,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionQueue1AD94CA3",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionReprocessQueueEFA2CB8349836CD4": Object {
      "Properties": Object {
        "BatchSize": 1,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessQueueADCE803E",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubInventoryCanary63D899BC": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
        "ConstructHubInventoryCanaryServiceRole7684EDDE",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3Bucket9A67A1B5",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Inventory] A canary that periodically inspects the list of indexed packages",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanaryServiceRole7684EDDE",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubInventoryCanaryFailures5BDA8051": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The inventory canary is failing!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/InventoryCanary/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubInventoryCanary63D899BC",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 900,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubInventoryCanaryNotRunningAF44D71C": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The inventory canary is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/InventoryCanary/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubInventoryCanary63D899BC",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 900,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubInventoryCanaryScheduleRule79F2F8D8": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
      ],
      "Properties": Object {
        "ScheduleExpression": "rate(15 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubInventoryCanary63D899BC",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubInventoryCanaryScheduleRuleAllowEventRuleTestConstructHubInventoryCanary54F5B7AC7EBA7AB2": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanary63D899BC",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanaryScheduleRule79F2F8D8",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubInventoryCanaryServiceRole7684EDDE": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/*-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/*.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/uninstallable-objects/data.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubInventoryCanaryServiceRole7684EDDE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubLicenseListAwsCliLayer59592811": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubLicenseListBucket9334047F": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubLicenseListBucketPolicy817F92CD": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubLicenseListBucket9334047F",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubLicenseListCustomResource323F0FD4": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubLicenseListBucket9334047F",
        },
        "Prune": true,
        "RetainOnDelete": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubLicenseListFailoverBucketA96D2AAF": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubLicenseListFailoverBucketPolicy7F222A76": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubLicenseListFailoverBucketA96D2AAF",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListFailoverBucketA96D2AAF",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListFailoverBucketA96D2AAF",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubMonitoringHighSeverityDashboard8761DBAC": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"widgets\\":[{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Backend Orchestration Dead-Letter Queue is not empty\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQAlarm85EE7509",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":6,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Size Shrunk\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilderShrinkingCatalogAlarm48329E25",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":12,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Backend Orchestration Failed\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationOrchestrationFailed5AF50838",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":18,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Ingestion failures\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionFailureAlarm9D0028DD",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Home Page Canary\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubMonitoringWebCanaryHomePageErrorsE7BB4002",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"NpmJs/Follower Failures\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":36,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"NpmJs/Follower Not Running\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsFollowerNotRunningCEAF0E1E",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":42,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"New version visibility SLA breached\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsCanaryAlarmBE2B479E",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}}]}",
            ],
          ],
        },
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubMonitoringWatchfulDashboardB8493D55": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"widgets\\":[{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"markdown\\":\\"# Deny List - Prune Function\\\\n\\\\n[button:AWS Lambda Console](https://console.aws.amazon.com/lambda/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "?tab=graph) [button:CloudWatch Logs](https://console.aws.amazon.com/cloudwatch/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#logEventViewer:group=/aws/lambda/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":0,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocations/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":6,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Errors/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Errors > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":12,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Throttles/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Throttles\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Throttles > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":18,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Duration/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"p99\\",\\"stat\\":\\"p99\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"p99 > 720000 for 3 datapoints within 15 minutes\\",\\"value\\":720000,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":8,\\"properties\\":{\\"markdown\\":\\"# Deny List - Prune Delete Function\\\\n\\\\n[button:AWS Lambda Console](https://console.aws.amazon.com/lambda/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "?tab=graph) [button:CloudWatch Logs](https://console.aws.amazon.com/cloudwatch/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#logEventViewer:group=/aws/lambda/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":0,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocations/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":6,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Errors/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Errors > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":12,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Throttles/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Throttles\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Throttles > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":18,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Duration/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"label\\":\\"p99\\",\\"stat\\":\\"p99\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"p99 > 48000 for 3 datapoints within 15 minutes\\",\\"value\\":48000,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}}]}",
            ],
          ],
        },
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4DurationAlarm116EB85B": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "p99 latency >= 720s (80%)",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 3,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": "p99",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
                    },
                  },
                ],
                "MetricName": "Duration",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "p99",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 720000,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4ErrorsAlarm9E8C0618": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 errors per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4ThrottlesAlarm7A95EA66": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 throttles per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Throttles",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BDurationAlarm331A9019": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "p99 latency >= 48s (80%)",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 3,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": "p99",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
                    },
                  },
                ],
                "MetricName": "Duration",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "p99",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 48000,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BErrorsAlarm1C29CAE7": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 errors per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BThrottlesAlarm2F5C1946": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 throttles per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Throttles",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWebCanaryHomePageErrorsE7BB4002": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "80% error rate for https://",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppDistribution1F181DC9",
                  "DomainName",
                ],
              },
              " (Home Page)",
            ],
          ],
        },
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "https://",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppDistribution1F181DC9",
                      "DomainName",
                    ],
                  },
                  " Errors",
                ],
              ],
            },
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
                    },
                  },
                ],
                "MetricName": "Errors",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 4,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8": Object {
      "DependsOn": Array [
        "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3Bucket583A7087",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "HTTP GET https://",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppDistribution1F181DC9",
                  "DomainName",
                ],
              },
              ": Home Page",
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "URL": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "https://",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppDistribution1F181DC9",
                      "DomainName",
                    ],
                  },
                ],
              ],
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubMonitoringWebCanaryHomePageRuleAllowEventRuleTestConstructHubMonitoringWebCanaryHomePageHttpGetFunction941819C9E47F90EE": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageRuleE14F9F4E",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubMonitoringWebCanaryHomePageRuleE14F9F4E": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubOrchestration39161A46": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRoleDefaultPolicyEACD181F",
        "ConstructHubOrchestrationRoleF4CF6987",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Track Execution Infos\\",\\"States\\":{\\"Track Execution Infos\\":{\\"Type\\":\\"Pass\\",\\"ResultPath\\":\\"$.$TaskExecution\\",\\"InputPath\\":\\"$$.Execution\\",\\"Parameters\\":{\\"Id.$\\":\\"$.Id\\",\\"Name.$\\":\\"$.Name\\",\\"RoleArn.$\\":\\"$.RoleArn\\",\\"StartTime.$\\":\\"$.StartTime\\"},\\"Next\\":\\"Prepare doc-gen ECS Command\\"},\\"Prepare doc-gen ECS Command\\":{\\"Type\\":\\"Pass\\",\\"ResultPath\\":\\"$.docGen\\",\\"Parameters\\":{\\"command.$\\":\\"States.Array(States.JsonToString($))\\"},\\"Next\\":\\"Generate docs\\"},\\"Generate docs\\":{\\"Next\\":\\"Check whether catalog needs udpating\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"jsii-docgen.NoSpaceLeftOnDevice\\"],\\"MaxAttempts\\":0},{\\"ErrorEquals\\":[\\"ECS.AmazonECSException\\",\\"ECS.InvalidParameterException\\",\\"jsii-docgen.NpmError.E429\\",\\"jsii-codgen.NpmError.EPROTO\\"],\\"IntervalSeconds\\":120,\\"MaxAttempts\\":200,\\"BackoffRate\\":1},{\\"ErrorEquals\\":[\\"jsii-docgen.NpmError.ETARGET\\"],\\"IntervalSeconds\\":300,\\"MaxAttempts\\":3,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"MaxAttempts\\":3}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"UnprocessablePackageError\\"],\\"Next\\":\\"Ignore\\"},{\\"ErrorEquals\\":[\\"States.Timeout\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"ECS.AmazonECSException\\",\\"ECS.InvalidParameterException\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"TimeoutSeconds\\":7200,\\"HeartbeatSeconds\\":300,\\"InputPath\\":\\"$.docGen.command\\",\\"ResultPath\\":\\"$.docGenOutput\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::ecs:runTask.waitForTaskToken\\",\\"Parameters\\":{\\"Cluster\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCluster3D6F0081",
                  "Arn",
                ],
              },
              "\\",\\"TaskDefinition\\":\\"TestConstructHubOrchestrationTransliteratorTaskDefinition1C44F91E\\",\\"NetworkConfiguration\\":{\\"AwsvpcConfiguration\\":{\\"Subnets\\":[\\"",
              Object {
                "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1SubnetEA67D882",
              },
              "\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2SubnetC067C1B7",
              },
              "\\"],\\"SecurityGroups\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationGeneratedocsSecurityGroupC584DAC2",
                  "GroupId",
                ],
              },
              "\\"]}},\\"Overrides\\":{\\"ContainerOverrides\\":[{\\"Name\\":\\"Resource\\",\\"Command.$\\":\\"$\\",\\"Environment\\":[{\\"Name\\":\\"SFN_TASK_TOKEN\\",\\"Value.$\\":\\"$$.Task.Token\\"}]}]},\\"LaunchType\\":\\"FARGATE\\",\\"PlatformVersion\\":\\"1.4.0\\"}},\\"Check whether catalog needs udpating\\":{\\"Next\\":\\"Is catalog update needed?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\",\\"Lambda.Unknown\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\",\\"Lambda.Unknown\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.catalogNeedsUpdating\\",\\"Resource\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC",
                  "Arn",
                ],
              },
              "\\"},\\"Is catalog update needed?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.catalogNeedsUpdating\\",\\"BooleanEquals\\":true,\\"Next\\":\\"Add to catalog.json\\"}],\\"Default\\":\\"Done\\"},\\"Done\\":{\\"Type\\":\\"Succeed\\"},\\"Add to catalog.json\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.catalogBuilderOutput\\",\\"ResultSelector\\":{\\"ETag.$\\":\\"$.Payload.ETag\\",\\"VersionId.$\\":\\"$.Payload.VersionId\\"},\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke\\",\\"Parameters\\":{\\"FunctionName\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
              "\\",\\"Payload.$\\":\\"$\\"}},\\"Send to Dead Letter Queue\\":{\\"Next\\":\\"Sent to DLQ\\",\\"Type\\":\\"Task\\",\\"ResultPath\\":null,\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::sqs:sendMessage\\",\\"Parameters\\":{\\"QueueUrl\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationDLQ9C6D9BD4",
              },
              "\\",\\"MessageBody.$\\":\\"$\\"}},\\"Sent to DLQ\\":{\\"Type\\":\\"Succeed\\"},\\"Ignore\\":{\\"Type\\":\\"Pass\\",\\"End\\":true}},\\"TimeoutSeconds\\":86400}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRoleF4CF6987",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Orchestration",
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationCatalogBuilder7C964951": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5",
        "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3Bucket722FE70B",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Creates the catalog.json object in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "PassThrough",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationCatalogBuilderLogRetention04ED6996": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":lambda:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":function:*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationCatalogBuilderShrinkingCatalogAlarm48329E25": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The number of packages registered in the catalog.json object has shrunk by more than 5
elements. There might be a mass extinction event going on. This should be investigated
as soon as possible.

Catalog.json: /s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=catalog.json
Catalog Builder: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
              "

RUNBOOK: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/CatalogBuilder/ShrinkingCatalog",
        "ComparisonOperator": "LessThanThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "DIFF(FILL(m1, REPEAT))",
            "Id": "expr_1",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "RegisteredPackagesMajorVersion",
                "Namespace": "ConstructHub/CatalogBuilder",
              },
              "Period": 900,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": -5,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationCluster3D6F0081": Object {
      "Properties": Object {
        "ClusterSettings": Array [
          Object {
            "Name": "containerInsights",
            "Value": "enabled",
          },
        ],
      },
      "Type": "AWS::ECS::Cluster",
    },
    "ConstructHubOrchestrationCluster4C9C8AA6": Object {
      "Properties": Object {
        "CapacityProviders": Array [
          "FARGATE",
          "FARGATE_SPOT",
        ],
        "Cluster": Object {
          "Ref": "ConstructHubOrchestrationCluster3D6F0081",
        },
        "DefaultCapacityProviderStrategy": Array [],
      },
      "Type": "AWS::ECS::ClusterCapacityProviderAssociations",
    },
    "ConstructHubOrchestrationClusterVpcD5CC96DF": Object {
      "Properties": Object {
        "CidrBlock": "10.0.0.0/16",
        "EnableDnsHostnames": true,
        "EnableDnsSupport": true,
        "InstanceTenancy": "default",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc",
          },
        ],
      },
      "Type": "AWS::EC2::VPC",
    },
    "ConstructHubOrchestrationClusterVpcIGW824B9527": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc",
          },
        ],
      },
      "Type": "AWS::EC2::InternetGateway",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1DefaultRoute65613FDA": Object {
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1NATGatewayBF889500",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTable978A35E2",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTable978A35E2": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTableAssociation62534665": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTable978A35E2",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1SubnetEA67D882",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1SubnetEA67D882": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            0,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.128.0/18",
        "MapPublicIpOnLaunch": false,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2DefaultRouteF6579FD1": Object {
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2NATGateway70A454FD",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTable0BC880DB",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTable0BC880DB": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTableAssociation9FB50C41": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTable0BC880DB",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2SubnetC067C1B7",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2SubnetC067C1B7": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            1,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.192.0/18",
        "MapPublicIpOnLaunch": false,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1DefaultRouteAF6519CE": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationClusterVpcVPCGW7E73D481",
      ],
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcIGW824B9527",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableD384ACA4",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1EIP2D9D4C52": Object {
      "Properties": Object {
        "Domain": "vpc",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
      },
      "Type": "AWS::EC2::EIP",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1NATGatewayBF889500": Object {
      "Properties": Object {
        "AllocationId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationClusterVpcPublicSubnet1EIP2D9D4C52",
            "AllocationId",
          ],
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1Subnet10DB7A72",
        },
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
      },
      "Type": "AWS::EC2::NatGateway",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableAssociation31FB3CD6": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableD384ACA4",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1Subnet10DB7A72",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableD384ACA4": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1Subnet10DB7A72": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            0,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.0.0/18",
        "MapPublicIpOnLaunch": true,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2DefaultRouteED1B3A37": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationClusterVpcVPCGW7E73D481",
      ],
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcIGW824B9527",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableE3A3966D",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2EIPC9DD9674": Object {
      "Properties": Object {
        "Domain": "vpc",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
      },
      "Type": "AWS::EC2::EIP",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2NATGateway70A454FD": Object {
      "Properties": Object {
        "AllocationId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationClusterVpcPublicSubnet2EIPC9DD9674",
            "AllocationId",
          ],
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2Subnet899B70D2",
        },
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
      },
      "Type": "AWS::EC2::NatGateway",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableAssociationFB0694B7": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableE3A3966D",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2Subnet899B70D2",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableE3A3966D": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2Subnet899B70D2": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            1,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.64.0/18",
        "MapPublicIpOnLaunch": true,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcVPCGW7E73D481": Object {
      "Properties": Object {
        "InternetGatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcIGW824B9527",
        },
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::VPCGatewayAttachment",
    },
    "ConstructHubOrchestrationDLQ9C6D9BD4": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubOrchestrationDLQAlarm85EE7509": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Backend orchestration dead-letter queue is not empty.

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "
Warning: State Machines executions that sent messages to the DLQ will not show as \\"failed\\".",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/DLQ/NotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "m1 + m2",
            "Id": "expr_1",
            "Label": "Dead-Letter Queue not empty",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubOrchestrationDLQ9C6D9BD4",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "m2",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubOrchestrationDLQ9C6D9BD4",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationGeneratedocsSecurityGroupC584DAC2": Object {
      "Properties": Object {
        "GroupDescription": "Test/ConstructHub/Orchestration/Generate docs/SecurityGroup",
        "SecurityGroupEgress": Array [
          Object {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::SecurityGroup",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9",
        "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3BucketE78A0203",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Orchestration/NeedsCatalogUpdate] Determines whether a package version requires a catalog update",
        "Environment": Object {
          "Variables": Object {
            "CATALOG_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CATALOG_OBJECT_KEY": "catalog.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationOrchestrationFailed5AF50838": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Backend orchestration failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to state machine: /states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "
Warning: messages that resulted in a failed exectuion will NOT be in the DLQ!",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/Resource/ExecutionsFailed",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "StateMachineArn",
            "Value": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "ExecutionsFailed",
        "Namespace": "AWS/States",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationRedrive8DDBA67E": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436",
        "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3Bucket6F376B71",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Redrive] Manually redrives all messages from the backend dead letter queue",
        "Environment": Object {
          "Variables": Object {
            "QUEUE_URL": Object {
              "Ref": "ConstructHubOrchestrationDLQ9C6D9BD4",
            },
            "STATE_MACHINE_ARN": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationRedriveServiceRoleB84EFF33": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationE9FAB254": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86",
        "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Get prefix page\\",\\"States\\":{\\"Get prefix page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next prefixes page\\"}],\\"Default\\":\\"First prefix page\\"},\\"Has more prefixes?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get prefix page\\"}],\\"Default\\":\\"Done\\"},\\"For each prefix\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more prefixes?\\",\\"Iterator\\":{\\"StartAt\\":\\"Is this a @scope-- prefix?\\",\\"States\\":{\\"Is this a @scope-- prefix?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.Prefix\\",\\"StringMatches\\":\\"data/@*\\",\\"Next\\":\\"Get @scope page\\"}],\\"Default\\":\\"Process unscoped package\\"},\\"Process unscoped package\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution.sync:2\\",\\"Parameters\\":{\\"Input\\":{\\"Prefix.$\\":\\"$.Prefix\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
              "\\"}},\\"Get @scope page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next @scope page\\"}],\\"Default\\":\\"First @scope page\\"},\\"Has more packages?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get @scope page\\"}],\\"Default\\":\\"All Done\\"},\\"For each @scope--pkg\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more packages?\\",\\"Iterator\\":{\\"StartAt\\":\\"Process scoped package\\",\\"States\\":{\\"Process scoped package\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution.sync:2\\",\\"Parameters\\":{\\"Input\\":{\\"Prefix.$\\":\\"$.Prefix\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
              "\\"}}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First @scope page\\":{\\"Next\\":\\"For each @scope--pkg\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Next @scope page\\":{\\"Next\\":\\"For each @scope--pkg\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"All Done\\":{\\"Type\\":\\"Succeed\\"}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First prefix page\\":{\\"Next\\":\\"For each prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix\\":\\"data/\\"}},\\"Next prefixes page\\":{\\"Next\\":\\"For each prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix\\":\\"data/\\"}},\\"Done\\":{\\"Type\\":\\"Succeed\\"}},\\"TimeoutSeconds\\":14400}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Orchestration.RegenerateAllDocumentation",
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726",
        "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Get package versions page\\",\\"States\\":{\\"Get package versions page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next versions page\\"}],\\"Default\\":\\"First versions page\\"},\\"Has more versions?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get package versions page\\"}],\\"Default\\":\\"Success\\"},\\"For each key prefix\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more versions?\\",\\"Iterator\\":{\\"StartAt\\":\\"Start Orchestration Workflow\\",\\"States\\":{\\"Start Orchestration Workflow\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution\\",\\"Parameters\\":{\\"Input\\":{\\"bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"assembly\\":{\\"key.$\\":\\"States.Format('{}assembly.json', $.Prefix)\\"},\\"metadata\\":{\\"key.$\\":\\"States.Format('{}metadata.json', $.Prefix)\\"},\\"package\\":{\\"key.$\\":\\"States.Format('{}package.tgz', $.Prefix)\\"},\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\"}}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First versions page\\":{\\"Next\\":\\"For each key prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Next versions page\\":{\\"Next\\":\\"For each key prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Success\\":{\\"Type\\":\\"Succeed\\"}},\\"TimeoutSeconds\\":3600}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
            "Arn",
          ],
        },
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
            },
            Object {
              "Action": Array [
                "states:DescribeExecution",
                "states:StopExecution",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":states:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":execution:",
                    Object {
                      "Fn::Select": Array [
                        6,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
                            },
                          ],
                        },
                      ],
                    },
                    "*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "events:PutTargets",
                "events:PutRule",
                "events:DescribeRule",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":events:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":rule/StepFunctionsGetEventsForStepFunctionsExecutionRule",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRoleDefaultPolicyEACD181F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "ecs:RunTask",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Fn::Select": Array [
                        1,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        2,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        3,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        4,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        0,
                        Object {
                          "Fn::Split": Array [
                            "/",
                            Object {
                              "Fn::Select": Array [
                                5,
                                Object {
                                  "Fn::Split": Array [
                                    ":",
                                    Object {
                                      "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    "/",
                    Object {
                      "Fn::Select": Array [
                        1,
                        Object {
                          "Fn::Split": Array [
                            "/",
                            Object {
                              "Fn::Select": Array [
                                5,
                                Object {
                                  "Fn::Split": Array [
                                    ":",
                                    Object {
                                      "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "ecs:StopTask",
                "ecs:DescribeTasks",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "iam:PassRole",
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
                    "Arn",
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sqs:SendMessage",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRoleDefaultPolicyEACD181F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRoleF4CF6987",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRoleF4CF6987": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "RetentionInDays": 731,
      },
      "Type": "AWS::Logs::LogGroup",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566": Object {
      "Properties": Object {
        "ContainerDefinitions": Array [
          Object {
            "Environment": Array [
              Object {
                "Name": "HEADER_SPAN",
                "Value": "true",
              },
              Object {
                "Name": "AWS_EMF_ENVIRONMENT",
                "Value": "Local",
              },
              Object {
                "Name": "CODE_ARTIFACT_DOMAIN_NAME",
                "Value": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubCodeArtifact1188409E",
                    "DomainName",
                  ],
                },
              },
              Object {
                "Name": "CODE_ARTIFACT_DOMAIN_OWNER",
                "Value": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubCodeArtifact1188409E",
                    "DomainOwner",
                  ],
                },
              },
              Object {
                "Name": "CODE_ARTIFACT_REPOSITORY_ENDPOINT",
                "Value": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubCodeArtifactGetEndpoint9A458FEF",
                    "repositoryEndpoint",
                  ],
                },
              },
            ],
            "Essential": true,
            "Image": Object {
              "Fn::Join": Array [
                "",
                Array [
                  Object {
                    "Ref": "AWS::AccountId",
                  },
                  ".dkr.ecr.",
                  Object {
                    "Ref": "AWS::Region",
                  },
                  ".",
                  Object {
                    "Ref": "AWS::URLSuffix",
                  },
                  "/aws-cdk/assets:7c9e079743e720b70ff8ebb610b200b99b7bc6a53866e2da22f537f751de0ff4",
                ],
              ],
            },
            "LogConfiguration": Object {
              "LogDriver": "awslogs",
              "Options": Object {
                "awslogs-group": Object {
                  "Ref": "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                },
                "awslogs-region": Object {
                  "Ref": "AWS::Region",
                },
                "awslogs-stream-prefix": "transliterator",
              },
            },
            "Name": "Resource",
          },
        ],
        "Cpu": "4096",
        "ExecutionRoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
            "Arn",
          ],
        },
        "Family": "TestConstructHubOrchestrationTransliteratorTaskDefinition1C44F91E",
        "Memory": "8192",
        "NetworkMode": "awsvpc",
        "RequiresCompatibilities": Array [
          "FARGATE",
        ],
        "TaskRoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
            "Arn",
          ],
        },
      },
      "Type": "AWS::ECS::TaskDefinition",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "ecs-tasks.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleDefaultPolicyBDBF6E5D": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "ecr:BatchCheckLayerAvailability",
                "ecr:GetDownloadUrlForLayer",
                "ecr:BatchGetImage",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":ecr:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":repository/aws-cdk/assets",
                  ],
                ],
              },
            },
            Object {
              "Action": "ecr:GetAuthorizationToken",
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleDefaultPolicyBDBF6E5D",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "ecs-tasks.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleDefaultPolicyE0EED0F8": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "states:SendTaskFailure",
                "states:SendTaskHeartbeat",
                "states:SendTaskSuccess",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "sts:GetServiceBearerToken",
              "Condition": Object {
                "StringEquals": Object {
                  "sts:AWSServiceName": "codeartifact.amazonaws.com",
                },
              },
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "codeartifact:GetAuthorizationToken",
                "codeartifact:GetRepositoryEndpoint",
                "codeartifact:ReadFromRepository",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":codeartifact:",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ":",
                      Object {
                        "Ref": "AWS::AccountId",
                      },
                      ":domain/existing-domain-name",
                    ],
                  ],
                },
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubCodeArtifact1188409E",
                    "Arn",
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/assembly.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/uninstallable",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/uninstallable",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/uninstallable",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-typescript.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-typescript.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-python.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-python.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-java.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-java.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-csharp.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-csharp.*.corruptassembly",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleDefaultPolicyE0EED0F8",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubPackageDataDC5EF35E": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "AbortIncompleteMultipartUpload": Object {
                "DaysAfterInitiation": 1,
              },
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionTransitions": Array [
                Object {
                  "StorageClass": "STANDARD_IA",
                  "TransitionInDays": 31,
                },
              ],
              "Status": "Enabled",
            },
            Object {
              "ExpiredObjectDeleteMarker": true,
              "NoncurrentVersionExpirationInDays": 90,
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionExpirationInDays": 7,
              "Prefix": "catalog.json",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubPackageDataPolicy4615475A": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubPackageDataDC5EF35E",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:GetObject",
              "Effect": "Allow",
              "Principal": Object {
                "CanonicalUser": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4",
                    "S3CanonicalUserId",
                  ],
                },
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubPackageStatsFailures833C3D9B": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The package stats function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/PackageStats/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubStats61DB07B1",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "ExpirationInDays": 30,
              "Prefix": "staged/",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubSourcesFailoverNpmJsStagingBucketPolicy00182F29": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubSourcesNpmJs15A77D2D": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22",
        "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3Bucket024B3DC6",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJs] Periodically query npmjs.com index for new packages",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "FUNCTION_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
            },
            "LICENSE_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubLicenseListBucket9334047F",
            },
            "LICENSE_LIST_OBJECT_KEY": "allowed-licenses.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 300,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsCanary5558FC45": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
        "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3Bucket37F2908E",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJs/PackageCanary] Monitors construct-hub-probe versions availability",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "CONSTRUCT_HUB_BASE_URL": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "https://",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppDistribution1F181DC9",
                      "DomainName",
                    ],
                  },
                ],
              ],
            },
            "PACKAGE_CANARY_BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "PACKAGE_NAME": "construct-hub-probe",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsCanaryAlarmBE2B479E": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": "New versions of construct-hub-probe have been published over 5 minutes ago and are still not visible in construct hub
Runbook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Canary/SLA-Breached",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 2,
        "Metrics": Array [
          Object {
            "Expression": "MAX([mDwell, mTTC])",
            "Id": "expr_1",
          },
          Object {
            "Id": "mDwell",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "DwellTime",
                "Namespace": "ConstructHub/PackageCanary",
              },
              "Period": 60,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "mTTC",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "TimeToCatalog",
                "Namespace": "ConstructHub/PackageCanary",
              },
              "Period": 60,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 300,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsCanarySchedule4D94219F": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
      ],
      "Properties": Object {
        "Description": "Scheduled executions of the NpmJS package canary",
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubSourcesNpmJsCanary5558FC45",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubSourcesNpmJsCanaryScheduleAllowEventRuleTestConstructHubSourcesNpmJsCanary47220A990ABB5DFD": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanary5558FC45",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanarySchedule4D94219F",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/package-canary/*.state.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubSourcesNpmJs15A77D2D",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsFollowerNoChanges2CB08C93": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function is no discovering any changes from CouchDB!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/NoChanges",
        "ComparisonOperator": "LessThanThreshold",
        "EvaluationPeriods": 2,
        "MetricName": "ChangeCount",
        "Namespace": "ConstructHub/PackageSource/NpmJs/Follower",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsFollowerNotRunningCEAF0E1E": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsScheduleAllowEventRuleTestConstructHubSourcesNpmJs5171C2A673CCB598",
        "ConstructHubSourcesNpmJsSchedule34031870",
      ],
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubSourcesNpmJs15A77D2D",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsSchedule34031870": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
      ],
      "Properties": Object {
        "Description": "Test/ConstructHub/Sources/NpmJs/Schedule",
        "ScheduleExpression": "rate(5 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubSourcesNpmJs15A77D2D",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubSourcesNpmJsScheduleAllowEventRuleTestConstructHubSourcesNpmJs5171C2A673CCB598": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJs15A77D2D",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsSchedule34031870",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/couchdb-last-transaction-id.2",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsStageAndNotify591C0CFA": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F",
        "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3Bucket8AF0E263",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "DeadLetterConfig": Object {
          "TargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubSourcesStagerDLQ80BD2600",
              "Arn",
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJS-StageAndNotify] Stages tarballs to S3 and notifies ConstructHub",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "QUEUE_URL": Object {
              "Ref": "ConstructHubIngestionQueue1AD94CA3",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 300,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyEventInvokeConfigF58F658E": Object {
      "Properties": Object {
        "FunctionName": Object {
          "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
        },
        "MaximumRetryAttempts": 2,
        "Qualifier": "$LATEST",
      },
      "Type": "AWS::Lambda::EventInvokeConfig",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sqs:SendMessage",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsStageAndNotifySqsEventSourceTestConstructHubSourcesStagerDLQC4F4F3F95658073F": Object {
      "Properties": Object {
        "BatchSize": 1,
        "Enabled": false,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesStagerDLQ80BD2600",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubSourcesNpmJsStagingBucketB286F0E6": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "ExpirationInDays": 30,
              "Prefix": "staged/",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubSourcesNpmJsStagingBucketPolicy06788ED9": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubSourcesStagerDLQ80BD2600": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubSourcesTestConstructHubSourcesNpmJsStagerDLQNotEmpty30787871": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJS package stager is failing - its dead letter queue is not empty/n/nLink to the lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "/nLink to the dead letter queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "/n/nRunbook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Stager/DLQNotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "mVisible + mHidden",
            "Id": "expr_1",
          },
          Object {
            "Id": "mVisible",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubSourcesStagerDLQ80BD2600",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "mHidden",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubSourcesStagerDLQ80BD2600",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubStats61DB07B1": Object {
      "DependsOn": Array [
        "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA",
        "ConstructHubStatsServiceRole48DCA379",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3Bucket3D1A3222",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Creates the stats.json object in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "CATALOG_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CATALOG_OBJECT_KEY": "catalog.json",
            "STATS_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "STATS_OBJECT_KEY": "stats.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 256,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStatsServiceRole48DCA379",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "PassThrough",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubStatsLogRetentionDD577705": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubStatsRuleAllowEventRuleTestConstructHubStatsA5392874C4495EDA": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStats61DB07B1",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStatsRuleEEDEC976",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubStatsRuleEEDEC976": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(1 day)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubStats61DB07B1",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubStatsServiceRole48DCA379": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubStatsServiceRole48DCA379",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubVersionTrackerD5E8AEAE": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
        "ConstructHubVersionTrackerServiceRole721EE863",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3Bucket86412295",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "[Test/ConstructHub/VersionTracker] Creates the all-versions.json in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "PACKAGE_DATA_KEY_PREFIX": "data/",
            "VERSION_TRACKER_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "VERSION_TRACKER_OBJECT_KEY": "all-versions.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerServiceRole721EE863",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubVersionTrackerFailures00296806": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The version tracker function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/VersionTracker/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubVersionTrackerD5E8AEAE",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubVersionTrackerLogRetention6BB4E813": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubVersionTrackerNotRunning2FBC5BDA": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The version tracker function is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/VersionTracker/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubVersionTrackerD5E8AEAE",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 60,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubVersionTrackerRuleAllowEventRuleTestConstructHubVersionTracker969692245DE33940": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerD5E8AEAE",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerRuleD147E5BF",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubVersionTrackerRuleD147E5BF": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
      ],
      "Properties": Object {
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubVersionTrackerD5E8AEAE",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubVersionTrackerServiceRole721EE863": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubVersionTrackerServiceRole721EE863",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B": Object {
      "Properties": Object {
        "AutoPublish": true,
        "FunctionCode": "\\"use strict\\";
function handler(event) {
    var response = event.response;
    var headers = response.headers;
    headers['x-frame-options'] = { value: 'deny' };
    headers['x-xss-protection'] = { value: '1; mode=block' };
    headers['x-content-type-options'] = { value: 'nosniff' };
    headers['strict-transport-security'] = { value: 'max-age=47304000; includeSubDomains' };
    headers['content-security-policy'] = {
        value: [
            \\"default-src 'self' 'unsafe-inline' https://*.awsstatic.com;\\",
            \\"connect-src 'self' https://*.shortbread.aws.dev https://a0.awsstatic.com/ https://amazonwebservices.d2.sc.omtrdc.net https://aws.demdex.net https://dpm.demdex.net https://cm.everesttech.net;\\",
            'frame-src https://aws.demdex.net https://dpm.demdex.net;',
            \\"img-src 'self' https://* https://a0.awsstatic.com/ https://amazonwebservices.d2.sc.omtrdc.net https://aws.demdex.net https://dpm.demdex.net https://cm.everesttech.net;\\",
            \\"object-src 'none';\\",
            \\"style-src 'self' 'unsafe-inline';\\",
        ].join(' '),
    };
    return response;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzcG9uc2UtZnVuY3Rpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvd2ViYXBwL3Jlc3BvbnNlLWZ1bmN0aW9uL3Jlc3BvbnNlLWZ1bmN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFTQSxTQUFTLE9BQU8sQ0FBQyxLQUF5QjtJQUN4QyxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO0lBQzlCLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUM7SUFFL0IsT0FBTyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUM7SUFDL0MsT0FBTyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLENBQUM7SUFDekQsT0FBTyxDQUFDLHdCQUF3QixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUM7SUFDekQsT0FBTyxDQUFDLDJCQUEyQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUscUNBQXFDLEVBQUUsQ0FBQztJQUN4RixPQUFPLENBQUMseUJBQXlCLENBQUMsR0FBRztRQUNuQyxLQUFLLEVBQ0w7WUFDRSw2REFBNkQ7WUFDN0QsZ01BQWdNO1lBQ2hNLDBEQUEwRDtZQUMxRCx5S0FBeUs7WUFDekssb0JBQW9CO1lBQ3BCLG1DQUFtQztTQUNwQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7S0FDWixDQUFDO0lBRUYsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImludGVyZmFjZSBDbG91ZEZyb250UmVzcG9uc2Uge1xuICByZXNwb25zZTogYW55O1xuICBoZWFkZXJzOiB7XG4gICAgW2tleTogc3RyaW5nXToge1xuICAgICAgdmFsdWU6IHN0cmluZztcbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVyKGV2ZW50OiBDbG91ZEZyb250UmVzcG9uc2UpIHtcbiAgdmFyIHJlc3BvbnNlID0gZXZlbnQucmVzcG9uc2U7XG4gIHZhciBoZWFkZXJzID0gcmVzcG9uc2UuaGVhZGVycztcblxuICBoZWFkZXJzWyd4LWZyYW1lLW9wdGlvbnMnXSA9IHsgdmFsdWU6ICdkZW55JyB9O1xuICBoZWFkZXJzWyd4LXhzcy1wcm90ZWN0aW9uJ10gPSB7IHZhbHVlOiAnMTsgbW9kZT1ibG9jaycgfTtcbiAgaGVhZGVyc1sneC1jb250ZW50LXR5cGUtb3B0aW9ucyddID0geyB2YWx1ZTogJ25vc25pZmYnIH07XG4gIGhlYWRlcnNbJ3N0cmljdC10cmFuc3BvcnQtc2VjdXJpdHknXSA9IHsgdmFsdWU6ICdtYXgtYWdlPTQ3MzA0MDAwOyBpbmNsdWRlU3ViRG9tYWlucycgfTtcbiAgaGVhZGVyc1snY29udGVudC1zZWN1cml0eS1wb2xpY3knXSA9IHtcbiAgICB2YWx1ZTpcbiAgICBbXG4gICAgICBcImRlZmF1bHQtc3JjICdzZWxmJyAndW5zYWZlLWlubGluZScgaHR0cHM6Ly8qLmF3c3N0YXRpYy5jb207XCIsXG4gICAgICBcImNvbm5lY3Qtc3JjICdzZWxmJyBodHRwczovLyouc2hvcnRicmVhZC5hd3MuZGV2IGh0dHBzOi8vYTAuYXdzc3RhdGljLmNvbS8gaHR0cHM6Ly9hbWF6b253ZWJzZXJ2aWNlcy5kMi5zYy5vbXRyZGMubmV0IGh0dHBzOi8vYXdzLmRlbWRleC5uZXQgaHR0cHM6Ly9kcG0uZGVtZGV4Lm5ldCBodHRwczovL2NtLmV2ZXJlc3R0ZWNoLm5ldDtcIixcbiAgICAgICdmcmFtZS1zcmMgaHR0cHM6Ly9hd3MuZGVtZGV4Lm5ldCBodHRwczovL2RwbS5kZW1kZXgubmV0OycsXG4gICAgICBcImltZy1zcmMgJ3NlbGYnIGh0dHBzOi8vKiBodHRwczovL2EwLmF3c3N0YXRpYy5jb20vIGh0dHBzOi8vYW1hem9ud2Vic2VydmljZXMuZDIuc2Mub210cmRjLm5ldCBodHRwczovL2F3cy5kZW1kZXgubmV0IGh0dHBzOi8vZHBtLmRlbWRleC5uZXQgaHR0cHM6Ly9jbS5ldmVyZXN0dGVjaC5uZXQ7XCIsXG4gICAgICBcIm9iamVjdC1zcmMgJ25vbmUnO1wiLFxuICAgICAgXCJzdHlsZS1zcmMgJ3NlbGYnICd1bnNhZmUtaW5saW5lJztcIixcbiAgICBdLmpvaW4oJyAnKSxcbiAgfTtcblxuICByZXR1cm4gcmVzcG9uc2U7XG59XG4iXX0=",
        "FunctionConfig": Object {
          "Comment": "AddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9",
          "Runtime": "cloudfront-js-1.0",
        },
        "Name": "AddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9",
      },
      "Type": "AWS::CloudFront::Function",
    },
    "ConstructHubWebAppDeployWebsiteAwsCliLayer23CFFBC1": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubWebAppDeployWebsiteConfigAwsCliLayer8DFDB17A": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubWebAppDeployWebsiteConfigCustomResource2D18C708": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "DistributionId": Object {
          "Ref": "ConstructHubWebAppDistribution1F181DC9",
        },
        "Prune": false,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
          },
          Object {
            "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
        "SystemMetadata": Object {
          "cache-control": "public, max-age=300, must-revalidate, s-maxage=60, proxy-revalidate",
        },
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubWebAppDeployWebsiteCustomResourceE6DF98C9": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "DistributionId": Object {
          "Ref": "ConstructHubWebAppDistribution1F181DC9",
        },
        "Prune": false,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
        "SystemMetadata": Object {
          "cache-control": "public, max-age=300, must-revalidate, s-maxage=60, proxy-revalidate",
        },
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubWebAppDistribution1F181DC9": Object {
      "Properties": Object {
        "DistributionConfig": Object {
          "CacheBehaviors": Array [
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/data/*",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/catalog.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/all-versions.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/stats.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
          ],
          "CustomErrorResponses": Array [
            Object {
              "ErrorCode": 404,
              "ResponseCode": 200,
              "ResponsePagePath": "/index.html",
            },
            Object {
              "ErrorCode": 403,
              "ResponseCode": 200,
              "ResponsePagePath": "/index.html",
            },
          ],
          "DefaultCacheBehavior": Object {
            "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
            "Compress": true,
            "FunctionAssociations": Array [
              Object {
                "EventType": "viewer-response",
                "FunctionARN": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                    "FunctionARN",
                  ],
                },
              },
            ],
            "TargetOriginId": "TestConstructHubWebAppDistributionOrigin171FF58D3",
            "ViewerProtocolPolicy": "allow-all",
          },
          "DefaultRootObject": "index.html",
          "Enabled": true,
          "HttpVersion": "http2",
          "IPV6Enabled": true,
          "Origins": Array [
            Object {
              "DomainName": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                  "RegionalDomainName",
                ],
              },
              "Id": "TestConstructHubWebAppDistributionOrigin171FF58D3",
              "S3OriginConfig": Object {
                "OriginAccessIdentity": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "origin-access-identity/cloudfront/",
                      Object {
                        "Ref": "ConstructHubWebAppDistributionOrigin1S3Origin694AF937",
                      },
                    ],
                  ],
                },
              },
            },
            Object {
              "DomainName": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "RegionalDomainName",
                ],
              },
              "Id": "TestConstructHubWebAppDistributionOrigin276090F90",
              "S3OriginConfig": Object {
                "OriginAccessIdentity": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "origin-access-identity/cloudfront/",
                      Object {
                        "Ref": "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4",
                      },
                    ],
                  ],
                },
              },
            },
          ],
        },
      },
      "Type": "AWS::CloudFront::Distribution",
    },
    "ConstructHubWebAppDistributionOrigin1S3Origin694AF937": Object {
      "Properties": Object {
        "CloudFrontOriginAccessIdentityConfig": Object {
          "Comment": "Identity for TestConstructHubWebAppDistributionOrigin171FF58D3",
        },
      },
      "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
    },
    "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4": Object {
      "Properties": Object {
        "CloudFrontOriginAccessIdentityConfig": Object {
          "Comment": "Identity for TestConstructHubWebAppDistributionOrigin276090F90",
        },
      },
      "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
    },
    "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubWebAppFailoverWebsiteBucketPolicy7303D09F": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubWebAppWebsiteBucket4B2B9DB2": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubWebAppWebsiteBucketPolicy17174C06": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:GetObject",
              "Effect": "Allow",
              "Principal": Object {
                "CanonicalUser": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppDistributionOrigin1S3Origin694AF937",
                    "S3CanonicalUserId",
                  ],
                },
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536": Object {
      "DependsOn": Array [
        "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
        "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3BucketD1AD544E",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Handler": "index.handler",
        "Layers": Array [
          Object {
            "Ref": "ConstructHubDenyListBucketDeploymentAwsCliLayerEAC3D4DA",
          },
        ],
        "Role": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
            "Arn",
          ],
        },
        "Runtime": "python3.7",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "cloudfront:GetInvalidation",
                "cloudfront:CreateInvalidation",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
        "Roles": Array [
          Object {
            "Ref": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F": Object {
      "DependsOn": Array [
        "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3Bucket4842F32D",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Lambda function for auto-deleting objects in ",
              Object {
                "Ref": "ConstructHubDenyListBucket1B3C2C2E",
              },
              " S3 bucket.",
            ],
          ],
        },
        "Handler": "__entrypoint__.handler",
        "MemorySize": 128,
        "Role": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
            "Arn",
          ],
        },
        "Runtime": "nodejs12.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Sub": "arn:\${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A": Object {
      "DependsOn": Array [
        "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB",
        "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3Bucket2070BA0A",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:PutRetentionPolicy",
                "logs:DeleteRetentionPolicy",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB",
        "Roles": Array [
          Object {
            "Ref": "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2": Object {
      "DependsOn": Array [
        "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D",
        "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3BucketCBEF8050",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/MissingDocumentationWidget] Is a custom CloudWatch widget handler",
        "Environment": Object {
          "Variables": Object {
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "OBJECT_KEY": "uninstallable-objects/data.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Tags": Array [
          Object {
            "Key": "function-purpose",
            "Value": "cloudwatch-custom-widget",
          },
        ],
        "Timeout": 15,
      },
      "Type": "AWS::Lambda::Function",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
        "Tags": Array [
          Object {
            "Key": "function-purpose",
            "Value": "cloudwatch-custom-widget",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/uninstallable-objects/data.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/typescript-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/typescript.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/python-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/python.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/java-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/java.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/csharp-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/csharp.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D",
        "Roles": Array [
          Object {
            "Ref": "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
  },
}
`;

exports[`with all internet access 1`] = `
Object {
  "Outputs": Object {
    "ConstructHubDenyListSnapshotCommand3E133B03": Object {
      "Description": "Snapshot Test/ConstructHub/DenyList/Bucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
            },
          ],
        ],
      },
    },
    "ConstructHubIngestionSnapshotCommand746AF5B0": Object {
      "Description": "Snapshot Test/ConstructHub/Ingestion/ConfigBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubIngestionFailoverConfigBucket079F82C3",
            },
          ],
        ],
      },
    },
    "ConstructHubLicenseListSnapshotCommandB9EA2EF4": Object {
      "Description": "Snapshot Test/ConstructHub/LicenseList/Bucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubLicenseListBucket9334047F",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubLicenseListFailoverBucketA96D2AAF",
            },
          ],
        ],
      },
    },
    "ConstructHubMonitoringWatchfulWatchfulDashboard75D318D0": Object {
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "https://console.aws.amazon.com/cloudwatch/home?region=",
            Object {
              "Ref": "AWS::Region",
            },
            "#dashboards:name=",
            Object {
              "Ref": "ConstructHubMonitoringWatchfulDashboardB8493D55",
            },
          ],
        ],
      },
    },
    "ConstructHubSnapshotCommandDD3886DA": Object {
      "Description": "Snapshot Test/ConstructHub/PackageData",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubFailoverPackageDataBA7D3B85",
            },
          ],
        ],
      },
    },
    "ConstructHubSourcesSnapshotCommandB1EF760F": Object {
      "Description": "Snapshot Test/ConstructHub/Sources/NpmJs--StagingBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
            },
          ],
        ],
      },
    },
    "ConstructHubWebAppDomainNameDC10F8DD": Object {
      "Export": Object {
        "Name": "ConstructHubDomainName",
      },
      "Value": Object {
        "Fn::GetAtt": Array [
          "ConstructHubWebAppDistribution1F181DC9",
          "DomainName",
        ],
      },
    },
    "ConstructHubWebAppSnapshotCommandC5AF418E": Object {
      "Description": "Snapshot Test/ConstructHub/WebApp/WebsiteBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
            },
          ],
        ],
      },
    },
  },
  "Parameters": Object {
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6ArtifactHashF2EEEBFF": Object {
      "Description": "Artifact hash for asset \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3Bucket86412295": Object {
      "Description": "S3 bucket for asset \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01": Object {
      "Description": "S3 key for asset version \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440ArtifactHash87A9FF22": Object {
      "Description": "Artifact hash for asset \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054": Object {
      "Description": "S3 bucket for asset \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49": Object {
      "Description": "S3 key for asset version \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9ArtifactHashB9E3BF29": Object {
      "Description": "Artifact hash for asset \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF": Object {
      "Description": "S3 bucket for asset \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876": Object {
      "Description": "S3 key for asset version \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1ArtifactHash0128B949": Object {
      "Description": "Artifact hash for asset \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3Bucket4842F32D": Object {
      "Description": "S3 bucket for asset \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A": Object {
      "Description": "S3 key for asset version \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5ArtifactHash0AFE0939": Object {
      "Description": "Artifact hash for asset \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3Bucket722FE70B": Object {
      "Description": "S3 bucket for asset \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC": Object {
      "Description": "S3 key for asset version \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5ArtifactHash499F6DFF": Object {
      "Description": "Artifact hash for asset \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3Bucket37F2908E": Object {
      "Description": "S3 bucket for asset \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11": Object {
      "Description": "S3 key for asset version \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787ArtifactHash1BD3190B": Object {
      "Description": "Artifact hash for asset \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3BucketFE59B3A9": Object {
      "Description": "S3 bucket for asset \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588": Object {
      "Description": "S3 key for asset version \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dArtifactHash3B82A2B3": Object {
      "Description": "Artifact hash for asset \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3BucketCBEF8050": Object {
      "Description": "S3 bucket for asset \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381": Object {
      "Description": "S3 key for asset version \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bArtifactHash5ABBFB9B": Object {
      "Description": "Artifact hash for asset \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3Bucket8AF0E263": Object {
      "Description": "S3 bucket for asset \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545": Object {
      "Description": "S3 key for asset version \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeArtifactHash3FAC57D3": Object {
      "Description": "Artifact hash for asset \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3Bucket6F376B71": Object {
      "Description": "S3 bucket for asset \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804": Object {
      "Description": "S3 key for asset version \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177ArtifactHashF4EB5524": Object {
      "Description": "Artifact hash for asset \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC": Object {
      "Description": "S3 bucket for asset \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9": Object {
      "Description": "S3 key for asset version \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900ArtifactHash121EF458": Object {
      "Description": "Artifact hash for asset \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865": Object {
      "Description": "S3 bucket for asset \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20": Object {
      "Description": "S3 key for asset version \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9ArtifactHash694505BF": Object {
      "Description": "Artifact hash for asset \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0": Object {
      "Description": "S3 bucket for asset \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4": Object {
      "Description": "S3 key for asset version \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064ArtifactHashEA963870": Object {
      "Description": "Artifact hash for asset \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2": Object {
      "Description": "S3 bucket for asset \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37": Object {
      "Description": "S3 key for asset version \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4ArtifactHash660A50B8": Object {
      "Description": "Artifact hash for asset \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3BucketE78A0203": Object {
      "Description": "S3 bucket for asset \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7": Object {
      "Description": "S3 key for asset version \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8ArtifactHash238275D6": Object {
      "Description": "Artifact hash for asset \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3BucketD1AD544E": Object {
      "Description": "S3 bucket for asset \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70": Object {
      "Description": "S3 key for asset version \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827ArtifactHash1355580A": Object {
      "Description": "Artifact hash for asset \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3Bucket2070BA0A": Object {
      "Description": "S3 bucket for asset \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3": Object {
      "Description": "S3 key for asset version \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73ArtifactHashE8AF1E10": Object {
      "Description": "Artifact hash for asset \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3Bucket9A67A1B5": Object {
      "Description": "S3 bucket for asset \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5": Object {
      "Description": "S3 key for asset version \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcArtifactHash4E26EEC4": Object {
      "Description": "Artifact hash for asset \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3Bucket5255533F": Object {
      "Description": "S3 bucket for asset \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675": Object {
      "Description": "S3 key for asset version \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009ArtifactHash0AE6829F": Object {
      "Description": "Artifact hash for asset \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3Bucket3D1A3222": Object {
      "Description": "S3 bucket for asset \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC": Object {
      "Description": "S3 key for asset version \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aArtifactHash0386B8EC": Object {
      "Description": "Artifact hash for asset \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3BucketAE80D773": Object {
      "Description": "S3 bucket for asset \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F": Object {
      "Description": "S3 key for asset version \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efArtifactHashE5DEFDE2": Object {
      "Description": "Artifact hash for asset \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3Bucket583A7087": Object {
      "Description": "S3 bucket for asset \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839": Object {
      "Description": "S3 key for asset version \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68ArtifactHashD9A515C3": Object {
      "Description": "Artifact hash for asset \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7": Object {
      "Description": "S3 bucket for asset \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F": Object {
      "Description": "S3 key for asset version \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3ArtifactHash11DB5971": Object {
      "Description": "Artifact hash for asset \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3BucketAC5DE359": Object {
      "Description": "S3 bucket for asset \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC": Object {
      "Description": "S3 key for asset version \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5ArtifactHash185A4671": Object {
      "Description": "Artifact hash for asset \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3Bucket024B3DC6": Object {
      "Description": "S3 bucket for asset \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859": Object {
      "Description": "S3 key for asset version \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
  },
  "Resources": Object {
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691": Object {
      "DependsOn": Array [
        "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
        "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
      ],
      "Properties": Object {
        "Code": Object {
          "ZipFile": "import boto3  # type: ignore
import json
import logging
import urllib.request

s3 = boto3.client(\\"s3\\")

CONFIGURATION_TYPES = [\\"TopicConfigurations\\", \\"QueueConfigurations\\", \\"LambdaFunctionConfigurations\\"]

def handler(event: dict, context):
    response_status = \\"SUCCESS\\"
    error_message = \\"\\"
    try:
        props = event[\\"ResourceProperties\\"]
        bucket = props[\\"BucketName\\"]
        notification_configuration = props[\\"NotificationConfiguration\\"]
        request_type = event[\\"RequestType\\"]
        managed = props.get('Managed', 'true').lower() == 'true'
        stack_id = event['StackId']

        if managed:
          config = handle_managed(request_type, notification_configuration)
        else:
          config = handle_unmanaged(bucket, stack_id, request_type, notification_configuration)

        put_bucket_notification_configuration(bucket, config)
    except Exception as e:
        logging.exception(\\"Failed to put bucket notification configuration\\")
        response_status = \\"FAILED\\"
        error_message = f\\"Error: {str(e)}. \\"
    finally:
        submit_response(event, context, response_status, error_message)


def handle_managed(request_type, notification_configuration):
  if request_type == 'Delete':
    return {}
  return notification_configuration


def handle_unmanaged(bucket, stack_id, request_type, notification_configuration):

  # find external notifications
  external_notifications = find_external_notifications(bucket, stack_id)

  # if delete, that's all we need
  if request_type == 'Delete':
    return external_notifications

  def with_id(notification):
    notification['Id'] = f\\"{stack_id}-{hash(json.dumps(notification, sort_keys=True))}\\"
    return notification

  # otherwise, merge external with incoming config and augment with id
  notifications = {}
  for t in CONFIGURATION_TYPES:
    external = external_notifications.get(t, [])
    incoming = [with_id(n) for n in notification_configuration.get(t, [])]
    notifications[t] = external + incoming
  return notifications


def find_external_notifications(bucket, stack_id):
  existing_notifications = get_bucket_notification_configuration(bucket)
  external_notifications = {}
  for t in CONFIGURATION_TYPES:
    # if the notification was created by us, we know what id to expect
    # so we can filter by it.
    external_notifications[t] = [n for n in existing_notifications.get(t, []) if not n['Id'].startswith(f\\"{stack_id}-\\")]

  return external_notifications


def get_bucket_notification_configuration(bucket):
  return s3.get_bucket_notification_configuration(Bucket=bucket)


def put_bucket_notification_configuration(bucket, notification_configuration):
  s3.put_bucket_notification_configuration(Bucket=bucket, NotificationConfiguration=notification_configuration)


def submit_response(event: dict, context, response_status: str, error_message: str):
    response_body = json.dumps(
        {
            \\"Status\\": response_status,
            \\"Reason\\": f\\"{error_message}See the details in CloudWatch Log Stream: {context.log_stream_name}\\",
            \\"PhysicalResourceId\\": event.get(\\"PhysicalResourceId\\") or event[\\"LogicalResourceId\\"],
            \\"StackId\\": event[\\"StackId\\"],
            \\"RequestId\\": event[\\"RequestId\\"],
            \\"LogicalResourceId\\": event[\\"LogicalResourceId\\"],
            \\"NoEcho\\": False,
        }
    ).encode(\\"utf-8\\")
    headers = {\\"content-type\\": \\"\\", \\"content-length\\": str(len(response_body))}
    try:
        req = urllib.request.Request(url=event[\\"ResponseURL\\"], headers=headers, data=response_body, method=\\"PUT\\")
        with urllib.request.urlopen(req) as response:
            print(response.read().decode(\\"utf-8\\"))
        print(\\"Status code: \\" + response.reason)
    except Exception as e:
        print(\\"send(..) failed executing request.urlopen(..): \\" + str(e))
",
        },
        "Description": "AWS CloudFormation handler for \\"Custom::S3BucketNotifications\\" resources (@aws-cdk/aws-s3)",
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
            "Arn",
          ],
        },
        "Runtime": "python3.7",
        "Timeout": 300,
      },
      "Type": "AWS::Lambda::Function",
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:PutBucketNotification",
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
        "Roles": Array [
          Object {
            "Ref": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubBackendDashboardGraphs6A37B2BC": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"start\\":\\"-P1W\\",\\"periodOverride\\":\\"auto\\",\\"widgets\\":[{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"markdown\\":\\"# Catalog Overview\\\\n\\\\n[button:primary:Package Data](/s3/buckets/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              ")\\\\n[button:Catalog Builder](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
              ")\\\\n[button:Inventory Canary](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
              ")\\\\n[button:Search Canary Log Group](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Size\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SubmoduleCount\\",{\\"label\\":\\"Submodules\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageVersionCount\\",{\\"label\\":\\"Package Versions\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageMajorVersionCount\\",{\\"label\\":\\"Package Majors\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageCount\\",{\\"label\\":\\"Packages\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Issues\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"UnknownObjectCount\\",{\\"label\\":\\"Unknown\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingAssemblyCount\\",{\\"label\\":\\"Missing Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageMetadataCount\\",{\\"label\\":\\"Missing Metadata\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageTarballCount\\",{\\"label\\":\\"Missing Tarball\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UninstallablePackageCount\\",{\\"label\\":\\"Uninstallable Package\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/CatalogBuilder\\",\\"MissingConstructFrameworkCount\\",{\\"label\\":\\"No Construct Framework\\",\\"period\\":900,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/CatalogBuilder\\",\\"MissingConstructFrameworkVersionCount\\",{\\"label\\":\\"No Construct Framework Version\\",\\"period\\":900,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":8,\\"properties\\":{\\"markdown\\":\\"# Documentation Generation\\\\n\\\\n[button:primary:Transliterator Logs](/cloudwatch/home#logsV2:log-groups/log-group/",
              Object {
                "Fn::Join": Array [
                  "%252",
                  Object {
                    "Fn::Split": Array [
                      "/",
                      Object {
                        "Ref": "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                      },
                    ],
                  },
                ],
              },
              ")\\\\n[button:Transliterator ECS Cluster](/ecs/home#/clusters/",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "/tasks)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Fargate Resources\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Usage\\",\\"ResourceCount\\",\\"Class\\",\\"None\\",\\"Resource\\",\\"OnDemand\\",\\"Service\\",\\"Fargate\\",\\"Type\\",\\"Resource\\",{\\"label\\":\\"Fargate Usage (On-Demand)\\",\\"stat\\":\\"Maximum\\",\\"id\\":\\"mFargateUsage\\"}],[{\\"label\\":\\"Fargate Quota (On-Demand)\\",\\"expression\\":\\"SERVICE_QUOTA(mFargateUsage)\\"}],[{\\"label\\":\\"CPU Utilization\\",\\"expression\\":\\"100 * FILL(mCpuUtilized, 0) / FILL(mCpuReserved, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"CpuReserved\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mCpuReserved\\"}],[\\"ECS/ContainerInsights\\",\\"CpuUtilized\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mCpuUtilized\\"}],[{\\"label\\":\\"Memory Utilization\\",\\"expression\\":\\"100 * FILL(mMemoryUtilized, 0) / FILL(mMemoryReserved, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"MemoryReserved\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mMemoryReserved\\"}],[\\"ECS/ContainerInsights\\",\\"MemoryUtilized\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mMemoryUtilized\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"label\\":\\"Percent\\",\\"min\\":0,\\"max\\":100,\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"ECS Resources\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Received Bytes\\",\\"expression\\":\\"FILL(m67cc14db3275d4a2af71847df2ebb376a00b015f62c4ff9d1aedb9bc615a6cf0, 0)\\"}],[\\"ECS/ContainerInsights\\",\\"NetworkRxBytes\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Received Bytes\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m67cc14db3275d4a2af71847df2ebb376a00b015f62c4ff9d1aedb9bc615a6cf0\\"}],[{\\"label\\":\\"Transmitted Bytes\\",\\"expression\\":\\"FILL(md6781afc8bf73de5587d36039d8226d1c0fe0b50a1c949759d3d8d8cd2e3f6d1, 0)\\"}],[\\"ECS/ContainerInsights\\",\\"NetworkTxBytes\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Transmitted Bytes\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"md6781afc8bf73de5587d36039d8226d1c0fe0b50a1c949759d3d8d8cd2e3f6d1\\"}],[{\\"label\\":\\"Task Count\\",\\"expression\\":\\"FILL(mbb258976f5c025a7dff5289417a6b07619e000e4af1a427fecc57b31586fd6dd, 0)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"TaskCount\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Task Count\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"mbb258976f5c025a7dff5289417a6b07619e000e4af1a427fecc57b31586fd6dd\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":16,\\"properties\\":{\\"markdown\\":\\"## Language: typescript\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":17,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":17,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":23,\\"properties\\":{\\"markdown\\":\\"## Language: python\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":24,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"markdown\\":\\"## Language: java\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":31,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":31,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":37,\\"properties\\":{\\"markdown\\":\\"## Language: csharp\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":38,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":38,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":44,\\"properties\\":{\\"markdown\\":\\"# Test/ConstructHub/Sources/NpmJs\\\\n\\\\n[button:primary:NpmJs Follower](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              ")\\\\n[button:Marker Object](/s3/object/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
              },
              "?prefix=couchdb-last-transaction-id.2)\\\\n[button:Stager](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              ")\\\\n[button:Stager DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":46,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Follower Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"RemainingTime\\",{\\"label\\":\\"Remaining Time\\",\\"stat\\":\\"Minimum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":46,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Stager Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}],[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Duration\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":52,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"CouchDB Follower\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Change Count\\",\\"expression\\":\\"FILL(mf6a938229aec623f5cf21e3ae3401901e7f7c6ebd5774ab6ac6e74af83efd121, 0)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"ChangeCount\\",{\\"label\\":\\"Change Count\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"mf6a938229aec623f5cf21e3ae3401901e7f7c6ebd5774ab6ac6e74af83efd121\\"}],[{\\"label\\":\\"Unprocessable\\",\\"expression\\":\\"FILL(m5b235d813bd8ded65d7de9a1345c9b49a8cf2af40e7e98ddbb8cb73e00783a8a, 0)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"UnprocessableEntity\\",{\\"label\\":\\"Unprocessable\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m5b235d813bd8ded65d7de9a1345c9b49a8cf2af40e7e98ddbb8cb73e00783a8a\\"}],[{\\"label\\":\\"Lag to npmjs.com\\",\\"expression\\":\\"FILL(m4d6c513faac55be4bca785e8587a9a145b65f5fe675318c9c5c52f3ada197b7b, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"NpmJsChangeAge\\",{\\"label\\":\\"Lag to npmjs.com\\",\\"stat\\":\\"Minimum\\",\\"visible\\":false,\\"id\\":\\"m4d6c513faac55be4bca785e8587a9a145b65f5fe675318c9c5c52f3ada197b7b\\"}],[{\\"label\\":\\"Package Version Age\\",\\"expression\\":\\"FILL(mec485aa83505431ed7a356970082cd4815c310504ff176dd3eeb241ae7bbf0c4, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"PackageVersionAge\\",{\\"label\\":\\"Package Version Age\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mec485aa83505431ed7a356970082cd4815c310504ff176dd3eeb241ae7bbf0c4\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"label\\":\\"Milliseconds\\",\\"min\\":0,\\"showUnits\\":false}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":52,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"CouchDB Changes\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Last Sequence Number\\",\\"expression\\":\\"FILL(mcc89a801dd7db60ea52e74b9851bd34a3899e7a26323ac98feb632cdf70c2500, REPEAT)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"LastSeq\\",{\\"label\\":\\"Last Sequence Number\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mcc89a801dd7db60ea52e74b9851bd34a3899e7a26323ac98feb632cdf70c2500\\"}]],\\"yAxis\\":{},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":58,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Stager Dead-Letter Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Visible Messages\\",\\"expression\\":\\"FILL(m96c7bb4160011a049b6b07c0feab8fb02e5a8d4aa466939592829f864dde6400, 0)\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m96c7bb4160011a049b6b07c0feab8fb02e5a8d4aa466939592829f864dde6400\\"}],[{\\"label\\":\\"Invisible Messages\\",\\"expression\\":\\"FILL(mf74066283a392fc98a0cd7a405f2aa9b5af544d3a87542f06fff7fd069fd8578, 0)\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mf74066283a392fc98a0cd7a405f2aa9b5af544d3a87542f06fff7fd069fd8578\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":58,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Package Canary\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/PackageCanary\\",\\"DwellTime\\",{\\"label\\":\\"Dwell Time\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/PackageCanary\\",\\"TimeToCatalog\\",{\\"label\\":\\"Time to Catalog\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/PackageCanary\\",\\"TrackedVersionCount\\",{\\"label\\":\\"Tracked Version Count\\",\\"period\\":60,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff0000\\",\\"label\\":\\"SLA (5 minutes)\\",\\"value\\":300,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":64,\\"properties\\":{\\"markdown\\":\\"# Ingestion Function\\\\n\\\\n[button:Ingestion Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              ")\\\\n[button:primary:Search Log Group](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "/log-events)\\\\n[button:DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":66,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Function Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":66,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Input Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Hidden Messages\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"period\\":60,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"10 Minutes\\",\\"value\\":600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":72,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Input Quality\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"stacked\\":true,\\"metrics\\":[[{\\"label\\":\\"Invalid Assemblies\\",\\"expression\\":\\"FILL(m0c5f10aa73687a21aa44b8985d19311246bca6c2cd1b2256b9f3e78c71e94fa3, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"InvalidAssembly\\",{\\"label\\":\\"Invalid Assemblies\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m0c5f10aa73687a21aa44b8985d19311246bca6c2cd1b2256b9f3e78c71e94fa3\\"}],[{\\"label\\":\\"Invalid Tarball\\",\\"expression\\":\\"FILL(m3a39d9b0bf974255f27dc95e44c8574bdfce2b97e49a7504346a77c5c9f6a3e1, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"InvalidTarball\\",{\\"label\\":\\"Invalid Tarball\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3a39d9b0bf974255f27dc95e44c8574bdfce2b97e49a7504346a77c5c9f6a3e1\\"}],[{\\"label\\":\\"Ineligible License\\",\\"expression\\":\\"FILL(me19ae9c3f20ae715e3462f9402684a3817282218f36e69494a60bc251e3435a6, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"IneligibleLicense\\",{\\"label\\":\\"Ineligible License\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"me19ae9c3f20ae715e3462f9402684a3817282218f36e69494a60bc251e3435a6\\"}],[{\\"label\\":\\"Mismatched Identity\\",\\"expression\\":\\"FILL(m7c1d407f17f8d2452a0bf87ac06fdd032de385a2758254f4192d6e17ed40d44b, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"MismatchedIdentityRejections\\",{\\"label\\":\\"Mismatched Identity\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7c1d407f17f8d2452a0bf87ac06fdd032de385a2758254f4192d6e17ed40d44b\\"}],[{\\"label\\":\\"Found License file\\",\\"expression\\":\\"FILL(m7084dfec3c5bab86694d7ae438460f471c174a94bc67c9c9738e3ab60246b661, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"FoundLicenseFile\\",{\\"label\\":\\"Found License file\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7084dfec3c5bab86694d7ae438460f471c174a94bc67c9c9738e3ab60246b661\\"}]],\\"yAxis\\":{\\"left\\":{\\"label\\":\\"Count\\",\\"min\\":0,\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":72,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Dead Letters\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff7f0e\\",\\"label\\":\\"10 days\\",\\"value\\":864000,\\"yAxis\\":\\"right\\"},{\\"color\\":\\"#ff0000\\",\\"label\\":\\"14 days (DLQ Retention)\\",\\"value\\":1209600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":78,\\"properties\\":{\\"markdown\\":\\"# Orchestration\\\\n\\\\n[button:primary:State Machine](/states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              ")\\\\n[button:DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              ")\\\\n[button:Redrive DLQ](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationRedrive8DDBA67E",
              },
              ")\\\\n[button:Regenerate All Documentation](/states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationE9FAB254",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":80,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"State Machine Executions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Started\\",\\"expression\\":\\"FILL(m392141ff4cfa3bbe1889b2db42bcf20599513e199a0b9fb8dc736cde893c1d7c, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsStarted\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Started\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m392141ff4cfa3bbe1889b2db42bcf20599513e199a0b9fb8dc736cde893c1d7c\\"}],[{\\"label\\":\\"Succeeded\\",\\"expression\\":\\"FILL(md1b80634be6e2f057c84f44fab13979a6445395ea2dc357cd12d0ba9f504e6d1, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsSucceeded\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Succeeded\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"md1b80634be6e2f057c84f44fab13979a6445395ea2dc357cd12d0ba9f504e6d1\\"}],[{\\"label\\":\\"Aborted\\",\\"expression\\":\\"FILL(m7c13255adf2b6d90baaa9e4e952e72ce260730c93b662336d01e3342f6255e08, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsAborted\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Aborted\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7c13255adf2b6d90baaa9e4e952e72ce260730c93b662336d01e3342f6255e08\\"}],[{\\"label\\":\\"Failed\\",\\"expression\\":\\"FILL(m503cb5a7568675222eb2ac827982f88ad300c986505dabfafe1707080946e597, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsFailed\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Failed\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m503cb5a7568675222eb2ac827982f88ad300c986505dabfafe1707080946e597\\"}],[{\\"label\\":\\"Throttled\\",\\"expression\\":\\"FILL(m278670a6ffa3ce32fec8fcb73c1cfdc4c965389617e2387ab5852ebb00b2a81f, 0)\\"}],[\\"AWS/States\\",\\"ExecutionThrottled\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Throttled\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m278670a6ffa3ce32fec8fcb73c1cfdc4c965389617e2387ab5852ebb00b2a81f\\"}],[{\\"label\\":\\"Timed Out\\",\\"expression\\":\\"FILL(m106d91118c893ec9037d16448722184f1ebdcca08a617e1f13758151a8c85a21, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsTimedOut\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Timed Out\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m106d91118c893ec9037d16448722184f1ebdcca08a617e1f13758151a8c85a21\\"}],[\\"AWS/States\\",\\"ExecutionTime\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Duration\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":80,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Dead Letter Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff7f0e\\",\\"label\\":\\"10 days\\",\\"value\\":864000,\\"yAxis\\":\\"right\\"},{\\"color\\":\\"#ff0000\\",\\"label\\":\\"14 days (DLQ Retention)\\",\\"value\\":1209600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":86,\\"properties\\":{\\"markdown\\":\\"# Deny List\\\\n\\\\n[button:primary:Deny List Object](/s3/object/",
              Object {
                "Ref": "ConstructHubDenyListBucket1B3C2C2E",
              },
              "?prefix=deny-list.json)\\\\n[button:Prune Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              ")\\\\n[button:Prune Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "/log-events)\\\\n[button:Delete Queue](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "QueueName",
                ],
              },
              ")\\\\n[button:Delete Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":88,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Deny List\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Rules\\",\\"expression\\":\\"FILL(m41327b0edbbef1ca627d9503d1b9b9fab401700118519537b58e0557adee7e4f, REPEAT)\\"}],[\\"ConstructHub/DenyList\\",\\"DenyListRuleCount\\",{\\"label\\":\\"Rules\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m41327b0edbbef1ca627d9503d1b9b9fab401700118519537b58e0557adee7e4f\\"}],[\\"AWS/SQS\\",\\"NumberOfMessagesDeleted\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Deleted Files\\",\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":88,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Prune Function Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":94,\\"properties\\":{\\"markdown\\":\\"# Package Stats\\\\n\\\\n[button:primary:Package Stats Object](/s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=stats.json)\\\\n[button:Package Stats Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              ")\\\\n[button:Package Stats Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":96,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Number of Package Stats Recorded\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Packages with stats\\",\\"expression\\":\\"FILL(m47411943a6e8f8e16a1dd905ff43cab11425b802c4d32615e081cab30c15f29f, REPEAT)\\"}],[\\"ConstructHub/PackageStats\\",\\"RegisteredPackagesWithStats\\",{\\"label\\":\\"Packages with stats\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m47411943a6e8f8e16a1dd905ff43cab11425b802c4d32615e081cab30c15f29f\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":96,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocation Duration\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              "\\",{\\"label\\":\\"Duration\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"15 minutes (Lambda timeout)\\",\\"value\\":900,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":102,\\"properties\\":{\\"markdown\\":\\"# Version Tracker\\\\n\\\\n[button:primary:Versions Object](/s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=all-versions.json)\\\\n[button:Version Tracker Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              ")\\\\n[button:Version Tracker Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":104,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Number of Package Versions Recorded\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Package versions recorded\\",\\"expression\\":\\"FILL(m343ebb2e5802fe223e549d8262d8d0c364846e0276426bc0a2d872e83bd8e63d, REPEAT)\\"}],[\\"ConstructHub/VersionTracker\\",\\"TrackedVersionsCount\\",{\\"label\\":\\"Package versions recorded\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m343ebb2e5802fe223e549d8262d8d0c364846e0276426bc0a2d872e83bd8e63d\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":104,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocation Duration\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              "\\",{\\"label\\":\\"Duration\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"1 minutes (Lambda timeout)\\",\\"value\\":60,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}}]}",
            ],
          ],
        },
        "DashboardName": "ConstructHubBackend-graphs",
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubBackendDashboardReportsDFD170B1": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"start\\":\\"-P1W\\",\\"periodOverride\\":\\"auto\\",\\"widgets\\":[{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"uninstallable-objects/data.json\\",\\"description\\":\\"These packages could not be installed. Note that currently they will also appear in the 'missing' documentation reports.\\\\n\\\\nThe specific error can be found in the package directory inside a file named 'uninstallable'\\\\n\\"},\\"title\\":\\"Package Versions Report | Uninstallable\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":6,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/typescript-documentation.json\\",\\"description\\":\\"These packages are missing typescript documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _typescript_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":12,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/typescript.json\\",\\"description\\":\\"These packages are missing typescript documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _typescript_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":18,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/python-documentation.json\\",\\"description\\":\\"These packages are missing python documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _python_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/python.json\\",\\"description\\":\\"These packages are missing python documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _python_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/java-documentation.json\\",\\"description\\":\\"These packages are missing java documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _java_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":36,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/java.json\\",\\"description\\":\\"These packages are missing java documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _java_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":42,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/csharp-documentation.json\\",\\"description\\":\\"These packages are missing csharp documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _csharp_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":48,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/csharp.json\\",\\"description\\":\\"These packages are missing csharp documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _csharp_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}}]}",
            ],
          ],
        },
        "DashboardName": "ConstructHubBackend-reports",
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubDenyListBucket1B3C2C2E": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "aws-cdk:auto-delete-objects",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketAllowBucketNotificationsToTestConstructHubDenyListPrunePruneHandler03826FC4A79351A0": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandler30B33551",
            "Arn",
          ],
        },
        "Principal": "s3.amazonaws.com",
        "SourceAccount": Object {
          "Ref": "AWS::AccountId",
        },
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListBucket1B3C2C2E",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubDenyListBucketAutoDeleteObjectsCustomResource997A3642": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListBucketPolicyA1878E10",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3AutoDeleteObjects",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketDeploymentAwsCliLayerEAC3D4DA": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubDenyListBucketDeploymentCustomResourceF835956B": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListBucketNotifications2269EB2A",
      ],
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "Prune": true,
        "RetainOnDelete": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketNotifications2269EB2A": Object {
      "DependsOn": Array [
        "ConstructHubDenyListBucketAllowBucketNotificationsToTestConstructHubDenyListPrunePruneHandler03826FC4A79351A0",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "Managed": true,
        "NotificationConfiguration": Object {
          "LambdaFunctionConfigurations": Array [
            Object {
              "Events": Array [
                "s3:ObjectCreated:*",
              ],
              "Filter": Object {
                "Key": Object {
                  "FilterRules": Array [
                    Object {
                      "Name": "suffix",
                      "Value": "deny-list.json",
                    },
                    Object {
                      "Name": "prefix",
                      "Value": "deny-list.json",
                    },
                  ],
                },
              },
              "LambdaFunctionArn": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPrunePruneHandler30B33551",
                  "Arn",
                ],
              },
            },
          ],
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3BucketNotifications",
    },
    "ConstructHubDenyListBucketPolicyA1878E10": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::GetAtt": Array [
                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                    "Arn",
                  ],
                },
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubDenyListFailoverBucketAutoDeleteObjectsCustomResource5A026600": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListFailoverBucketPolicy3B552017",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3AutoDeleteObjects",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListFailoverBucketBF1E05AD": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "aws-cdk:auto-delete-objects",
            "Value": "true",
          },
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListFailoverBucketPolicy3B552017": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListFailoverBucketBF1E05AD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListFailoverBucketBF1E05AD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::GetAtt": Array [
                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                    "Arn",
                  ],
                },
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListFailoverBucketBF1E05AD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListFailoverBucketBF1E05AD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubDenyListPeriodicPruneA981153D": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(5 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubDenyListPrunePruneHandler30B33551",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubDenyListPeriodicPruneAllowEventRuleTestConstructHubDenyListPrunePruneHandler03826FC486B0D780": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandler30B33551",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPeriodicPruneA981153D",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubDenyListPruneDeleteQueueBBF60185": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "VisibilityTimeout": 120,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListPrunePruneHandler30B33551": Object {
      "DependsOn": Array [
        "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA",
        "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3BucketAE80D773",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "backend/deny-list/prune-handler.lambda.ts",
        "Environment": Object {
          "Variables": Object {
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "ON_CHANGE_FUNCTION_NAME": Object {
              "Fn::GetAtt": Array [
                "ConstructHubOrchestrationCatalogBuilder7C964951",
                "Arn",
              ],
            },
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "PACKAGE_DATA_KEY_PREFIX": "data/",
            "PRUNE_QUEUE_URL": Object {
              "Ref": "ConstructHubDenyListPruneDeleteQueueBBF60185",
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B": Object {
      "DependsOn": Array [
        "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393",
        "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3BucketAC5DE359",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "backend/deny-list/prune-queue-handler.lambda.ts",
        "Environment": Object {
          "Variables": Object {
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerSqsEventSourceTestConstructHubDenyListPruneDeleteQueue04186FB403F01CBE": Object {
      "Properties": Object {
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPruneDeleteQueueBBF60185",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubFailoverPackageDataBA7D3B85": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "AbortIncompleteMultipartUpload": Object {
                "DaysAfterInitiation": 1,
              },
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionTransitions": Array [
                Object {
                  "StorageClass": "STANDARD_IA",
                  "TransitionInDays": 31,
                },
              ],
              "Status": "Enabled",
            },
            Object {
              "ExpiredObjectDeleteMarker": true,
              "NoncurrentVersionExpirationInDays": 90,
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionExpirationInDays": 7,
              "Prefix": "catalog.json",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubFailoverPackageDataPolicy89BCDF76": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubFailoverPackageDataBA7D3B85",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubFailoverPackageDataBA7D3B85",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubFailoverPackageDataBA7D3B85",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestion407909CE": Object {
      "DependsOn": Array [
        "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2",
        "ConstructHubIngestionServiceRole6380BAB6",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3BucketFE59B3A9",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Ingestion] Ingests new package versions into the Construct Hub",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CONFIG_BUCKET_NAME": Object {
              "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
            },
            "CONFIG_FILE_KEY": "config.json",
            "STATE_MACHINE_ARN": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionServiceRole6380BAB6",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubIngestionConfigBucket0F0ED0B6": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubIngestionConfigBucketPolicyF096914C": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestionDLQ3E96A5F2": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionDLQAlarm83BD1903": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The dead-letter queue for the Ingestion function is not empty!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to the queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "
Direct link to the function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Ingestion/DLQNotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "m1 + m2",
            "Id": "expr_1",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubIngestionDLQ3E96A5F2",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "m2",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubIngestionDLQ3E96A5F2",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubIngestionDeployIngestionConfigurationAwsCliLayerF77955C2": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubIngestionDeployIngestionConfigurationCustomResourceD7F243C1": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
        },
        "Prune": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionFailoverConfigBucket079F82C3": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubIngestionFailoverConfigBucketPolicyD45F3F6D": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubIngestionFailoverConfigBucket079F82C3",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionFailoverConfigBucket079F82C3",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionFailoverConfigBucket079F82C3",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestionFailureAlarm9D0028DD": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The Ingestion function is failing!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to the function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Ingestion/Failure",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubIngestion407909CE",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubIngestionLogRetention98263C90": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubIngestionQueue1AD94CA3": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": Object {
          "deadLetterTargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubIngestionDLQ3E96A5F2",
              "Arn",
            ],
          },
          "maxReceiveCount": 5,
        },
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionReprocessQueueADCE803E": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": Object {
          "deadLetterTargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubIngestionDLQ3E96A5F2",
              "Arn",
            ],
          },
          "maxReceiveCount": 5,
        },
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E": Object {
      "DependsOn": Array [
        "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135",
        "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3Bucket5255533F",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Ingestion/ReIngest] The function used to reprocess packages through ingestion",
        "Environment": Object {
          "Variables": Object {
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "QUEUE_URL": Object {
              "Ref": "ConstructHubIngestionReprocessQueueADCE803E",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 180,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/metadata.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachine3708141C": Object {
      "DependsOn": Array [
        "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747",
        "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Has a ContinuationToken?\\",\\"States\\":{\\"Has a ContinuationToken?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.ContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"S3.ListObjectsV2(NextPage)\\"}],\\"Default\\":\\"S3.ListObjectsV2(FirstPage)\\"},\\"S3.ListObjectsV2(FirstPage)\\":{\\"Next\\":\\"Is there more?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Prefix\\":\\"data/\\"}},\\"Is there more?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Give room for on-demand work\\"}],\\"Default\\":\\"Process Result\\"},\\"S3.ListObjectsV2(NextPage)\\":{\\"Next\\":\\"Is there more?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.ContinuationToken\\",\\"Prefix\\":\\"data/\\"}},\\"Process Result\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"End\\":true,\\"Iterator\\":{\\"StartAt\\":\\"Is metadata object?\\",\\"States\\":{\\"Is metadata object?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.Key\\",\\"StringMatches\\":\\"*/metadata.json\\",\\"Next\\":\\"Send for reprocessing\\"}],\\"Default\\":\\"Nothing to do\\"},\\"Nothing to do\\":{\\"Type\\":\\"Succeed\\"},\\"Send for reprocessing\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke\\",\\"Parameters\\":{\\"FunctionName\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E",
                  "Arn",
                ],
              },
              "\\",\\"Payload.$\\":\\"$\\"}}}},\\"ItemsPath\\":\\"$.response.Contents\\"},\\"Continue as new\\":{\\"Next\\":\\"Process Result\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":null,\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution\\",\\"Parameters\\":{\\"Input\\":{\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:",
              Object {
                "Ref": "AWS::Region",
              },
              ":",
              Object {
                "Ref": "AWS::AccountId",
              },
              ":stateMachine:Test.ConstructHub.Ingestion.ReprocessWorkflow\\"}},\\"Give room for on-demand work\\":{\\"Type\\":\\"Wait\\",\\"Seconds\\":15,\\"Next\\":\\"Continue as new\\"}},\\"TimeoutSeconds\\":3600}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Ingestion.ReprocessWorkflow",
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":states:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":stateMachine:Test.ConstructHub.Ingestion.ReprocessWorkflow",
                  ],
                ],
              },
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionServiceRole6380BAB6": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionServiceRole6380BAB6",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionDLQEC555E58E8FEA048": Object {
      "Properties": Object {
        "BatchSize": 1,
        "Enabled": false,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionDLQ3E96A5F2",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionQueue165B81E2C095FF2A": Object {
      "Properties": Object {
        "BatchSize": 1,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionQueue1AD94CA3",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionReprocessQueueEFA2CB8349836CD4": Object {
      "Properties": Object {
        "BatchSize": 1,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessQueueADCE803E",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubInventoryCanary63D899BC": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
        "ConstructHubInventoryCanaryServiceRole7684EDDE",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3Bucket9A67A1B5",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Inventory] A canary that periodically inspects the list of indexed packages",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanaryServiceRole7684EDDE",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubInventoryCanaryFailures5BDA8051": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The inventory canary is failing!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/InventoryCanary/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubInventoryCanary63D899BC",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 900,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubInventoryCanaryNotRunningAF44D71C": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The inventory canary is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/InventoryCanary/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubInventoryCanary63D899BC",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 900,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubInventoryCanaryScheduleRule79F2F8D8": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
      ],
      "Properties": Object {
        "ScheduleExpression": "rate(15 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubInventoryCanary63D899BC",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubInventoryCanaryScheduleRuleAllowEventRuleTestConstructHubInventoryCanary54F5B7AC7EBA7AB2": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanary63D899BC",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanaryScheduleRule79F2F8D8",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubInventoryCanaryServiceRole7684EDDE": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/*-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/*.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/uninstallable-objects/data.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubInventoryCanaryServiceRole7684EDDE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubLicenseListAwsCliLayer59592811": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubLicenseListBucket9334047F": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubLicenseListBucketPolicy817F92CD": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubLicenseListBucket9334047F",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubLicenseListCustomResource323F0FD4": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubLicenseListBucket9334047F",
        },
        "Prune": true,
        "RetainOnDelete": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubLicenseListFailoverBucketA96D2AAF": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubLicenseListFailoverBucketPolicy7F222A76": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubLicenseListFailoverBucketA96D2AAF",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListFailoverBucketA96D2AAF",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListFailoverBucketA96D2AAF",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubMonitoringHighSeverityDashboard8761DBAC": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"widgets\\":[{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Backend Orchestration Dead-Letter Queue is not empty\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQAlarm85EE7509",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":6,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Size Shrunk\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilderShrinkingCatalogAlarm48329E25",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":12,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Backend Orchestration Failed\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationOrchestrationFailed5AF50838",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":18,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Ingestion failures\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionFailureAlarm9D0028DD",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Home Page Canary\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubMonitoringWebCanaryHomePageErrorsE7BB4002",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"NpmJs/Follower Failures\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":36,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"NpmJs/Follower Not Running\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsFollowerNotRunningCEAF0E1E",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":42,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"New version visibility SLA breached\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsCanaryAlarmBE2B479E",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}}]}",
            ],
          ],
        },
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubMonitoringWatchfulDashboardB8493D55": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"widgets\\":[{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"markdown\\":\\"# Deny List - Prune Function\\\\n\\\\n[button:AWS Lambda Console](https://console.aws.amazon.com/lambda/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "?tab=graph) [button:CloudWatch Logs](https://console.aws.amazon.com/cloudwatch/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#logEventViewer:group=/aws/lambda/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":0,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocations/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":6,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Errors/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Errors > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":12,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Throttles/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Throttles\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Throttles > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":18,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Duration/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"p99\\",\\"stat\\":\\"p99\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"p99 > 720000 for 3 datapoints within 15 minutes\\",\\"value\\":720000,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":8,\\"properties\\":{\\"markdown\\":\\"# Deny List - Prune Delete Function\\\\n\\\\n[button:AWS Lambda Console](https://console.aws.amazon.com/lambda/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "?tab=graph) [button:CloudWatch Logs](https://console.aws.amazon.com/cloudwatch/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#logEventViewer:group=/aws/lambda/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":0,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocations/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":6,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Errors/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Errors > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":12,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Throttles/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Throttles\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Throttles > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":18,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Duration/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"label\\":\\"p99\\",\\"stat\\":\\"p99\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"p99 > 48000 for 3 datapoints within 15 minutes\\",\\"value\\":48000,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}}]}",
            ],
          ],
        },
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4DurationAlarm116EB85B": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "p99 latency >= 720s (80%)",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 3,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": "p99",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
                    },
                  },
                ],
                "MetricName": "Duration",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "p99",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 720000,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4ErrorsAlarm9E8C0618": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 errors per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4ThrottlesAlarm7A95EA66": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 throttles per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Throttles",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BDurationAlarm331A9019": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "p99 latency >= 48s (80%)",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 3,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": "p99",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
                    },
                  },
                ],
                "MetricName": "Duration",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "p99",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 48000,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BErrorsAlarm1C29CAE7": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 errors per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BThrottlesAlarm2F5C1946": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 throttles per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Throttles",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWebCanaryHomePageErrorsE7BB4002": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "80% error rate for https://",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppDistribution1F181DC9",
                  "DomainName",
                ],
              },
              " (Home Page)",
            ],
          ],
        },
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "https://",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppDistribution1F181DC9",
                      "DomainName",
                    ],
                  },
                  " Errors",
                ],
              ],
            },
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
                    },
                  },
                ],
                "MetricName": "Errors",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 4,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8": Object {
      "DependsOn": Array [
        "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3Bucket583A7087",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "HTTP GET https://",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppDistribution1F181DC9",
                  "DomainName",
                ],
              },
              ": Home Page",
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "URL": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "https://",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppDistribution1F181DC9",
                      "DomainName",
                    ],
                  },
                ],
              ],
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubMonitoringWebCanaryHomePageRuleAllowEventRuleTestConstructHubMonitoringWebCanaryHomePageHttpGetFunction941819C9E47F90EE": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageRuleE14F9F4E",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubMonitoringWebCanaryHomePageRuleE14F9F4E": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubOrchestration39161A46": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRoleDefaultPolicyEACD181F",
        "ConstructHubOrchestrationRoleF4CF6987",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Track Execution Infos\\",\\"States\\":{\\"Track Execution Infos\\":{\\"Type\\":\\"Pass\\",\\"ResultPath\\":\\"$.$TaskExecution\\",\\"InputPath\\":\\"$$.Execution\\",\\"Parameters\\":{\\"Id.$\\":\\"$.Id\\",\\"Name.$\\":\\"$.Name\\",\\"RoleArn.$\\":\\"$.RoleArn\\",\\"StartTime.$\\":\\"$.StartTime\\"},\\"Next\\":\\"Prepare doc-gen ECS Command\\"},\\"Prepare doc-gen ECS Command\\":{\\"Type\\":\\"Pass\\",\\"ResultPath\\":\\"$.docGen\\",\\"Parameters\\":{\\"command.$\\":\\"States.Array(States.JsonToString($))\\"},\\"Next\\":\\"Generate docs\\"},\\"Generate docs\\":{\\"Next\\":\\"Check whether catalog needs udpating\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"jsii-docgen.NoSpaceLeftOnDevice\\"],\\"MaxAttempts\\":0},{\\"ErrorEquals\\":[\\"ECS.AmazonECSException\\",\\"ECS.InvalidParameterException\\",\\"jsii-docgen.NpmError.E429\\",\\"jsii-codgen.NpmError.EPROTO\\"],\\"IntervalSeconds\\":120,\\"MaxAttempts\\":200,\\"BackoffRate\\":1},{\\"ErrorEquals\\":[\\"jsii-docgen.NpmError.ETARGET\\"],\\"IntervalSeconds\\":300,\\"MaxAttempts\\":3,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"MaxAttempts\\":3}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"UnprocessablePackageError\\"],\\"Next\\":\\"Ignore\\"},{\\"ErrorEquals\\":[\\"States.Timeout\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"ECS.AmazonECSException\\",\\"ECS.InvalidParameterException\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"TimeoutSeconds\\":7200,\\"HeartbeatSeconds\\":300,\\"InputPath\\":\\"$.docGen.command\\",\\"ResultPath\\":\\"$.docGenOutput\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::ecs:runTask.waitForTaskToken\\",\\"Parameters\\":{\\"Cluster\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCluster3D6F0081",
                  "Arn",
                ],
              },
              "\\",\\"TaskDefinition\\":\\"TestConstructHubOrchestrationTransliteratorTaskDefinition1C44F91E\\",\\"NetworkConfiguration\\":{\\"AwsvpcConfiguration\\":{\\"Subnets\\":[\\"",
              Object {
                "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1SubnetEA67D882",
              },
              "\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2SubnetC067C1B7",
              },
              "\\"],\\"SecurityGroups\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationGeneratedocsSecurityGroupC584DAC2",
                  "GroupId",
                ],
              },
              "\\"]}},\\"Overrides\\":{\\"ContainerOverrides\\":[{\\"Name\\":\\"Resource\\",\\"Command.$\\":\\"$\\",\\"Environment\\":[{\\"Name\\":\\"SFN_TASK_TOKEN\\",\\"Value.$\\":\\"$$.Task.Token\\"}]}]},\\"LaunchType\\":\\"FARGATE\\",\\"PlatformVersion\\":\\"1.4.0\\"}},\\"Check whether catalog needs udpating\\":{\\"Next\\":\\"Is catalog update needed?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\",\\"Lambda.Unknown\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\",\\"Lambda.Unknown\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.catalogNeedsUpdating\\",\\"Resource\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC",
                  "Arn",
                ],
              },
              "\\"},\\"Is catalog update needed?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.catalogNeedsUpdating\\",\\"BooleanEquals\\":true,\\"Next\\":\\"Add to catalog.json\\"}],\\"Default\\":\\"Done\\"},\\"Done\\":{\\"Type\\":\\"Succeed\\"},\\"Add to catalog.json\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.catalogBuilderOutput\\",\\"ResultSelector\\":{\\"ETag.$\\":\\"$.Payload.ETag\\",\\"VersionId.$\\":\\"$.Payload.VersionId\\"},\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke\\",\\"Parameters\\":{\\"FunctionName\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
              "\\",\\"Payload.$\\":\\"$\\"}},\\"Send to Dead Letter Queue\\":{\\"Next\\":\\"Sent to DLQ\\",\\"Type\\":\\"Task\\",\\"ResultPath\\":null,\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::sqs:sendMessage\\",\\"Parameters\\":{\\"QueueUrl\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationDLQ9C6D9BD4",
              },
              "\\",\\"MessageBody.$\\":\\"$\\"}},\\"Sent to DLQ\\":{\\"Type\\":\\"Succeed\\"},\\"Ignore\\":{\\"Type\\":\\"Pass\\",\\"End\\":true}},\\"TimeoutSeconds\\":86400}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRoleF4CF6987",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Orchestration",
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationCatalogBuilder7C964951": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5",
        "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3Bucket722FE70B",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Creates the catalog.json object in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "PassThrough",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationCatalogBuilderLogRetention04ED6996": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":lambda:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":function:*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationCatalogBuilderShrinkingCatalogAlarm48329E25": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The number of packages registered in the catalog.json object has shrunk by more than 5
elements. There might be a mass extinction event going on. This should be investigated
as soon as possible.

Catalog.json: /s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=catalog.json
Catalog Builder: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
              "

RUNBOOK: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/CatalogBuilder/ShrinkingCatalog",
        "ComparisonOperator": "LessThanThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "DIFF(FILL(m1, REPEAT))",
            "Id": "expr_1",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "RegisteredPackagesMajorVersion",
                "Namespace": "ConstructHub/CatalogBuilder",
              },
              "Period": 900,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": -5,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationCluster3D6F0081": Object {
      "Properties": Object {
        "ClusterSettings": Array [
          Object {
            "Name": "containerInsights",
            "Value": "enabled",
          },
        ],
      },
      "Type": "AWS::ECS::Cluster",
    },
    "ConstructHubOrchestrationCluster4C9C8AA6": Object {
      "Properties": Object {
        "CapacityProviders": Array [
          "FARGATE",
          "FARGATE_SPOT",
        ],
        "Cluster": Object {
          "Ref": "ConstructHubOrchestrationCluster3D6F0081",
        },
        "DefaultCapacityProviderStrategy": Array [],
      },
      "Type": "AWS::ECS::ClusterCapacityProviderAssociations",
    },
    "ConstructHubOrchestrationClusterVpcD5CC96DF": Object {
      "Properties": Object {
        "CidrBlock": "10.0.0.0/16",
        "EnableDnsHostnames": true,
        "EnableDnsSupport": true,
        "InstanceTenancy": "default",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc",
          },
        ],
      },
      "Type": "AWS::EC2::VPC",
    },
    "ConstructHubOrchestrationClusterVpcIGW824B9527": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc",
          },
        ],
      },
      "Type": "AWS::EC2::InternetGateway",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1DefaultRoute65613FDA": Object {
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1NATGatewayBF889500",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTable978A35E2",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTable978A35E2": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTableAssociation62534665": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTable978A35E2",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1SubnetEA67D882",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1SubnetEA67D882": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            0,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.128.0/18",
        "MapPublicIpOnLaunch": false,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2DefaultRouteF6579FD1": Object {
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2NATGateway70A454FD",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTable0BC880DB",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTable0BC880DB": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTableAssociation9FB50C41": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTable0BC880DB",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2SubnetC067C1B7",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2SubnetC067C1B7": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            1,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.192.0/18",
        "MapPublicIpOnLaunch": false,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1DefaultRouteAF6519CE": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationClusterVpcVPCGW7E73D481",
      ],
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcIGW824B9527",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableD384ACA4",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1EIP2D9D4C52": Object {
      "Properties": Object {
        "Domain": "vpc",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
      },
      "Type": "AWS::EC2::EIP",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1NATGatewayBF889500": Object {
      "Properties": Object {
        "AllocationId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationClusterVpcPublicSubnet1EIP2D9D4C52",
            "AllocationId",
          ],
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1Subnet10DB7A72",
        },
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
      },
      "Type": "AWS::EC2::NatGateway",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableAssociation31FB3CD6": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableD384ACA4",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1Subnet10DB7A72",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableD384ACA4": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1Subnet10DB7A72": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            0,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.0.0/18",
        "MapPublicIpOnLaunch": true,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2DefaultRouteED1B3A37": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationClusterVpcVPCGW7E73D481",
      ],
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcIGW824B9527",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableE3A3966D",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2EIPC9DD9674": Object {
      "Properties": Object {
        "Domain": "vpc",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
      },
      "Type": "AWS::EC2::EIP",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2NATGateway70A454FD": Object {
      "Properties": Object {
        "AllocationId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationClusterVpcPublicSubnet2EIPC9DD9674",
            "AllocationId",
          ],
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2Subnet899B70D2",
        },
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
      },
      "Type": "AWS::EC2::NatGateway",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableAssociationFB0694B7": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableE3A3966D",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2Subnet899B70D2",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableE3A3966D": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2Subnet899B70D2": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            1,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.64.0/18",
        "MapPublicIpOnLaunch": true,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcVPCGW7E73D481": Object {
      "Properties": Object {
        "InternetGatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcIGW824B9527",
        },
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::VPCGatewayAttachment",
    },
    "ConstructHubOrchestrationDLQ9C6D9BD4": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubOrchestrationDLQAlarm85EE7509": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Backend orchestration dead-letter queue is not empty.

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "
Warning: State Machines executions that sent messages to the DLQ will not show as \\"failed\\".",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/DLQ/NotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "m1 + m2",
            "Id": "expr_1",
            "Label": "Dead-Letter Queue not empty",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubOrchestrationDLQ9C6D9BD4",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "m2",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubOrchestrationDLQ9C6D9BD4",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationGeneratedocsSecurityGroupC584DAC2": Object {
      "Properties": Object {
        "GroupDescription": "Test/ConstructHub/Orchestration/Generate docs/SecurityGroup",
        "SecurityGroupEgress": Array [
          Object {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::SecurityGroup",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9",
        "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3BucketE78A0203",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Orchestration/NeedsCatalogUpdate] Determines whether a package version requires a catalog update",
        "Environment": Object {
          "Variables": Object {
            "CATALOG_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CATALOG_OBJECT_KEY": "catalog.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationOrchestrationFailed5AF50838": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Backend orchestration failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to state machine: /states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "
Warning: messages that resulted in a failed exectuion will NOT be in the DLQ!",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/Resource/ExecutionsFailed",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "StateMachineArn",
            "Value": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "ExecutionsFailed",
        "Namespace": "AWS/States",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationRedrive8DDBA67E": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436",
        "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3Bucket6F376B71",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Redrive] Manually redrives all messages from the backend dead letter queue",
        "Environment": Object {
          "Variables": Object {
            "QUEUE_URL": Object {
              "Ref": "ConstructHubOrchestrationDLQ9C6D9BD4",
            },
            "STATE_MACHINE_ARN": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationRedriveServiceRoleB84EFF33": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationE9FAB254": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86",
        "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Get prefix page\\",\\"States\\":{\\"Get prefix page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next prefixes page\\"}],\\"Default\\":\\"First prefix page\\"},\\"Has more prefixes?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get prefix page\\"}],\\"Default\\":\\"Done\\"},\\"For each prefix\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more prefixes?\\",\\"Iterator\\":{\\"StartAt\\":\\"Is this a @scope-- prefix?\\",\\"States\\":{\\"Is this a @scope-- prefix?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.Prefix\\",\\"StringMatches\\":\\"data/@*\\",\\"Next\\":\\"Get @scope page\\"}],\\"Default\\":\\"Process unscoped package\\"},\\"Process unscoped package\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution.sync:2\\",\\"Parameters\\":{\\"Input\\":{\\"Prefix.$\\":\\"$.Prefix\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
              "\\"}},\\"Get @scope page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next @scope page\\"}],\\"Default\\":\\"First @scope page\\"},\\"Has more packages?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get @scope page\\"}],\\"Default\\":\\"All Done\\"},\\"For each @scope--pkg\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more packages?\\",\\"Iterator\\":{\\"StartAt\\":\\"Process scoped package\\",\\"States\\":{\\"Process scoped package\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution.sync:2\\",\\"Parameters\\":{\\"Input\\":{\\"Prefix.$\\":\\"$.Prefix\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
              "\\"}}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First @scope page\\":{\\"Next\\":\\"For each @scope--pkg\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Next @scope page\\":{\\"Next\\":\\"For each @scope--pkg\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"All Done\\":{\\"Type\\":\\"Succeed\\"}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First prefix page\\":{\\"Next\\":\\"For each prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix\\":\\"data/\\"}},\\"Next prefixes page\\":{\\"Next\\":\\"For each prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix\\":\\"data/\\"}},\\"Done\\":{\\"Type\\":\\"Succeed\\"}},\\"TimeoutSeconds\\":14400}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Orchestration.RegenerateAllDocumentation",
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726",
        "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Get package versions page\\",\\"States\\":{\\"Get package versions page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next versions page\\"}],\\"Default\\":\\"First versions page\\"},\\"Has more versions?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get package versions page\\"}],\\"Default\\":\\"Success\\"},\\"For each key prefix\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more versions?\\",\\"Iterator\\":{\\"StartAt\\":\\"Start Orchestration Workflow\\",\\"States\\":{\\"Start Orchestration Workflow\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution\\",\\"Parameters\\":{\\"Input\\":{\\"bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"assembly\\":{\\"key.$\\":\\"States.Format('{}assembly.json', $.Prefix)\\"},\\"metadata\\":{\\"key.$\\":\\"States.Format('{}metadata.json', $.Prefix)\\"},\\"package\\":{\\"key.$\\":\\"States.Format('{}package.tgz', $.Prefix)\\"},\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\"}}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First versions page\\":{\\"Next\\":\\"For each key prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Next versions page\\":{\\"Next\\":\\"For each key prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Success\\":{\\"Type\\":\\"Succeed\\"}},\\"TimeoutSeconds\\":3600}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
            "Arn",
          ],
        },
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
            },
            Object {
              "Action": Array [
                "states:DescribeExecution",
                "states:StopExecution",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":states:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":execution:",
                    Object {
                      "Fn::Select": Array [
                        6,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
                            },
                          ],
                        },
                      ],
                    },
                    "*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "events:PutTargets",
                "events:PutRule",
                "events:DescribeRule",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":events:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":rule/StepFunctionsGetEventsForStepFunctionsExecutionRule",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRoleDefaultPolicyEACD181F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "ecs:RunTask",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Fn::Select": Array [
                        1,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        2,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        3,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        4,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        0,
                        Object {
                          "Fn::Split": Array [
                            "/",
                            Object {
                              "Fn::Select": Array [
                                5,
                                Object {
                                  "Fn::Split": Array [
                                    ":",
                                    Object {
                                      "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    "/",
                    Object {
                      "Fn::Select": Array [
                        1,
                        Object {
                          "Fn::Split": Array [
                            "/",
                            Object {
                              "Fn::Select": Array [
                                5,
                                Object {
                                  "Fn::Split": Array [
                                    ":",
                                    Object {
                                      "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "ecs:StopTask",
                "ecs:DescribeTasks",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "iam:PassRole",
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
                    "Arn",
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sqs:SendMessage",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRoleDefaultPolicyEACD181F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRoleF4CF6987",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRoleF4CF6987": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "RetentionInDays": 731,
      },
      "Type": "AWS::Logs::LogGroup",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566": Object {
      "Properties": Object {
        "ContainerDefinitions": Array [
          Object {
            "Environment": Array [
              Object {
                "Name": "HEADER_SPAN",
                "Value": "true",
              },
              Object {
                "Name": "AWS_EMF_ENVIRONMENT",
                "Value": "Local",
              },
            ],
            "Essential": true,
            "Image": Object {
              "Fn::Join": Array [
                "",
                Array [
                  Object {
                    "Ref": "AWS::AccountId",
                  },
                  ".dkr.ecr.",
                  Object {
                    "Ref": "AWS::Region",
                  },
                  ".",
                  Object {
                    "Ref": "AWS::URLSuffix",
                  },
                  "/aws-cdk/assets:7c9e079743e720b70ff8ebb610b200b99b7bc6a53866e2da22f537f751de0ff4",
                ],
              ],
            },
            "LogConfiguration": Object {
              "LogDriver": "awslogs",
              "Options": Object {
                "awslogs-group": Object {
                  "Ref": "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                },
                "awslogs-region": Object {
                  "Ref": "AWS::Region",
                },
                "awslogs-stream-prefix": "transliterator",
              },
            },
            "Name": "Resource",
          },
        ],
        "Cpu": "4096",
        "ExecutionRoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
            "Arn",
          ],
        },
        "Family": "TestConstructHubOrchestrationTransliteratorTaskDefinition1C44F91E",
        "Memory": "8192",
        "NetworkMode": "awsvpc",
        "RequiresCompatibilities": Array [
          "FARGATE",
        ],
        "TaskRoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
            "Arn",
          ],
        },
      },
      "Type": "AWS::ECS::TaskDefinition",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "ecs-tasks.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleDefaultPolicyBDBF6E5D": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "ecr:BatchCheckLayerAvailability",
                "ecr:GetDownloadUrlForLayer",
                "ecr:BatchGetImage",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":ecr:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":repository/aws-cdk/assets",
                  ],
                ],
              },
            },
            Object {
              "Action": "ecr:GetAuthorizationToken",
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleDefaultPolicyBDBF6E5D",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "ecs-tasks.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleDefaultPolicyE0EED0F8": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "states:SendTaskFailure",
                "states:SendTaskHeartbeat",
                "states:SendTaskSuccess",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/assembly.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/uninstallable",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/uninstallable",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/uninstallable",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-typescript.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-typescript.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-python.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-python.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-java.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-java.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-csharp.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-csharp.*.corruptassembly",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleDefaultPolicyE0EED0F8",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubPackageDataDC5EF35E": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "AbortIncompleteMultipartUpload": Object {
                "DaysAfterInitiation": 1,
              },
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionTransitions": Array [
                Object {
                  "StorageClass": "STANDARD_IA",
                  "TransitionInDays": 31,
                },
              ],
              "Status": "Enabled",
            },
            Object {
              "ExpiredObjectDeleteMarker": true,
              "NoncurrentVersionExpirationInDays": 90,
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionExpirationInDays": 7,
              "Prefix": "catalog.json",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubPackageDataPolicy4615475A": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubPackageDataDC5EF35E",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:GetObject",
              "Effect": "Allow",
              "Principal": Object {
                "CanonicalUser": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4",
                    "S3CanonicalUserId",
                  ],
                },
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubPackageStatsFailures833C3D9B": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The package stats function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/PackageStats/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubStats61DB07B1",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "ExpirationInDays": 30,
              "Prefix": "staged/",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubSourcesFailoverNpmJsStagingBucketPolicy00182F29": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubSourcesNpmJs15A77D2D": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22",
        "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3Bucket024B3DC6",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJs] Periodically query npmjs.com index for new packages",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "FUNCTION_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
            },
            "LICENSE_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubLicenseListBucket9334047F",
            },
            "LICENSE_LIST_OBJECT_KEY": "allowed-licenses.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 300,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsCanary5558FC45": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
        "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3Bucket37F2908E",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJs/PackageCanary] Monitors construct-hub-probe versions availability",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "CONSTRUCT_HUB_BASE_URL": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "https://",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppDistribution1F181DC9",
                      "DomainName",
                    ],
                  },
                ],
              ],
            },
            "PACKAGE_CANARY_BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "PACKAGE_NAME": "construct-hub-probe",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsCanaryAlarmBE2B479E": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": "New versions of construct-hub-probe have been published over 5 minutes ago and are still not visible in construct hub
Runbook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Canary/SLA-Breached",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 2,
        "Metrics": Array [
          Object {
            "Expression": "MAX([mDwell, mTTC])",
            "Id": "expr_1",
          },
          Object {
            "Id": "mDwell",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "DwellTime",
                "Namespace": "ConstructHub/PackageCanary",
              },
              "Period": 60,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "mTTC",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "TimeToCatalog",
                "Namespace": "ConstructHub/PackageCanary",
              },
              "Period": 60,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 300,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsCanarySchedule4D94219F": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
      ],
      "Properties": Object {
        "Description": "Scheduled executions of the NpmJS package canary",
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubSourcesNpmJsCanary5558FC45",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubSourcesNpmJsCanaryScheduleAllowEventRuleTestConstructHubSourcesNpmJsCanary47220A990ABB5DFD": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanary5558FC45",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanarySchedule4D94219F",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/package-canary/*.state.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubSourcesNpmJs15A77D2D",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsFollowerNoChanges2CB08C93": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function is no discovering any changes from CouchDB!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/NoChanges",
        "ComparisonOperator": "LessThanThreshold",
        "EvaluationPeriods": 2,
        "MetricName": "ChangeCount",
        "Namespace": "ConstructHub/PackageSource/NpmJs/Follower",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsFollowerNotRunningCEAF0E1E": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsScheduleAllowEventRuleTestConstructHubSourcesNpmJs5171C2A673CCB598",
        "ConstructHubSourcesNpmJsSchedule34031870",
      ],
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubSourcesNpmJs15A77D2D",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsSchedule34031870": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
      ],
      "Properties": Object {
        "Description": "Test/ConstructHub/Sources/NpmJs/Schedule",
        "ScheduleExpression": "rate(5 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubSourcesNpmJs15A77D2D",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubSourcesNpmJsScheduleAllowEventRuleTestConstructHubSourcesNpmJs5171C2A673CCB598": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJs15A77D2D",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsSchedule34031870",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/couchdb-last-transaction-id.2",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsStageAndNotify591C0CFA": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F",
        "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3Bucket8AF0E263",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "DeadLetterConfig": Object {
          "TargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubSourcesStagerDLQ80BD2600",
              "Arn",
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJS-StageAndNotify] Stages tarballs to S3 and notifies ConstructHub",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "QUEUE_URL": Object {
              "Ref": "ConstructHubIngestionQueue1AD94CA3",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 300,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyEventInvokeConfigF58F658E": Object {
      "Properties": Object {
        "FunctionName": Object {
          "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
        },
        "MaximumRetryAttempts": 2,
        "Qualifier": "$LATEST",
      },
      "Type": "AWS::Lambda::EventInvokeConfig",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sqs:SendMessage",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsStageAndNotifySqsEventSourceTestConstructHubSourcesStagerDLQC4F4F3F95658073F": Object {
      "Properties": Object {
        "BatchSize": 1,
        "Enabled": false,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesStagerDLQ80BD2600",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubSourcesNpmJsStagingBucketB286F0E6": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "ExpirationInDays": 30,
              "Prefix": "staged/",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubSourcesNpmJsStagingBucketPolicy06788ED9": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubSourcesStagerDLQ80BD2600": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubSourcesTestConstructHubSourcesNpmJsStagerDLQNotEmpty30787871": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJS package stager is failing - its dead letter queue is not empty/n/nLink to the lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "/nLink to the dead letter queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "/n/nRunbook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Stager/DLQNotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "mVisible + mHidden",
            "Id": "expr_1",
          },
          Object {
            "Id": "mVisible",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubSourcesStagerDLQ80BD2600",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "mHidden",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubSourcesStagerDLQ80BD2600",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubStats61DB07B1": Object {
      "DependsOn": Array [
        "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA",
        "ConstructHubStatsServiceRole48DCA379",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3Bucket3D1A3222",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Creates the stats.json object in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "CATALOG_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CATALOG_OBJECT_KEY": "catalog.json",
            "STATS_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "STATS_OBJECT_KEY": "stats.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 256,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStatsServiceRole48DCA379",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "PassThrough",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubStatsLogRetentionDD577705": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubStatsRuleAllowEventRuleTestConstructHubStatsA5392874C4495EDA": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStats61DB07B1",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStatsRuleEEDEC976",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubStatsRuleEEDEC976": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(1 day)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubStats61DB07B1",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubStatsServiceRole48DCA379": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubStatsServiceRole48DCA379",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubVersionTrackerD5E8AEAE": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
        "ConstructHubVersionTrackerServiceRole721EE863",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3Bucket86412295",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "[Test/ConstructHub/VersionTracker] Creates the all-versions.json in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "PACKAGE_DATA_KEY_PREFIX": "data/",
            "VERSION_TRACKER_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "VERSION_TRACKER_OBJECT_KEY": "all-versions.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerServiceRole721EE863",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubVersionTrackerFailures00296806": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The version tracker function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/VersionTracker/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubVersionTrackerD5E8AEAE",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubVersionTrackerLogRetention6BB4E813": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubVersionTrackerNotRunning2FBC5BDA": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The version tracker function is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/VersionTracker/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubVersionTrackerD5E8AEAE",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 60,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubVersionTrackerRuleAllowEventRuleTestConstructHubVersionTracker969692245DE33940": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerD5E8AEAE",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerRuleD147E5BF",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubVersionTrackerRuleD147E5BF": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
      ],
      "Properties": Object {
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubVersionTrackerD5E8AEAE",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubVersionTrackerServiceRole721EE863": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubVersionTrackerServiceRole721EE863",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B": Object {
      "Properties": Object {
        "AutoPublish": true,
        "FunctionCode": "\\"use strict\\";
function handler(event) {
    var response = event.response;
    var headers = response.headers;
    headers['x-frame-options'] = { value: 'deny' };
    headers['x-xss-protection'] = { value: '1; mode=block' };
    headers['x-content-type-options'] = { value: 'nosniff' };
    headers['strict-transport-security'] = { value: 'max-age=47304000; includeSubDomains' };
    headers['content-security-policy'] = {
        value: [
            \\"default-src 'self' 'unsafe-inline' https://*.awsstatic.com;\\",
            \\"connect-src 'self' https://*.shortbread.aws.dev https://a0.awsstatic.com/ https://amazonwebservices.d2.sc.omtrdc.net https://aws.demdex.net https://dpm.demdex.net https://cm.everesttech.net;\\",
            'frame-src https://aws.demdex.net https://dpm.demdex.net;',
            \\"img-src 'self' https://* https://a0.awsstatic.com/ https://amazonwebservices.d2.sc.omtrdc.net https://aws.demdex.net https://dpm.demdex.net https://cm.everesttech.net;\\",
            \\"object-src 'none';\\",
            \\"style-src 'self' 'unsafe-inline';\\",
        ].join(' '),
    };
    return response;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzcG9uc2UtZnVuY3Rpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvd2ViYXBwL3Jlc3BvbnNlLWZ1bmN0aW9uL3Jlc3BvbnNlLWZ1bmN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFTQSxTQUFTLE9BQU8sQ0FBQyxLQUF5QjtJQUN4QyxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO0lBQzlCLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUM7SUFFL0IsT0FBTyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUM7SUFDL0MsT0FBTyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLENBQUM7SUFDekQsT0FBTyxDQUFDLHdCQUF3QixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUM7SUFDekQsT0FBTyxDQUFDLDJCQUEyQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUscUNBQXFDLEVBQUUsQ0FBQztJQUN4RixPQUFPLENBQUMseUJBQXlCLENBQUMsR0FBRztRQUNuQyxLQUFLLEVBQ0w7WUFDRSw2REFBNkQ7WUFDN0QsZ01BQWdNO1lBQ2hNLDBEQUEwRDtZQUMxRCx5S0FBeUs7WUFDekssb0JBQW9CO1lBQ3BCLG1DQUFtQztTQUNwQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7S0FDWixDQUFDO0lBRUYsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImludGVyZmFjZSBDbG91ZEZyb250UmVzcG9uc2Uge1xuICByZXNwb25zZTogYW55O1xuICBoZWFkZXJzOiB7XG4gICAgW2tleTogc3RyaW5nXToge1xuICAgICAgdmFsdWU6IHN0cmluZztcbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVyKGV2ZW50OiBDbG91ZEZyb250UmVzcG9uc2UpIHtcbiAgdmFyIHJlc3BvbnNlID0gZXZlbnQucmVzcG9uc2U7XG4gIHZhciBoZWFkZXJzID0gcmVzcG9uc2UuaGVhZGVycztcblxuICBoZWFkZXJzWyd4LWZyYW1lLW9wdGlvbnMnXSA9IHsgdmFsdWU6ICdkZW55JyB9O1xuICBoZWFkZXJzWyd4LXhzcy1wcm90ZWN0aW9uJ10gPSB7IHZhbHVlOiAnMTsgbW9kZT1ibG9jaycgfTtcbiAgaGVhZGVyc1sneC1jb250ZW50LXR5cGUtb3B0aW9ucyddID0geyB2YWx1ZTogJ25vc25pZmYnIH07XG4gIGhlYWRlcnNbJ3N0cmljdC10cmFuc3BvcnQtc2VjdXJpdHknXSA9IHsgdmFsdWU6ICdtYXgtYWdlPTQ3MzA0MDAwOyBpbmNsdWRlU3ViRG9tYWlucycgfTtcbiAgaGVhZGVyc1snY29udGVudC1zZWN1cml0eS1wb2xpY3knXSA9IHtcbiAgICB2YWx1ZTpcbiAgICBbXG4gICAgICBcImRlZmF1bHQtc3JjICdzZWxmJyAndW5zYWZlLWlubGluZScgaHR0cHM6Ly8qLmF3c3N0YXRpYy5jb207XCIsXG4gICAgICBcImNvbm5lY3Qtc3JjICdzZWxmJyBodHRwczovLyouc2hvcnRicmVhZC5hd3MuZGV2IGh0dHBzOi8vYTAuYXdzc3RhdGljLmNvbS8gaHR0cHM6Ly9hbWF6b253ZWJzZXJ2aWNlcy5kMi5zYy5vbXRyZGMubmV0IGh0dHBzOi8vYXdzLmRlbWRleC5uZXQgaHR0cHM6Ly9kcG0uZGVtZGV4Lm5ldCBodHRwczovL2NtLmV2ZXJlc3R0ZWNoLm5ldDtcIixcbiAgICAgICdmcmFtZS1zcmMgaHR0cHM6Ly9hd3MuZGVtZGV4Lm5ldCBodHRwczovL2RwbS5kZW1kZXgubmV0OycsXG4gICAgICBcImltZy1zcmMgJ3NlbGYnIGh0dHBzOi8vKiBodHRwczovL2EwLmF3c3N0YXRpYy5jb20vIGh0dHBzOi8vYW1hem9ud2Vic2VydmljZXMuZDIuc2Mub210cmRjLm5ldCBodHRwczovL2F3cy5kZW1kZXgubmV0IGh0dHBzOi8vZHBtLmRlbWRleC5uZXQgaHR0cHM6Ly9jbS5ldmVyZXN0dGVjaC5uZXQ7XCIsXG4gICAgICBcIm9iamVjdC1zcmMgJ25vbmUnO1wiLFxuICAgICAgXCJzdHlsZS1zcmMgJ3NlbGYnICd1bnNhZmUtaW5saW5lJztcIixcbiAgICBdLmpvaW4oJyAnKSxcbiAgfTtcblxuICByZXR1cm4gcmVzcG9uc2U7XG59XG4iXX0=",
        "FunctionConfig": Object {
          "Comment": "AddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9",
          "Runtime": "cloudfront-js-1.0",
        },
        "Name": "AddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9",
      },
      "Type": "AWS::CloudFront::Function",
    },
    "ConstructHubWebAppDeployWebsiteAwsCliLayer23CFFBC1": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubWebAppDeployWebsiteConfigAwsCliLayer8DFDB17A": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubWebAppDeployWebsiteConfigCustomResource2D18C708": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "DistributionId": Object {
          "Ref": "ConstructHubWebAppDistribution1F181DC9",
        },
        "Prune": false,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
          },
          Object {
            "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
        "SystemMetadata": Object {
          "cache-control": "public, max-age=300, must-revalidate, s-maxage=60, proxy-revalidate",
        },
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubWebAppDeployWebsiteCustomResourceE6DF98C9": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "DistributionId": Object {
          "Ref": "ConstructHubWebAppDistribution1F181DC9",
        },
        "Prune": false,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
        "SystemMetadata": Object {
          "cache-control": "public, max-age=300, must-revalidate, s-maxage=60, proxy-revalidate",
        },
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubWebAppDistribution1F181DC9": Object {
      "Properties": Object {
        "DistributionConfig": Object {
          "CacheBehaviors": Array [
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/data/*",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/catalog.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/all-versions.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/stats.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
          ],
          "CustomErrorResponses": Array [
            Object {
              "ErrorCode": 404,
              "ResponseCode": 200,
              "ResponsePagePath": "/index.html",
            },
            Object {
              "ErrorCode": 403,
              "ResponseCode": 200,
              "ResponsePagePath": "/index.html",
            },
          ],
          "DefaultCacheBehavior": Object {
            "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
            "Compress": true,
            "FunctionAssociations": Array [
              Object {
                "EventType": "viewer-response",
                "FunctionARN": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                    "FunctionARN",
                  ],
                },
              },
            ],
            "TargetOriginId": "TestConstructHubWebAppDistributionOrigin171FF58D3",
            "ViewerProtocolPolicy": "allow-all",
          },
          "DefaultRootObject": "index.html",
          "Enabled": true,
          "HttpVersion": "http2",
          "IPV6Enabled": true,
          "Origins": Array [
            Object {
              "DomainName": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                  "RegionalDomainName",
                ],
              },
              "Id": "TestConstructHubWebAppDistributionOrigin171FF58D3",
              "S3OriginConfig": Object {
                "OriginAccessIdentity": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "origin-access-identity/cloudfront/",
                      Object {
                        "Ref": "ConstructHubWebAppDistributionOrigin1S3Origin694AF937",
                      },
                    ],
                  ],
                },
              },
            },
            Object {
              "DomainName": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "RegionalDomainName",
                ],
              },
              "Id": "TestConstructHubWebAppDistributionOrigin276090F90",
              "S3OriginConfig": Object {
                "OriginAccessIdentity": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "origin-access-identity/cloudfront/",
                      Object {
                        "Ref": "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4",
                      },
                    ],
                  ],
                },
              },
            },
          ],
        },
      },
      "Type": "AWS::CloudFront::Distribution",
    },
    "ConstructHubWebAppDistributionOrigin1S3Origin694AF937": Object {
      "Properties": Object {
        "CloudFrontOriginAccessIdentityConfig": Object {
          "Comment": "Identity for TestConstructHubWebAppDistributionOrigin171FF58D3",
        },
      },
      "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
    },
    "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4": Object {
      "Properties": Object {
        "CloudFrontOriginAccessIdentityConfig": Object {
          "Comment": "Identity for TestConstructHubWebAppDistributionOrigin276090F90",
        },
      },
      "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
    },
    "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubWebAppFailoverWebsiteBucketPolicy7303D09F": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubWebAppWebsiteBucket4B2B9DB2": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubWebAppWebsiteBucketPolicy17174C06": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:GetObject",
              "Effect": "Allow",
              "Principal": Object {
                "CanonicalUser": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppDistributionOrigin1S3Origin694AF937",
                    "S3CanonicalUserId",
                  ],
                },
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536": Object {
      "DependsOn": Array [
        "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
        "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3BucketD1AD544E",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Handler": "index.handler",
        "Layers": Array [
          Object {
            "Ref": "ConstructHubDenyListBucketDeploymentAwsCliLayerEAC3D4DA",
          },
        ],
        "Role": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
            "Arn",
          ],
        },
        "Runtime": "python3.7",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "cloudfront:GetInvalidation",
                "cloudfront:CreateInvalidation",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
        "Roles": Array [
          Object {
            "Ref": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F": Object {
      "DependsOn": Array [
        "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3Bucket4842F32D",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Lambda function for auto-deleting objects in ",
              Object {
                "Ref": "ConstructHubDenyListBucket1B3C2C2E",
              },
              " S3 bucket.",
            ],
          ],
        },
        "Handler": "__entrypoint__.handler",
        "MemorySize": 128,
        "Role": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
            "Arn",
          ],
        },
        "Runtime": "nodejs12.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Sub": "arn:\${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A": Object {
      "DependsOn": Array [
        "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB",
        "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3Bucket2070BA0A",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:PutRetentionPolicy",
                "logs:DeleteRetentionPolicy",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB",
        "Roles": Array [
          Object {
            "Ref": "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2": Object {
      "DependsOn": Array [
        "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D",
        "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3BucketCBEF8050",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/MissingDocumentationWidget] Is a custom CloudWatch widget handler",
        "Environment": Object {
          "Variables": Object {
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "OBJECT_KEY": "uninstallable-objects/data.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Tags": Array [
          Object {
            "Key": "function-purpose",
            "Value": "cloudwatch-custom-widget",
          },
        ],
        "Timeout": 15,
      },
      "Type": "AWS::Lambda::Function",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
        "Tags": Array [
          Object {
            "Key": "function-purpose",
            "Value": "cloudwatch-custom-widget",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/uninstallable-objects/data.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/typescript-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/typescript.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/python-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/python.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/java-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/java.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/csharp-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/csharp.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D",
        "Roles": Array [
          Object {
            "Ref": "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
  },
}
`;

exports[`with domain 1`] = `
Object {
  "Mappings": Object {
    "AWSCloudFrontPartitionHostedZoneIdMap": Object {
      "aws": Object {
        "zoneId": "Z2FDTNDATAQYW2",
      },
      "aws-cn": Object {
        "zoneId": "Z3RFFRIM2A3IF5",
      },
    },
  },
  "Outputs": Object {
    "ConstructHubDenyListSnapshotCommand3E133B03": Object {
      "Description": "Snapshot Test/ConstructHub/DenyList/Bucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
            },
          ],
        ],
      },
    },
    "ConstructHubIngestionSnapshotCommand746AF5B0": Object {
      "Description": "Snapshot Test/ConstructHub/Ingestion/ConfigBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubIngestionFailoverConfigBucket079F82C3",
            },
          ],
        ],
      },
    },
    "ConstructHubLicenseListSnapshotCommandB9EA2EF4": Object {
      "Description": "Snapshot Test/ConstructHub/LicenseList/Bucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubLicenseListBucket9334047F",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubLicenseListFailoverBucketA96D2AAF",
            },
          ],
        ],
      },
    },
    "ConstructHubMonitoringWatchfulWatchfulDashboard75D318D0": Object {
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "https://console.aws.amazon.com/cloudwatch/home?region=",
            Object {
              "Ref": "AWS::Region",
            },
            "#dashboards:name=",
            Object {
              "Ref": "ConstructHubMonitoringWatchfulDashboardB8493D55",
            },
          ],
        ],
      },
    },
    "ConstructHubSnapshotCommandDD3886DA": Object {
      "Description": "Snapshot Test/ConstructHub/PackageData",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubFailoverPackageDataBA7D3B85",
            },
          ],
        ],
      },
    },
    "ConstructHubSourcesSnapshotCommandB1EF760F": Object {
      "Description": "Snapshot Test/ConstructHub/Sources/NpmJs--StagingBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
            },
          ],
        ],
      },
    },
    "ConstructHubWebAppDomainNameDC10F8DD": Object {
      "Export": Object {
        "Name": "ConstructHubDomainName",
      },
      "Value": Object {
        "Fn::GetAtt": Array [
          "ConstructHubWebAppDistribution1F181DC9",
          "DomainName",
        ],
      },
    },
    "ConstructHubWebAppSnapshotCommandC5AF418E": Object {
      "Description": "Snapshot Test/ConstructHub/WebApp/WebsiteBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
            },
          ],
        ],
      },
    },
  },
  "Parameters": Object {
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6ArtifactHashF2EEEBFF": Object {
      "Description": "Artifact hash for asset \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3Bucket86412295": Object {
      "Description": "S3 bucket for asset \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01": Object {
      "Description": "S3 key for asset version \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440ArtifactHash87A9FF22": Object {
      "Description": "Artifact hash for asset \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054": Object {
      "Description": "S3 bucket for asset \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49": Object {
      "Description": "S3 key for asset version \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters069043dc5c067ee8fba8c04a297886c3ecb0c208f06ea32fc40bb0761e8c9a99ArtifactHash3971F0E0": Object {
      "Description": "Artifact hash for asset \\"069043dc5c067ee8fba8c04a297886c3ecb0c208f06ea32fc40bb0761e8c9a99\\"",
      "Type": "String",
    },
    "AssetParameters069043dc5c067ee8fba8c04a297886c3ecb0c208f06ea32fc40bb0761e8c9a99S3Bucket7FED7AFC": Object {
      "Description": "S3 bucket for asset \\"069043dc5c067ee8fba8c04a297886c3ecb0c208f06ea32fc40bb0761e8c9a99\\"",
      "Type": "String",
    },
    "AssetParameters069043dc5c067ee8fba8c04a297886c3ecb0c208f06ea32fc40bb0761e8c9a99S3VersionKey4EDE2DC8": Object {
      "Description": "S3 key for asset version \\"069043dc5c067ee8fba8c04a297886c3ecb0c208f06ea32fc40bb0761e8c9a99\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9ArtifactHashB9E3BF29": Object {
      "Description": "Artifact hash for asset \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF": Object {
      "Description": "S3 bucket for asset \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876": Object {
      "Description": "S3 key for asset version \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1ArtifactHash0128B949": Object {
      "Description": "Artifact hash for asset \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3Bucket4842F32D": Object {
      "Description": "S3 bucket for asset \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A": Object {
      "Description": "S3 key for asset version \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5ArtifactHash0AFE0939": Object {
      "Description": "Artifact hash for asset \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3Bucket722FE70B": Object {
      "Description": "S3 bucket for asset \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC": Object {
      "Description": "S3 key for asset version \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5ArtifactHash499F6DFF": Object {
      "Description": "Artifact hash for asset \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3Bucket37F2908E": Object {
      "Description": "S3 bucket for asset \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11": Object {
      "Description": "S3 key for asset version \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787ArtifactHash1BD3190B": Object {
      "Description": "Artifact hash for asset \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3BucketFE59B3A9": Object {
      "Description": "S3 bucket for asset \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588": Object {
      "Description": "S3 key for asset version \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dArtifactHash3B82A2B3": Object {
      "Description": "Artifact hash for asset \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3BucketCBEF8050": Object {
      "Description": "S3 bucket for asset \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381": Object {
      "Description": "S3 key for asset version \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bArtifactHash5ABBFB9B": Object {
      "Description": "Artifact hash for asset \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3Bucket8AF0E263": Object {
      "Description": "S3 bucket for asset \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545": Object {
      "Description": "S3 key for asset version \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeArtifactHash3FAC57D3": Object {
      "Description": "Artifact hash for asset \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3Bucket6F376B71": Object {
      "Description": "S3 bucket for asset \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804": Object {
      "Description": "S3 key for asset version \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177ArtifactHashF4EB5524": Object {
      "Description": "Artifact hash for asset \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC": Object {
      "Description": "S3 bucket for asset \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9": Object {
      "Description": "S3 key for asset version \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters7af6295e521fd55af94332393ceffb3e866aac4dc4956321f7918f21e72199e4ArtifactHash5E28809B": Object {
      "Description": "Artifact hash for asset \\"7af6295e521fd55af94332393ceffb3e866aac4dc4956321f7918f21e72199e4\\"",
      "Type": "String",
    },
    "AssetParameters7af6295e521fd55af94332393ceffb3e866aac4dc4956321f7918f21e72199e4S3Bucket5BEBDCBE": Object {
      "Description": "S3 bucket for asset \\"7af6295e521fd55af94332393ceffb3e866aac4dc4956321f7918f21e72199e4\\"",
      "Type": "String",
    },
    "AssetParameters7af6295e521fd55af94332393ceffb3e866aac4dc4956321f7918f21e72199e4S3VersionKey326451BC": Object {
      "Description": "S3 key for asset version \\"7af6295e521fd55af94332393ceffb3e866aac4dc4956321f7918f21e72199e4\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900ArtifactHash121EF458": Object {
      "Description": "Artifact hash for asset \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865": Object {
      "Description": "S3 bucket for asset \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20": Object {
      "Description": "S3 key for asset version \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9ArtifactHash694505BF": Object {
      "Description": "Artifact hash for asset \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0": Object {
      "Description": "S3 bucket for asset \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4": Object {
      "Description": "S3 key for asset version \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064ArtifactHashEA963870": Object {
      "Description": "Artifact hash for asset \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2": Object {
      "Description": "S3 bucket for asset \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37": Object {
      "Description": "S3 key for asset version \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4ArtifactHash660A50B8": Object {
      "Description": "Artifact hash for asset \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3BucketE78A0203": Object {
      "Description": "S3 bucket for asset \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7": Object {
      "Description": "S3 key for asset version \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8ArtifactHash238275D6": Object {
      "Description": "Artifact hash for asset \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3BucketD1AD544E": Object {
      "Description": "S3 bucket for asset \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70": Object {
      "Description": "S3 key for asset version \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827ArtifactHash1355580A": Object {
      "Description": "Artifact hash for asset \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3Bucket2070BA0A": Object {
      "Description": "S3 bucket for asset \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3": Object {
      "Description": "S3 key for asset version \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73ArtifactHashE8AF1E10": Object {
      "Description": "Artifact hash for asset \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3Bucket9A67A1B5": Object {
      "Description": "S3 bucket for asset \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5": Object {
      "Description": "S3 key for asset version \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcArtifactHash4E26EEC4": Object {
      "Description": "Artifact hash for asset \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3Bucket5255533F": Object {
      "Description": "S3 bucket for asset \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675": Object {
      "Description": "S3 key for asset version \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009ArtifactHash0AE6829F": Object {
      "Description": "Artifact hash for asset \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3Bucket3D1A3222": Object {
      "Description": "S3 bucket for asset \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC": Object {
      "Description": "S3 key for asset version \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aArtifactHash0386B8EC": Object {
      "Description": "Artifact hash for asset \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3BucketAE80D773": Object {
      "Description": "S3 bucket for asset \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F": Object {
      "Description": "S3 key for asset version \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efArtifactHashE5DEFDE2": Object {
      "Description": "Artifact hash for asset \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3Bucket583A7087": Object {
      "Description": "S3 bucket for asset \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839": Object {
      "Description": "S3 key for asset version \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68ArtifactHashD9A515C3": Object {
      "Description": "Artifact hash for asset \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7": Object {
      "Description": "S3 bucket for asset \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F": Object {
      "Description": "S3 key for asset version \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3ArtifactHash11DB5971": Object {
      "Description": "Artifact hash for asset \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3BucketAC5DE359": Object {
      "Description": "S3 bucket for asset \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC": Object {
      "Description": "S3 key for asset version \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5ArtifactHash185A4671": Object {
      "Description": "Artifact hash for asset \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3Bucket024B3DC6": Object {
      "Description": "S3 bucket for asset \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859": Object {
      "Description": "S3 key for asset version \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
  },
  "Resources": Object {
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691": Object {
      "DependsOn": Array [
        "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
        "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
      ],
      "Properties": Object {
        "Code": Object {
          "ZipFile": "import boto3  # type: ignore
import json
import logging
import urllib.request

s3 = boto3.client(\\"s3\\")

CONFIGURATION_TYPES = [\\"TopicConfigurations\\", \\"QueueConfigurations\\", \\"LambdaFunctionConfigurations\\"]

def handler(event: dict, context):
    response_status = \\"SUCCESS\\"
    error_message = \\"\\"
    try:
        props = event[\\"ResourceProperties\\"]
        bucket = props[\\"BucketName\\"]
        notification_configuration = props[\\"NotificationConfiguration\\"]
        request_type = event[\\"RequestType\\"]
        managed = props.get('Managed', 'true').lower() == 'true'
        stack_id = event['StackId']

        if managed:
          config = handle_managed(request_type, notification_configuration)
        else:
          config = handle_unmanaged(bucket, stack_id, request_type, notification_configuration)

        put_bucket_notification_configuration(bucket, config)
    except Exception as e:
        logging.exception(\\"Failed to put bucket notification configuration\\")
        response_status = \\"FAILED\\"
        error_message = f\\"Error: {str(e)}. \\"
    finally:
        submit_response(event, context, response_status, error_message)


def handle_managed(request_type, notification_configuration):
  if request_type == 'Delete':
    return {}
  return notification_configuration


def handle_unmanaged(bucket, stack_id, request_type, notification_configuration):

  # find external notifications
  external_notifications = find_external_notifications(bucket, stack_id)

  # if delete, that's all we need
  if request_type == 'Delete':
    return external_notifications

  def with_id(notification):
    notification['Id'] = f\\"{stack_id}-{hash(json.dumps(notification, sort_keys=True))}\\"
    return notification

  # otherwise, merge external with incoming config and augment with id
  notifications = {}
  for t in CONFIGURATION_TYPES:
    external = external_notifications.get(t, [])
    incoming = [with_id(n) for n in notification_configuration.get(t, [])]
    notifications[t] = external + incoming
  return notifications


def find_external_notifications(bucket, stack_id):
  existing_notifications = get_bucket_notification_configuration(bucket)
  external_notifications = {}
  for t in CONFIGURATION_TYPES:
    # if the notification was created by us, we know what id to expect
    # so we can filter by it.
    external_notifications[t] = [n for n in existing_notifications.get(t, []) if not n['Id'].startswith(f\\"{stack_id}-\\")]

  return external_notifications


def get_bucket_notification_configuration(bucket):
  return s3.get_bucket_notification_configuration(Bucket=bucket)


def put_bucket_notification_configuration(bucket, notification_configuration):
  s3.put_bucket_notification_configuration(Bucket=bucket, NotificationConfiguration=notification_configuration)


def submit_response(event: dict, context, response_status: str, error_message: str):
    response_body = json.dumps(
        {
            \\"Status\\": response_status,
            \\"Reason\\": f\\"{error_message}See the details in CloudWatch Log Stream: {context.log_stream_name}\\",
            \\"PhysicalResourceId\\": event.get(\\"PhysicalResourceId\\") or event[\\"LogicalResourceId\\"],
            \\"StackId\\": event[\\"StackId\\"],
            \\"RequestId\\": event[\\"RequestId\\"],
            \\"LogicalResourceId\\": event[\\"LogicalResourceId\\"],
            \\"NoEcho\\": False,
        }
    ).encode(\\"utf-8\\")
    headers = {\\"content-type\\": \\"\\", \\"content-length\\": str(len(response_body))}
    try:
        req = urllib.request.Request(url=event[\\"ResponseURL\\"], headers=headers, data=response_body, method=\\"PUT\\")
        with urllib.request.urlopen(req) as response:
            print(response.read().decode(\\"utf-8\\"))
        print(\\"Status code: \\" + response.reason)
    except Exception as e:
        print(\\"send(..) failed executing request.urlopen(..): \\" + str(e))
",
        },
        "Description": "AWS CloudFormation handler for \\"Custom::S3BucketNotifications\\" resources (@aws-cdk/aws-s3)",
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
            "Arn",
          ],
        },
        "Runtime": "python3.7",
        "Timeout": 300,
      },
      "Type": "AWS::Lambda::Function",
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:PutBucketNotification",
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
        "Roles": Array [
          Object {
            "Ref": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "CertCertificateRequestorFunction98FDF273": Object {
      "DependsOn": Array [
        "CertCertificateRequestorFunctionServiceRoleDefaultPolicy4F1E63AC",
        "CertCertificateRequestorFunctionServiceRoleF65859C0",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters7af6295e521fd55af94332393ceffb3e866aac4dc4956321f7918f21e72199e4S3Bucket5BEBDCBE",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters7af6295e521fd55af94332393ceffb3e866aac4dc4956321f7918f21e72199e4S3VersionKey326451BC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters7af6295e521fd55af94332393ceffb3e866aac4dc4956321f7918f21e72199e4S3VersionKey326451BC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Handler": "index.certificateRequestHandler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "CertCertificateRequestorFunctionServiceRoleF65859C0",
            "Arn",
          ],
        },
        "Runtime": "nodejs12.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CertCertificateRequestorFunctionServiceRoleDefaultPolicy4F1E63AC": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "acm:RequestCertificate",
                "acm:DescribeCertificate",
                "acm:DeleteCertificate",
                "acm:AddTagsToCertificate",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "route53:GetChange",
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "route53:changeResourceRecordSets",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":route53:::hostedzone/ZONEID",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "CertCertificateRequestorFunctionServiceRoleDefaultPolicy4F1E63AC",
        "Roles": Array [
          Object {
            "Ref": "CertCertificateRequestorFunctionServiceRoleF65859C0",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "CertCertificateRequestorFunctionServiceRoleF65859C0": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "CertCertificateRequestorResource9D0836FD": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DomainName": "my.construct.hub",
        "HostedZoneId": "ZONEID",
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CertCertificateRequestorFunction98FDF273",
            "Arn",
          ],
        },
      },
      "Type": "AWS::CloudFormation::CustomResource",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubBackendDashboardGraphs6A37B2BC": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"start\\":\\"-P1W\\",\\"periodOverride\\":\\"auto\\",\\"widgets\\":[{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"markdown\\":\\"# Catalog Overview\\\\n\\\\n[button:primary:Package Data](/s3/buckets/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              ")\\\\n[button:Catalog Builder](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
              ")\\\\n[button:Inventory Canary](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
              ")\\\\n[button:Search Canary Log Group](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Size\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SubmoduleCount\\",{\\"label\\":\\"Submodules\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageVersionCount\\",{\\"label\\":\\"Package Versions\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageMajorVersionCount\\",{\\"label\\":\\"Package Majors\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageCount\\",{\\"label\\":\\"Packages\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Issues\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"UnknownObjectCount\\",{\\"label\\":\\"Unknown\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingAssemblyCount\\",{\\"label\\":\\"Missing Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageMetadataCount\\",{\\"label\\":\\"Missing Metadata\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageTarballCount\\",{\\"label\\":\\"Missing Tarball\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UninstallablePackageCount\\",{\\"label\\":\\"Uninstallable Package\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/CatalogBuilder\\",\\"MissingConstructFrameworkCount\\",{\\"label\\":\\"No Construct Framework\\",\\"period\\":900,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/CatalogBuilder\\",\\"MissingConstructFrameworkVersionCount\\",{\\"label\\":\\"No Construct Framework Version\\",\\"period\\":900,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":8,\\"properties\\":{\\"markdown\\":\\"# Documentation Generation\\\\n\\\\n[button:primary:Transliterator Logs](/cloudwatch/home#logsV2:log-groups/log-group/",
              Object {
                "Fn::Join": Array [
                  "%252",
                  Object {
                    "Fn::Split": Array [
                      "/",
                      Object {
                        "Ref": "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                      },
                    ],
                  },
                ],
              },
              ")\\\\n[button:Transliterator ECS Cluster](/ecs/home#/clusters/",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "/tasks)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Fargate Resources\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Usage\\",\\"ResourceCount\\",\\"Class\\",\\"None\\",\\"Resource\\",\\"OnDemand\\",\\"Service\\",\\"Fargate\\",\\"Type\\",\\"Resource\\",{\\"label\\":\\"Fargate Usage (On-Demand)\\",\\"stat\\":\\"Maximum\\",\\"id\\":\\"mFargateUsage\\"}],[{\\"label\\":\\"Fargate Quota (On-Demand)\\",\\"expression\\":\\"SERVICE_QUOTA(mFargateUsage)\\"}],[{\\"label\\":\\"CPU Utilization\\",\\"expression\\":\\"100 * FILL(mCpuUtilized, 0) / FILL(mCpuReserved, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"CpuReserved\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mCpuReserved\\"}],[\\"ECS/ContainerInsights\\",\\"CpuUtilized\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mCpuUtilized\\"}],[{\\"label\\":\\"Memory Utilization\\",\\"expression\\":\\"100 * FILL(mMemoryUtilized, 0) / FILL(mMemoryReserved, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"MemoryReserved\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mMemoryReserved\\"}],[\\"ECS/ContainerInsights\\",\\"MemoryUtilized\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mMemoryUtilized\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"label\\":\\"Percent\\",\\"min\\":0,\\"max\\":100,\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"ECS Resources\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Received Bytes\\",\\"expression\\":\\"FILL(m67cc14db3275d4a2af71847df2ebb376a00b015f62c4ff9d1aedb9bc615a6cf0, 0)\\"}],[\\"ECS/ContainerInsights\\",\\"NetworkRxBytes\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Received Bytes\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m67cc14db3275d4a2af71847df2ebb376a00b015f62c4ff9d1aedb9bc615a6cf0\\"}],[{\\"label\\":\\"Transmitted Bytes\\",\\"expression\\":\\"FILL(md6781afc8bf73de5587d36039d8226d1c0fe0b50a1c949759d3d8d8cd2e3f6d1, 0)\\"}],[\\"ECS/ContainerInsights\\",\\"NetworkTxBytes\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Transmitted Bytes\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"md6781afc8bf73de5587d36039d8226d1c0fe0b50a1c949759d3d8d8cd2e3f6d1\\"}],[{\\"label\\":\\"Task Count\\",\\"expression\\":\\"FILL(mbb258976f5c025a7dff5289417a6b07619e000e4af1a427fecc57b31586fd6dd, 0)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"TaskCount\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Task Count\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"mbb258976f5c025a7dff5289417a6b07619e000e4af1a427fecc57b31586fd6dd\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":16,\\"properties\\":{\\"markdown\\":\\"## Language: typescript\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":17,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":17,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":23,\\"properties\\":{\\"markdown\\":\\"## Language: python\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":24,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"markdown\\":\\"## Language: java\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":31,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":31,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":37,\\"properties\\":{\\"markdown\\":\\"## Language: csharp\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":38,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":38,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":44,\\"properties\\":{\\"markdown\\":\\"# Test/ConstructHub/Sources/NpmJs\\\\n\\\\n[button:primary:NpmJs Follower](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              ")\\\\n[button:Marker Object](/s3/object/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
              },
              "?prefix=couchdb-last-transaction-id.2)\\\\n[button:Stager](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              ")\\\\n[button:Stager DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":46,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Follower Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"RemainingTime\\",{\\"label\\":\\"Remaining Time\\",\\"stat\\":\\"Minimum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":46,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Stager Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}],[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Duration\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":52,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"CouchDB Follower\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Change Count\\",\\"expression\\":\\"FILL(mf6a938229aec623f5cf21e3ae3401901e7f7c6ebd5774ab6ac6e74af83efd121, 0)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"ChangeCount\\",{\\"label\\":\\"Change Count\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"mf6a938229aec623f5cf21e3ae3401901e7f7c6ebd5774ab6ac6e74af83efd121\\"}],[{\\"label\\":\\"Unprocessable\\",\\"expression\\":\\"FILL(m5b235d813bd8ded65d7de9a1345c9b49a8cf2af40e7e98ddbb8cb73e00783a8a, 0)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"UnprocessableEntity\\",{\\"label\\":\\"Unprocessable\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m5b235d813bd8ded65d7de9a1345c9b49a8cf2af40e7e98ddbb8cb73e00783a8a\\"}],[{\\"label\\":\\"Lag to npmjs.com\\",\\"expression\\":\\"FILL(m4d6c513faac55be4bca785e8587a9a145b65f5fe675318c9c5c52f3ada197b7b, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"NpmJsChangeAge\\",{\\"label\\":\\"Lag to npmjs.com\\",\\"stat\\":\\"Minimum\\",\\"visible\\":false,\\"id\\":\\"m4d6c513faac55be4bca785e8587a9a145b65f5fe675318c9c5c52f3ada197b7b\\"}],[{\\"label\\":\\"Package Version Age\\",\\"expression\\":\\"FILL(mec485aa83505431ed7a356970082cd4815c310504ff176dd3eeb241ae7bbf0c4, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"PackageVersionAge\\",{\\"label\\":\\"Package Version Age\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mec485aa83505431ed7a356970082cd4815c310504ff176dd3eeb241ae7bbf0c4\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"label\\":\\"Milliseconds\\",\\"min\\":0,\\"showUnits\\":false}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":52,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"CouchDB Changes\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Last Sequence Number\\",\\"expression\\":\\"FILL(mcc89a801dd7db60ea52e74b9851bd34a3899e7a26323ac98feb632cdf70c2500, REPEAT)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"LastSeq\\",{\\"label\\":\\"Last Sequence Number\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mcc89a801dd7db60ea52e74b9851bd34a3899e7a26323ac98feb632cdf70c2500\\"}]],\\"yAxis\\":{},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":58,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Stager Dead-Letter Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Visible Messages\\",\\"expression\\":\\"FILL(m96c7bb4160011a049b6b07c0feab8fb02e5a8d4aa466939592829f864dde6400, 0)\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m96c7bb4160011a049b6b07c0feab8fb02e5a8d4aa466939592829f864dde6400\\"}],[{\\"label\\":\\"Invisible Messages\\",\\"expression\\":\\"FILL(mf74066283a392fc98a0cd7a405f2aa9b5af544d3a87542f06fff7fd069fd8578, 0)\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mf74066283a392fc98a0cd7a405f2aa9b5af544d3a87542f06fff7fd069fd8578\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":58,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Package Canary\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/PackageCanary\\",\\"DwellTime\\",{\\"label\\":\\"Dwell Time\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/PackageCanary\\",\\"TimeToCatalog\\",{\\"label\\":\\"Time to Catalog\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/PackageCanary\\",\\"TrackedVersionCount\\",{\\"label\\":\\"Tracked Version Count\\",\\"period\\":60,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff0000\\",\\"label\\":\\"SLA (5 minutes)\\",\\"value\\":300,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":64,\\"properties\\":{\\"markdown\\":\\"# Ingestion Function\\\\n\\\\n[button:Ingestion Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              ")\\\\n[button:primary:Search Log Group](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "/log-events)\\\\n[button:DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":66,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Function Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":66,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Input Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Hidden Messages\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"period\\":60,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"10 Minutes\\",\\"value\\":600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":72,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Input Quality\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"stacked\\":true,\\"metrics\\":[[{\\"label\\":\\"Invalid Assemblies\\",\\"expression\\":\\"FILL(m0c5f10aa73687a21aa44b8985d19311246bca6c2cd1b2256b9f3e78c71e94fa3, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"InvalidAssembly\\",{\\"label\\":\\"Invalid Assemblies\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m0c5f10aa73687a21aa44b8985d19311246bca6c2cd1b2256b9f3e78c71e94fa3\\"}],[{\\"label\\":\\"Invalid Tarball\\",\\"expression\\":\\"FILL(m3a39d9b0bf974255f27dc95e44c8574bdfce2b97e49a7504346a77c5c9f6a3e1, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"InvalidTarball\\",{\\"label\\":\\"Invalid Tarball\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3a39d9b0bf974255f27dc95e44c8574bdfce2b97e49a7504346a77c5c9f6a3e1\\"}],[{\\"label\\":\\"Ineligible License\\",\\"expression\\":\\"FILL(me19ae9c3f20ae715e3462f9402684a3817282218f36e69494a60bc251e3435a6, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"IneligibleLicense\\",{\\"label\\":\\"Ineligible License\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"me19ae9c3f20ae715e3462f9402684a3817282218f36e69494a60bc251e3435a6\\"}],[{\\"label\\":\\"Mismatched Identity\\",\\"expression\\":\\"FILL(m7c1d407f17f8d2452a0bf87ac06fdd032de385a2758254f4192d6e17ed40d44b, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"MismatchedIdentityRejections\\",{\\"label\\":\\"Mismatched Identity\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7c1d407f17f8d2452a0bf87ac06fdd032de385a2758254f4192d6e17ed40d44b\\"}],[{\\"label\\":\\"Found License file\\",\\"expression\\":\\"FILL(m7084dfec3c5bab86694d7ae438460f471c174a94bc67c9c9738e3ab60246b661, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"FoundLicenseFile\\",{\\"label\\":\\"Found License file\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7084dfec3c5bab86694d7ae438460f471c174a94bc67c9c9738e3ab60246b661\\"}]],\\"yAxis\\":{\\"left\\":{\\"label\\":\\"Count\\",\\"min\\":0,\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":72,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Dead Letters\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff7f0e\\",\\"label\\":\\"10 days\\",\\"value\\":864000,\\"yAxis\\":\\"right\\"},{\\"color\\":\\"#ff0000\\",\\"label\\":\\"14 days (DLQ Retention)\\",\\"value\\":1209600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":78,\\"properties\\":{\\"markdown\\":\\"# Orchestration\\\\n\\\\n[button:primary:State Machine](/states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              ")\\\\n[button:DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              ")\\\\n[button:Redrive DLQ](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationRedrive8DDBA67E",
              },
              ")\\\\n[button:Regenerate All Documentation](/states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationE9FAB254",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":80,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"State Machine Executions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Started\\",\\"expression\\":\\"FILL(m392141ff4cfa3bbe1889b2db42bcf20599513e199a0b9fb8dc736cde893c1d7c, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsStarted\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Started\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m392141ff4cfa3bbe1889b2db42bcf20599513e199a0b9fb8dc736cde893c1d7c\\"}],[{\\"label\\":\\"Succeeded\\",\\"expression\\":\\"FILL(md1b80634be6e2f057c84f44fab13979a6445395ea2dc357cd12d0ba9f504e6d1, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsSucceeded\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Succeeded\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"md1b80634be6e2f057c84f44fab13979a6445395ea2dc357cd12d0ba9f504e6d1\\"}],[{\\"label\\":\\"Aborted\\",\\"expression\\":\\"FILL(m7c13255adf2b6d90baaa9e4e952e72ce260730c93b662336d01e3342f6255e08, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsAborted\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Aborted\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7c13255adf2b6d90baaa9e4e952e72ce260730c93b662336d01e3342f6255e08\\"}],[{\\"label\\":\\"Failed\\",\\"expression\\":\\"FILL(m503cb5a7568675222eb2ac827982f88ad300c986505dabfafe1707080946e597, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsFailed\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Failed\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m503cb5a7568675222eb2ac827982f88ad300c986505dabfafe1707080946e597\\"}],[{\\"label\\":\\"Throttled\\",\\"expression\\":\\"FILL(m278670a6ffa3ce32fec8fcb73c1cfdc4c965389617e2387ab5852ebb00b2a81f, 0)\\"}],[\\"AWS/States\\",\\"ExecutionThrottled\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Throttled\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m278670a6ffa3ce32fec8fcb73c1cfdc4c965389617e2387ab5852ebb00b2a81f\\"}],[{\\"label\\":\\"Timed Out\\",\\"expression\\":\\"FILL(m106d91118c893ec9037d16448722184f1ebdcca08a617e1f13758151a8c85a21, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsTimedOut\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Timed Out\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m106d91118c893ec9037d16448722184f1ebdcca08a617e1f13758151a8c85a21\\"}],[\\"AWS/States\\",\\"ExecutionTime\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Duration\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":80,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Dead Letter Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff7f0e\\",\\"label\\":\\"10 days\\",\\"value\\":864000,\\"yAxis\\":\\"right\\"},{\\"color\\":\\"#ff0000\\",\\"label\\":\\"14 days (DLQ Retention)\\",\\"value\\":1209600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":86,\\"properties\\":{\\"markdown\\":\\"# Deny List\\\\n\\\\n[button:primary:Deny List Object](/s3/object/",
              Object {
                "Ref": "ConstructHubDenyListBucket1B3C2C2E",
              },
              "?prefix=deny-list.json)\\\\n[button:Prune Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              ")\\\\n[button:Prune Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "/log-events)\\\\n[button:Delete Queue](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "QueueName",
                ],
              },
              ")\\\\n[button:Delete Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":88,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Deny List\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Rules\\",\\"expression\\":\\"FILL(m41327b0edbbef1ca627d9503d1b9b9fab401700118519537b58e0557adee7e4f, REPEAT)\\"}],[\\"ConstructHub/DenyList\\",\\"DenyListRuleCount\\",{\\"label\\":\\"Rules\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m41327b0edbbef1ca627d9503d1b9b9fab401700118519537b58e0557adee7e4f\\"}],[\\"AWS/SQS\\",\\"NumberOfMessagesDeleted\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Deleted Files\\",\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":88,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Prune Function Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":94,\\"properties\\":{\\"markdown\\":\\"# Package Stats\\\\n\\\\n[button:primary:Package Stats Object](/s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=stats.json)\\\\n[button:Package Stats Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              ")\\\\n[button:Package Stats Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":96,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Number of Package Stats Recorded\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Packages with stats\\",\\"expression\\":\\"FILL(m47411943a6e8f8e16a1dd905ff43cab11425b802c4d32615e081cab30c15f29f, REPEAT)\\"}],[\\"ConstructHub/PackageStats\\",\\"RegisteredPackagesWithStats\\",{\\"label\\":\\"Packages with stats\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m47411943a6e8f8e16a1dd905ff43cab11425b802c4d32615e081cab30c15f29f\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":96,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocation Duration\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              "\\",{\\"label\\":\\"Duration\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"15 minutes (Lambda timeout)\\",\\"value\\":900,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":102,\\"properties\\":{\\"markdown\\":\\"# Version Tracker\\\\n\\\\n[button:primary:Versions Object](/s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=all-versions.json)\\\\n[button:Version Tracker Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              ")\\\\n[button:Version Tracker Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":104,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Number of Package Versions Recorded\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Package versions recorded\\",\\"expression\\":\\"FILL(m343ebb2e5802fe223e549d8262d8d0c364846e0276426bc0a2d872e83bd8e63d, REPEAT)\\"}],[\\"ConstructHub/VersionTracker\\",\\"TrackedVersionsCount\\",{\\"label\\":\\"Package versions recorded\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m343ebb2e5802fe223e549d8262d8d0c364846e0276426bc0a2d872e83bd8e63d\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":104,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocation Duration\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              "\\",{\\"label\\":\\"Duration\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"1 minutes (Lambda timeout)\\",\\"value\\":60,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}}]}",
            ],
          ],
        },
        "DashboardName": "ConstructHubBackend-graphs",
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubBackendDashboardReportsDFD170B1": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"start\\":\\"-P1W\\",\\"periodOverride\\":\\"auto\\",\\"widgets\\":[{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"uninstallable-objects/data.json\\",\\"description\\":\\"These packages could not be installed. Note that currently they will also appear in the 'missing' documentation reports.\\\\n\\\\nThe specific error can be found in the package directory inside a file named 'uninstallable'\\\\n\\"},\\"title\\":\\"Package Versions Report | Uninstallable\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":6,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/typescript-documentation.json\\",\\"description\\":\\"These packages are missing typescript documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _typescript_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":12,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/typescript.json\\",\\"description\\":\\"These packages are missing typescript documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _typescript_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":18,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/python-documentation.json\\",\\"description\\":\\"These packages are missing python documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _python_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/python.json\\",\\"description\\":\\"These packages are missing python documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _python_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/java-documentation.json\\",\\"description\\":\\"These packages are missing java documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _java_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":36,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/java.json\\",\\"description\\":\\"These packages are missing java documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _java_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":42,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/csharp-documentation.json\\",\\"description\\":\\"These packages are missing csharp documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _csharp_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":48,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/csharp.json\\",\\"description\\":\\"These packages are missing csharp documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _csharp_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}}]}",
            ],
          ],
        },
        "DashboardName": "ConstructHubBackend-reports",
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubDenyListBucket1B3C2C2E": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "aws-cdk:auto-delete-objects",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketAllowBucketNotificationsToTestConstructHubDenyListPrunePruneHandler03826FC4A79351A0": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandler30B33551",
            "Arn",
          ],
        },
        "Principal": "s3.amazonaws.com",
        "SourceAccount": Object {
          "Ref": "AWS::AccountId",
        },
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListBucket1B3C2C2E",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubDenyListBucketAutoDeleteObjectsCustomResource997A3642": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListBucketPolicyA1878E10",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3AutoDeleteObjects",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketDeploymentAwsCliLayerEAC3D4DA": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubDenyListBucketDeploymentCustomResourceF835956B": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListBucketNotifications2269EB2A",
      ],
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "Prune": true,
        "RetainOnDelete": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketNotifications2269EB2A": Object {
      "DependsOn": Array [
        "ConstructHubDenyListBucketAllowBucketNotificationsToTestConstructHubDenyListPrunePruneHandler03826FC4A79351A0",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "Managed": true,
        "NotificationConfiguration": Object {
          "LambdaFunctionConfigurations": Array [
            Object {
              "Events": Array [
                "s3:ObjectCreated:*",
              ],
              "Filter": Object {
                "Key": Object {
                  "FilterRules": Array [
                    Object {
                      "Name": "suffix",
                      "Value": "deny-list.json",
                    },
                    Object {
                      "Name": "prefix",
                      "Value": "deny-list.json",
                    },
                  ],
                },
              },
              "LambdaFunctionArn": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPrunePruneHandler30B33551",
                  "Arn",
                ],
              },
            },
          ],
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3BucketNotifications",
    },
    "ConstructHubDenyListBucketPolicyA1878E10": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::GetAtt": Array [
                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                    "Arn",
                  ],
                },
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubDenyListFailoverBucketAutoDeleteObjectsCustomResource5A026600": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListFailoverBucketPolicy3B552017",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3AutoDeleteObjects",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListFailoverBucketBF1E05AD": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "aws-cdk:auto-delete-objects",
            "Value": "true",
          },
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListFailoverBucketPolicy3B552017": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListFailoverBucketBF1E05AD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListFailoverBucketBF1E05AD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::GetAtt": Array [
                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                    "Arn",
                  ],
                },
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListFailoverBucketBF1E05AD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListFailoverBucketBF1E05AD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubDenyListPeriodicPruneA981153D": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(5 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubDenyListPrunePruneHandler30B33551",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubDenyListPeriodicPruneAllowEventRuleTestConstructHubDenyListPrunePruneHandler03826FC486B0D780": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandler30B33551",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPeriodicPruneA981153D",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubDenyListPruneDeleteQueueBBF60185": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "VisibilityTimeout": 120,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListPrunePruneHandler30B33551": Object {
      "DependsOn": Array [
        "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA",
        "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3BucketAE80D773",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "backend/deny-list/prune-handler.lambda.ts",
        "Environment": Object {
          "Variables": Object {
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "ON_CHANGE_FUNCTION_NAME": Object {
              "Fn::GetAtt": Array [
                "ConstructHubOrchestrationCatalogBuilder7C964951",
                "Arn",
              ],
            },
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "PACKAGE_DATA_KEY_PREFIX": "data/",
            "PRUNE_QUEUE_URL": Object {
              "Ref": "ConstructHubDenyListPruneDeleteQueueBBF60185",
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B": Object {
      "DependsOn": Array [
        "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393",
        "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3BucketAC5DE359",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "backend/deny-list/prune-queue-handler.lambda.ts",
        "Environment": Object {
          "Variables": Object {
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerSqsEventSourceTestConstructHubDenyListPruneDeleteQueue04186FB403F01CBE": Object {
      "Properties": Object {
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPruneDeleteQueueBBF60185",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubFailoverPackageDataBA7D3B85": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "AbortIncompleteMultipartUpload": Object {
                "DaysAfterInitiation": 1,
              },
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionTransitions": Array [
                Object {
                  "StorageClass": "STANDARD_IA",
                  "TransitionInDays": 31,
                },
              ],
              "Status": "Enabled",
            },
            Object {
              "ExpiredObjectDeleteMarker": true,
              "NoncurrentVersionExpirationInDays": 90,
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionExpirationInDays": 7,
              "Prefix": "catalog.json",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubFailoverPackageDataPolicy89BCDF76": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubFailoverPackageDataBA7D3B85",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubFailoverPackageDataBA7D3B85",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubFailoverPackageDataBA7D3B85",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestion407909CE": Object {
      "DependsOn": Array [
        "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2",
        "ConstructHubIngestionServiceRole6380BAB6",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3BucketFE59B3A9",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Ingestion] Ingests new package versions into the Construct Hub",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CONFIG_BUCKET_NAME": Object {
              "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
            },
            "CONFIG_FILE_KEY": "config.json",
            "STATE_MACHINE_ARN": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionServiceRole6380BAB6",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubIngestionConfigBucket0F0ED0B6": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubIngestionConfigBucketPolicyF096914C": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestionDLQ3E96A5F2": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionDLQAlarm83BD1903": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The dead-letter queue for the Ingestion function is not empty!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to the queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "
Direct link to the function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Ingestion/DLQNotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "m1 + m2",
            "Id": "expr_1",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubIngestionDLQ3E96A5F2",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "m2",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubIngestionDLQ3E96A5F2",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubIngestionDeployIngestionConfigurationAwsCliLayerF77955C2": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubIngestionDeployIngestionConfigurationCustomResourceD7F243C1": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
        },
        "Prune": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionFailoverConfigBucket079F82C3": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubIngestionFailoverConfigBucketPolicyD45F3F6D": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubIngestionFailoverConfigBucket079F82C3",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionFailoverConfigBucket079F82C3",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionFailoverConfigBucket079F82C3",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestionFailureAlarm9D0028DD": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The Ingestion function is failing!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to the function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Ingestion/Failure",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubIngestion407909CE",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubIngestionLogRetention98263C90": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubIngestionQueue1AD94CA3": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": Object {
          "deadLetterTargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubIngestionDLQ3E96A5F2",
              "Arn",
            ],
          },
          "maxReceiveCount": 5,
        },
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionReprocessQueueADCE803E": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": Object {
          "deadLetterTargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubIngestionDLQ3E96A5F2",
              "Arn",
            ],
          },
          "maxReceiveCount": 5,
        },
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E": Object {
      "DependsOn": Array [
        "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135",
        "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3Bucket5255533F",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Ingestion/ReIngest] The function used to reprocess packages through ingestion",
        "Environment": Object {
          "Variables": Object {
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "QUEUE_URL": Object {
              "Ref": "ConstructHubIngestionReprocessQueueADCE803E",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 180,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/metadata.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachine3708141C": Object {
      "DependsOn": Array [
        "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747",
        "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Has a ContinuationToken?\\",\\"States\\":{\\"Has a ContinuationToken?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.ContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"S3.ListObjectsV2(NextPage)\\"}],\\"Default\\":\\"S3.ListObjectsV2(FirstPage)\\"},\\"S3.ListObjectsV2(FirstPage)\\":{\\"Next\\":\\"Is there more?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Prefix\\":\\"data/\\"}},\\"Is there more?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Give room for on-demand work\\"}],\\"Default\\":\\"Process Result\\"},\\"S3.ListObjectsV2(NextPage)\\":{\\"Next\\":\\"Is there more?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.ContinuationToken\\",\\"Prefix\\":\\"data/\\"}},\\"Process Result\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"End\\":true,\\"Iterator\\":{\\"StartAt\\":\\"Is metadata object?\\",\\"States\\":{\\"Is metadata object?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.Key\\",\\"StringMatches\\":\\"*/metadata.json\\",\\"Next\\":\\"Send for reprocessing\\"}],\\"Default\\":\\"Nothing to do\\"},\\"Nothing to do\\":{\\"Type\\":\\"Succeed\\"},\\"Send for reprocessing\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke\\",\\"Parameters\\":{\\"FunctionName\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E",
                  "Arn",
                ],
              },
              "\\",\\"Payload.$\\":\\"$\\"}}}},\\"ItemsPath\\":\\"$.response.Contents\\"},\\"Continue as new\\":{\\"Next\\":\\"Process Result\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":null,\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution\\",\\"Parameters\\":{\\"Input\\":{\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:",
              Object {
                "Ref": "AWS::Region",
              },
              ":",
              Object {
                "Ref": "AWS::AccountId",
              },
              ":stateMachine:Test.ConstructHub.Ingestion.ReprocessWorkflow\\"}},\\"Give room for on-demand work\\":{\\"Type\\":\\"Wait\\",\\"Seconds\\":15,\\"Next\\":\\"Continue as new\\"}},\\"TimeoutSeconds\\":3600}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Ingestion.ReprocessWorkflow",
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":states:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":stateMachine:Test.ConstructHub.Ingestion.ReprocessWorkflow",
                  ],
                ],
              },
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionServiceRole6380BAB6": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionServiceRole6380BAB6",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionDLQEC555E58E8FEA048": Object {
      "Properties": Object {
        "BatchSize": 1,
        "Enabled": false,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionDLQ3E96A5F2",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionQueue165B81E2C095FF2A": Object {
      "Properties": Object {
        "BatchSize": 1,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionQueue1AD94CA3",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionReprocessQueueEFA2CB8349836CD4": Object {
      "Properties": Object {
        "BatchSize": 1,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessQueueADCE803E",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubInventoryCanary63D899BC": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
        "ConstructHubInventoryCanaryServiceRole7684EDDE",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3Bucket9A67A1B5",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Inventory] A canary that periodically inspects the list of indexed packages",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanaryServiceRole7684EDDE",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubInventoryCanaryFailures5BDA8051": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The inventory canary is failing!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/InventoryCanary/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubInventoryCanary63D899BC",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 900,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubInventoryCanaryNotRunningAF44D71C": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The inventory canary is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/InventoryCanary/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubInventoryCanary63D899BC",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 900,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubInventoryCanaryScheduleRule79F2F8D8": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
      ],
      "Properties": Object {
        "ScheduleExpression": "rate(15 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubInventoryCanary63D899BC",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubInventoryCanaryScheduleRuleAllowEventRuleTestConstructHubInventoryCanary54F5B7AC7EBA7AB2": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanary63D899BC",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanaryScheduleRule79F2F8D8",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubInventoryCanaryServiceRole7684EDDE": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/*-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/*.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/uninstallable-objects/data.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubInventoryCanaryServiceRole7684EDDE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubLicenseListAwsCliLayer59592811": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubLicenseListBucket9334047F": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubLicenseListBucketPolicy817F92CD": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubLicenseListBucket9334047F",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubLicenseListCustomResource323F0FD4": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubLicenseListBucket9334047F",
        },
        "Prune": true,
        "RetainOnDelete": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubLicenseListFailoverBucketA96D2AAF": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubLicenseListFailoverBucketPolicy7F222A76": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubLicenseListFailoverBucketA96D2AAF",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListFailoverBucketA96D2AAF",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListFailoverBucketA96D2AAF",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubMonitoringHighSeverityDashboard8761DBAC": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"widgets\\":[{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Backend Orchestration Dead-Letter Queue is not empty\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQAlarm85EE7509",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":6,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Size Shrunk\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilderShrinkingCatalogAlarm48329E25",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":12,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Backend Orchestration Failed\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationOrchestrationFailed5AF50838",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":18,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Ingestion failures\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionFailureAlarm9D0028DD",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"ACM Certificate Expiry\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppExpirationMonitorACMAlarm0B479A12",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Endpoint Certificate Expiry\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppExpirationMonitorEndpointAlarmAA7AF160",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":36,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Home Page Canary\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubMonitoringWebCanaryHomePageErrorsE7BB4002",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":42,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"NpmJs/Follower Failures\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":48,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"NpmJs/Follower Not Running\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsFollowerNotRunningCEAF0E1E",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":54,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"New version visibility SLA breached\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsCanaryAlarmBE2B479E",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}}]}",
            ],
          ],
        },
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubMonitoringWatchfulDashboardB8493D55": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"widgets\\":[{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"markdown\\":\\"# Deny List - Prune Function\\\\n\\\\n[button:AWS Lambda Console](https://console.aws.amazon.com/lambda/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "?tab=graph) [button:CloudWatch Logs](https://console.aws.amazon.com/cloudwatch/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#logEventViewer:group=/aws/lambda/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":0,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocations/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":6,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Errors/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Errors > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":12,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Throttles/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Throttles\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Throttles > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":18,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Duration/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"p99\\",\\"stat\\":\\"p99\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"p99 > 720000 for 3 datapoints within 15 minutes\\",\\"value\\":720000,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":8,\\"properties\\":{\\"markdown\\":\\"# Deny List - Prune Delete Function\\\\n\\\\n[button:AWS Lambda Console](https://console.aws.amazon.com/lambda/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "?tab=graph) [button:CloudWatch Logs](https://console.aws.amazon.com/cloudwatch/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#logEventViewer:group=/aws/lambda/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":0,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocations/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":6,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Errors/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Errors > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":12,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Throttles/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Throttles\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Throttles > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":18,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Duration/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"label\\":\\"p99\\",\\"stat\\":\\"p99\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"p99 > 48000 for 3 datapoints within 15 minutes\\",\\"value\\":48000,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}}]}",
            ],
          ],
        },
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4DurationAlarm116EB85B": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "p99 latency >= 720s (80%)",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 3,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": "p99",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
                    },
                  },
                ],
                "MetricName": "Duration",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "p99",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 720000,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4ErrorsAlarm9E8C0618": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 errors per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4ThrottlesAlarm7A95EA66": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 throttles per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Throttles",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BDurationAlarm331A9019": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "p99 latency >= 48s (80%)",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 3,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": "p99",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
                    },
                  },
                ],
                "MetricName": "Duration",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "p99",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 48000,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BErrorsAlarm1C29CAE7": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 errors per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BThrottlesAlarm2F5C1946": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 throttles per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Throttles",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWebCanaryHomePageErrorsE7BB4002": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "80% error rate for https://",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppDistribution1F181DC9",
                  "DomainName",
                ],
              },
              " (Home Page)",
            ],
          ],
        },
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "https://",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppDistribution1F181DC9",
                      "DomainName",
                    ],
                  },
                  " Errors",
                ],
              ],
            },
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
                    },
                  },
                ],
                "MetricName": "Errors",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 4,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8": Object {
      "DependsOn": Array [
        "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3Bucket583A7087",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "HTTP GET https://",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppDistribution1F181DC9",
                  "DomainName",
                ],
              },
              ": Home Page",
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "URL": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "https://",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppDistribution1F181DC9",
                      "DomainName",
                    ],
                  },
                ],
              ],
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubMonitoringWebCanaryHomePageRuleAllowEventRuleTestConstructHubMonitoringWebCanaryHomePageHttpGetFunction941819C9E47F90EE": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageRuleE14F9F4E",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubMonitoringWebCanaryHomePageRuleE14F9F4E": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubOrchestration39161A46": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRoleDefaultPolicyEACD181F",
        "ConstructHubOrchestrationRoleF4CF6987",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Track Execution Infos\\",\\"States\\":{\\"Track Execution Infos\\":{\\"Type\\":\\"Pass\\",\\"ResultPath\\":\\"$.$TaskExecution\\",\\"InputPath\\":\\"$$.Execution\\",\\"Parameters\\":{\\"Id.$\\":\\"$.Id\\",\\"Name.$\\":\\"$.Name\\",\\"RoleArn.$\\":\\"$.RoleArn\\",\\"StartTime.$\\":\\"$.StartTime\\"},\\"Next\\":\\"Prepare doc-gen ECS Command\\"},\\"Prepare doc-gen ECS Command\\":{\\"Type\\":\\"Pass\\",\\"ResultPath\\":\\"$.docGen\\",\\"Parameters\\":{\\"command.$\\":\\"States.Array(States.JsonToString($))\\"},\\"Next\\":\\"Generate docs\\"},\\"Generate docs\\":{\\"Next\\":\\"Check whether catalog needs udpating\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"jsii-docgen.NoSpaceLeftOnDevice\\"],\\"MaxAttempts\\":0},{\\"ErrorEquals\\":[\\"ECS.AmazonECSException\\",\\"ECS.InvalidParameterException\\",\\"jsii-docgen.NpmError.E429\\",\\"jsii-codgen.NpmError.EPROTO\\"],\\"IntervalSeconds\\":120,\\"MaxAttempts\\":200,\\"BackoffRate\\":1},{\\"ErrorEquals\\":[\\"jsii-docgen.NpmError.ETARGET\\"],\\"IntervalSeconds\\":300,\\"MaxAttempts\\":3,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"MaxAttempts\\":3}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"UnprocessablePackageError\\"],\\"Next\\":\\"Ignore\\"},{\\"ErrorEquals\\":[\\"States.Timeout\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"ECS.AmazonECSException\\",\\"ECS.InvalidParameterException\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"TimeoutSeconds\\":7200,\\"HeartbeatSeconds\\":300,\\"InputPath\\":\\"$.docGen.command\\",\\"ResultPath\\":\\"$.docGenOutput\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::ecs:runTask.waitForTaskToken\\",\\"Parameters\\":{\\"Cluster\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCluster3D6F0081",
                  "Arn",
                ],
              },
              "\\",\\"TaskDefinition\\":\\"TestConstructHubOrchestrationTransliteratorTaskDefinition1C44F91E\\",\\"NetworkConfiguration\\":{\\"AwsvpcConfiguration\\":{\\"Subnets\\":[\\"",
              Object {
                "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1SubnetEA67D882",
              },
              "\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2SubnetC067C1B7",
              },
              "\\"],\\"SecurityGroups\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationGeneratedocsSecurityGroupC584DAC2",
                  "GroupId",
                ],
              },
              "\\"]}},\\"Overrides\\":{\\"ContainerOverrides\\":[{\\"Name\\":\\"Resource\\",\\"Command.$\\":\\"$\\",\\"Environment\\":[{\\"Name\\":\\"SFN_TASK_TOKEN\\",\\"Value.$\\":\\"$$.Task.Token\\"}]}]},\\"LaunchType\\":\\"FARGATE\\",\\"PlatformVersion\\":\\"1.4.0\\"}},\\"Check whether catalog needs udpating\\":{\\"Next\\":\\"Is catalog update needed?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\",\\"Lambda.Unknown\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\",\\"Lambda.Unknown\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.catalogNeedsUpdating\\",\\"Resource\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC",
                  "Arn",
                ],
              },
              "\\"},\\"Is catalog update needed?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.catalogNeedsUpdating\\",\\"BooleanEquals\\":true,\\"Next\\":\\"Add to catalog.json\\"}],\\"Default\\":\\"Done\\"},\\"Done\\":{\\"Type\\":\\"Succeed\\"},\\"Add to catalog.json\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.catalogBuilderOutput\\",\\"ResultSelector\\":{\\"ETag.$\\":\\"$.Payload.ETag\\",\\"VersionId.$\\":\\"$.Payload.VersionId\\"},\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke\\",\\"Parameters\\":{\\"FunctionName\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
              "\\",\\"Payload.$\\":\\"$\\"}},\\"Send to Dead Letter Queue\\":{\\"Next\\":\\"Sent to DLQ\\",\\"Type\\":\\"Task\\",\\"ResultPath\\":null,\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::sqs:sendMessage\\",\\"Parameters\\":{\\"QueueUrl\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationDLQ9C6D9BD4",
              },
              "\\",\\"MessageBody.$\\":\\"$\\"}},\\"Sent to DLQ\\":{\\"Type\\":\\"Succeed\\"},\\"Ignore\\":{\\"Type\\":\\"Pass\\",\\"End\\":true}},\\"TimeoutSeconds\\":86400}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRoleF4CF6987",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Orchestration",
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationCatalogBuilder7C964951": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5",
        "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3Bucket722FE70B",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Creates the catalog.json object in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "PassThrough",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationCatalogBuilderLogRetention04ED6996": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":lambda:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":function:*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationCatalogBuilderShrinkingCatalogAlarm48329E25": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The number of packages registered in the catalog.json object has shrunk by more than 5
elements. There might be a mass extinction event going on. This should be investigated
as soon as possible.

Catalog.json: /s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=catalog.json
Catalog Builder: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
              "

RUNBOOK: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/CatalogBuilder/ShrinkingCatalog",
        "ComparisonOperator": "LessThanThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "DIFF(FILL(m1, REPEAT))",
            "Id": "expr_1",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "RegisteredPackagesMajorVersion",
                "Namespace": "ConstructHub/CatalogBuilder",
              },
              "Period": 900,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": -5,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationCluster3D6F0081": Object {
      "Properties": Object {
        "ClusterSettings": Array [
          Object {
            "Name": "containerInsights",
            "Value": "enabled",
          },
        ],
      },
      "Type": "AWS::ECS::Cluster",
    },
    "ConstructHubOrchestrationCluster4C9C8AA6": Object {
      "Properties": Object {
        "CapacityProviders": Array [
          "FARGATE",
          "FARGATE_SPOT",
        ],
        "Cluster": Object {
          "Ref": "ConstructHubOrchestrationCluster3D6F0081",
        },
        "DefaultCapacityProviderStrategy": Array [],
      },
      "Type": "AWS::ECS::ClusterCapacityProviderAssociations",
    },
    "ConstructHubOrchestrationClusterVpcD5CC96DF": Object {
      "Properties": Object {
        "CidrBlock": "10.0.0.0/16",
        "EnableDnsHostnames": true,
        "EnableDnsSupport": true,
        "InstanceTenancy": "default",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc",
          },
        ],
      },
      "Type": "AWS::EC2::VPC",
    },
    "ConstructHubOrchestrationClusterVpcIGW824B9527": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc",
          },
        ],
      },
      "Type": "AWS::EC2::InternetGateway",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1DefaultRoute65613FDA": Object {
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1NATGatewayBF889500",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTable978A35E2",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTable978A35E2": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTableAssociation62534665": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1RouteTable978A35E2",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet1SubnetEA67D882",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet1SubnetEA67D882": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            0,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.128.0/18",
        "MapPublicIpOnLaunch": false,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2DefaultRouteF6579FD1": Object {
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2NATGateway70A454FD",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTable0BC880DB",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTable0BC880DB": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTableAssociation9FB50C41": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2RouteTable0BC880DB",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPrivateSubnet2SubnetC067C1B7",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPrivateSubnet2SubnetC067C1B7": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            1,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.192.0/18",
        "MapPublicIpOnLaunch": false,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PrivateSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1DefaultRouteAF6519CE": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationClusterVpcVPCGW7E73D481",
      ],
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcIGW824B9527",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableD384ACA4",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1EIP2D9D4C52": Object {
      "Properties": Object {
        "Domain": "vpc",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
      },
      "Type": "AWS::EC2::EIP",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1NATGatewayBF889500": Object {
      "Properties": Object {
        "AllocationId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationClusterVpcPublicSubnet1EIP2D9D4C52",
            "AllocationId",
          ],
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1Subnet10DB7A72",
        },
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
      },
      "Type": "AWS::EC2::NatGateway",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableAssociation31FB3CD6": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableD384ACA4",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet1Subnet10DB7A72",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1RouteTableD384ACA4": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet1Subnet10DB7A72": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            0,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.0.0/18",
        "MapPublicIpOnLaunch": true,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2DefaultRouteED1B3A37": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationClusterVpcVPCGW7E73D481",
      ],
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcIGW824B9527",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableE3A3966D",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2EIPC9DD9674": Object {
      "Properties": Object {
        "Domain": "vpc",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
      },
      "Type": "AWS::EC2::EIP",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2NATGateway70A454FD": Object {
      "Properties": Object {
        "AllocationId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationClusterVpcPublicSubnet2EIPC9DD9674",
            "AllocationId",
          ],
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2Subnet899B70D2",
        },
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
      },
      "Type": "AWS::EC2::NatGateway",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableAssociationFB0694B7": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableE3A3966D",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcPublicSubnet2Subnet899B70D2",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2RouteTableE3A3966D": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubOrchestrationClusterVpcPublicSubnet2Subnet899B70D2": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            1,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.64.0/18",
        "MapPublicIpOnLaunch": true,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/Orchestration/Cluster/Vpc/PublicSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubOrchestrationClusterVpcVPCGW7E73D481": Object {
      "Properties": Object {
        "InternetGatewayId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcIGW824B9527",
        },
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::VPCGatewayAttachment",
    },
    "ConstructHubOrchestrationDLQ9C6D9BD4": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubOrchestrationDLQAlarm85EE7509": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Backend orchestration dead-letter queue is not empty.

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "
Warning: State Machines executions that sent messages to the DLQ will not show as \\"failed\\".",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/DLQ/NotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "m1 + m2",
            "Id": "expr_1",
            "Label": "Dead-Letter Queue not empty",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubOrchestrationDLQ9C6D9BD4",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "m2",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubOrchestrationDLQ9C6D9BD4",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationGeneratedocsSecurityGroupC584DAC2": Object {
      "Properties": Object {
        "GroupDescription": "Test/ConstructHub/Orchestration/Generate docs/SecurityGroup",
        "SecurityGroupEgress": Array [
          Object {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubOrchestrationClusterVpcD5CC96DF",
        },
      },
      "Type": "AWS::EC2::SecurityGroup",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9",
        "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3BucketE78A0203",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Orchestration/NeedsCatalogUpdate] Determines whether a package version requires a catalog update",
        "Environment": Object {
          "Variables": Object {
            "CATALOG_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CATALOG_OBJECT_KEY": "catalog.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationOrchestrationFailed5AF50838": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Backend orchestration failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to state machine: /states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "
Warning: messages that resulted in a failed exectuion will NOT be in the DLQ!",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/Resource/ExecutionsFailed",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "StateMachineArn",
            "Value": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "ExecutionsFailed",
        "Namespace": "AWS/States",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationRedrive8DDBA67E": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436",
        "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3Bucket6F376B71",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Redrive] Manually redrives all messages from the backend dead letter queue",
        "Environment": Object {
          "Variables": Object {
            "QUEUE_URL": Object {
              "Ref": "ConstructHubOrchestrationDLQ9C6D9BD4",
            },
            "STATE_MACHINE_ARN": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationRedriveServiceRoleB84EFF33": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationE9FAB254": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86",
        "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Get prefix page\\",\\"States\\":{\\"Get prefix page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next prefixes page\\"}],\\"Default\\":\\"First prefix page\\"},\\"Has more prefixes?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get prefix page\\"}],\\"Default\\":\\"Done\\"},\\"For each prefix\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more prefixes?\\",\\"Iterator\\":{\\"StartAt\\":\\"Is this a @scope-- prefix?\\",\\"States\\":{\\"Is this a @scope-- prefix?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.Prefix\\",\\"StringMatches\\":\\"data/@*\\",\\"Next\\":\\"Get @scope page\\"}],\\"Default\\":\\"Process unscoped package\\"},\\"Process unscoped package\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution.sync:2\\",\\"Parameters\\":{\\"Input\\":{\\"Prefix.$\\":\\"$.Prefix\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
              "\\"}},\\"Get @scope page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next @scope page\\"}],\\"Default\\":\\"First @scope page\\"},\\"Has more packages?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get @scope page\\"}],\\"Default\\":\\"All Done\\"},\\"For each @scope--pkg\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more packages?\\",\\"Iterator\\":{\\"StartAt\\":\\"Process scoped package\\",\\"States\\":{\\"Process scoped package\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution.sync:2\\",\\"Parameters\\":{\\"Input\\":{\\"Prefix.$\\":\\"$.Prefix\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
              "\\"}}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First @scope page\\":{\\"Next\\":\\"For each @scope--pkg\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Next @scope page\\":{\\"Next\\":\\"For each @scope--pkg\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"All Done\\":{\\"Type\\":\\"Succeed\\"}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First prefix page\\":{\\"Next\\":\\"For each prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix\\":\\"data/\\"}},\\"Next prefixes page\\":{\\"Next\\":\\"For each prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix\\":\\"data/\\"}},\\"Done\\":{\\"Type\\":\\"Succeed\\"}},\\"TimeoutSeconds\\":14400}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Orchestration.RegenerateAllDocumentation",
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726",
        "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Get package versions page\\",\\"States\\":{\\"Get package versions page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next versions page\\"}],\\"Default\\":\\"First versions page\\"},\\"Has more versions?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get package versions page\\"}],\\"Default\\":\\"Success\\"},\\"For each key prefix\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more versions?\\",\\"Iterator\\":{\\"StartAt\\":\\"Start Orchestration Workflow\\",\\"States\\":{\\"Start Orchestration Workflow\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution\\",\\"Parameters\\":{\\"Input\\":{\\"bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"assembly\\":{\\"key.$\\":\\"States.Format('{}assembly.json', $.Prefix)\\"},\\"metadata\\":{\\"key.$\\":\\"States.Format('{}metadata.json', $.Prefix)\\"},\\"package\\":{\\"key.$\\":\\"States.Format('{}package.tgz', $.Prefix)\\"},\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\"}}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First versions page\\":{\\"Next\\":\\"For each key prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Next versions page\\":{\\"Next\\":\\"For each key prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Success\\":{\\"Type\\":\\"Succeed\\"}},\\"TimeoutSeconds\\":3600}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
            "Arn",
          ],
        },
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
            },
            Object {
              "Action": Array [
                "states:DescribeExecution",
                "states:StopExecution",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":states:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":execution:",
                    Object {
                      "Fn::Select": Array [
                        6,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
                            },
                          ],
                        },
                      ],
                    },
                    "*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "events:PutTargets",
                "events:PutRule",
                "events:DescribeRule",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":events:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":rule/StepFunctionsGetEventsForStepFunctionsExecutionRule",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRoleDefaultPolicyEACD181F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "ecs:RunTask",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Fn::Select": Array [
                        1,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        2,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        3,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        4,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        0,
                        Object {
                          "Fn::Split": Array [
                            "/",
                            Object {
                              "Fn::Select": Array [
                                5,
                                Object {
                                  "Fn::Split": Array [
                                    ":",
                                    Object {
                                      "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    "/",
                    Object {
                      "Fn::Select": Array [
                        1,
                        Object {
                          "Fn::Split": Array [
                            "/",
                            Object {
                              "Fn::Select": Array [
                                5,
                                Object {
                                  "Fn::Split": Array [
                                    ":",
                                    Object {
                                      "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "ecs:StopTask",
                "ecs:DescribeTasks",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "iam:PassRole",
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
                    "Arn",
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sqs:SendMessage",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRoleDefaultPolicyEACD181F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRoleF4CF6987",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRoleF4CF6987": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "RetentionInDays": 731,
      },
      "Type": "AWS::Logs::LogGroup",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566": Object {
      "Properties": Object {
        "ContainerDefinitions": Array [
          Object {
            "Environment": Array [
              Object {
                "Name": "HEADER_SPAN",
                "Value": "true",
              },
              Object {
                "Name": "AWS_EMF_ENVIRONMENT",
                "Value": "Local",
              },
            ],
            "Essential": true,
            "Image": Object {
              "Fn::Join": Array [
                "",
                Array [
                  Object {
                    "Ref": "AWS::AccountId",
                  },
                  ".dkr.ecr.",
                  Object {
                    "Ref": "AWS::Region",
                  },
                  ".",
                  Object {
                    "Ref": "AWS::URLSuffix",
                  },
                  "/aws-cdk/assets:7c9e079743e720b70ff8ebb610b200b99b7bc6a53866e2da22f537f751de0ff4",
                ],
              ],
            },
            "LogConfiguration": Object {
              "LogDriver": "awslogs",
              "Options": Object {
                "awslogs-group": Object {
                  "Ref": "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                },
                "awslogs-region": Object {
                  "Ref": "AWS::Region",
                },
                "awslogs-stream-prefix": "transliterator",
              },
            },
            "Name": "Resource",
          },
        ],
        "Cpu": "4096",
        "ExecutionRoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
            "Arn",
          ],
        },
        "Family": "TestConstructHubOrchestrationTransliteratorTaskDefinition1C44F91E",
        "Memory": "8192",
        "NetworkMode": "awsvpc",
        "RequiresCompatibilities": Array [
          "FARGATE",
        ],
        "TaskRoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
            "Arn",
          ],
        },
      },
      "Type": "AWS::ECS::TaskDefinition",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "ecs-tasks.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleDefaultPolicyBDBF6E5D": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "ecr:BatchCheckLayerAvailability",
                "ecr:GetDownloadUrlForLayer",
                "ecr:BatchGetImage",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":ecr:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":repository/aws-cdk/assets",
                  ],
                ],
              },
            },
            Object {
              "Action": "ecr:GetAuthorizationToken",
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleDefaultPolicyBDBF6E5D",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "ecs-tasks.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleDefaultPolicyE0EED0F8": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "states:SendTaskFailure",
                "states:SendTaskHeartbeat",
                "states:SendTaskSuccess",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/assembly.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/uninstallable",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/uninstallable",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/uninstallable",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-typescript.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-typescript.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-python.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-python.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-java.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-java.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-csharp.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-csharp.*.corruptassembly",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleDefaultPolicyE0EED0F8",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubPackageDataDC5EF35E": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "AbortIncompleteMultipartUpload": Object {
                "DaysAfterInitiation": 1,
              },
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionTransitions": Array [
                Object {
                  "StorageClass": "STANDARD_IA",
                  "TransitionInDays": 31,
                },
              ],
              "Status": "Enabled",
            },
            Object {
              "ExpiredObjectDeleteMarker": true,
              "NoncurrentVersionExpirationInDays": 90,
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionExpirationInDays": 7,
              "Prefix": "catalog.json",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubPackageDataPolicy4615475A": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubPackageDataDC5EF35E",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:GetObject",
              "Effect": "Allow",
              "Principal": Object {
                "CanonicalUser": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4",
                    "S3CanonicalUserId",
                  ],
                },
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubPackageStatsFailures833C3D9B": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The package stats function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/PackageStats/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubStats61DB07B1",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "ExpirationInDays": 30,
              "Prefix": "staged/",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubSourcesFailoverNpmJsStagingBucketPolicy00182F29": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubSourcesNpmJs15A77D2D": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22",
        "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3Bucket024B3DC6",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJs] Periodically query npmjs.com index for new packages",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "FUNCTION_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
            },
            "LICENSE_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubLicenseListBucket9334047F",
            },
            "LICENSE_LIST_OBJECT_KEY": "allowed-licenses.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 300,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsCanary5558FC45": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
        "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3Bucket37F2908E",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJs/PackageCanary] Monitors construct-hub-probe versions availability",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "CONSTRUCT_HUB_BASE_URL": "https://my.construct.hub",
            "PACKAGE_CANARY_BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "PACKAGE_NAME": "construct-hub-probe",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsCanaryAlarmBE2B479E": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": "New versions of construct-hub-probe have been published over 5 minutes ago and are still not visible in construct hub
Runbook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Canary/SLA-Breached",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 2,
        "Metrics": Array [
          Object {
            "Expression": "MAX([mDwell, mTTC])",
            "Id": "expr_1",
          },
          Object {
            "Id": "mDwell",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "DwellTime",
                "Namespace": "ConstructHub/PackageCanary",
              },
              "Period": 60,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "mTTC",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "TimeToCatalog",
                "Namespace": "ConstructHub/PackageCanary",
              },
              "Period": 60,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 300,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsCanarySchedule4D94219F": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
      ],
      "Properties": Object {
        "Description": "Scheduled executions of the NpmJS package canary",
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubSourcesNpmJsCanary5558FC45",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubSourcesNpmJsCanaryScheduleAllowEventRuleTestConstructHubSourcesNpmJsCanary47220A990ABB5DFD": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanary5558FC45",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanarySchedule4D94219F",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/package-canary/*.state.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubSourcesNpmJs15A77D2D",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsFollowerNoChanges2CB08C93": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function is no discovering any changes from CouchDB!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/NoChanges",
        "ComparisonOperator": "LessThanThreshold",
        "EvaluationPeriods": 2,
        "MetricName": "ChangeCount",
        "Namespace": "ConstructHub/PackageSource/NpmJs/Follower",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsFollowerNotRunningCEAF0E1E": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsScheduleAllowEventRuleTestConstructHubSourcesNpmJs5171C2A673CCB598",
        "ConstructHubSourcesNpmJsSchedule34031870",
      ],
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubSourcesNpmJs15A77D2D",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsSchedule34031870": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
      ],
      "Properties": Object {
        "Description": "Test/ConstructHub/Sources/NpmJs/Schedule",
        "ScheduleExpression": "rate(5 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubSourcesNpmJs15A77D2D",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubSourcesNpmJsScheduleAllowEventRuleTestConstructHubSourcesNpmJs5171C2A673CCB598": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJs15A77D2D",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsSchedule34031870",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/couchdb-last-transaction-id.2",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsStageAndNotify591C0CFA": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F",
        "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3Bucket8AF0E263",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "DeadLetterConfig": Object {
          "TargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubSourcesStagerDLQ80BD2600",
              "Arn",
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJS-StageAndNotify] Stages tarballs to S3 and notifies ConstructHub",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "QUEUE_URL": Object {
              "Ref": "ConstructHubIngestionQueue1AD94CA3",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 300,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyEventInvokeConfigF58F658E": Object {
      "Properties": Object {
        "FunctionName": Object {
          "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
        },
        "MaximumRetryAttempts": 2,
        "Qualifier": "$LATEST",
      },
      "Type": "AWS::Lambda::EventInvokeConfig",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sqs:SendMessage",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsStageAndNotifySqsEventSourceTestConstructHubSourcesStagerDLQC4F4F3F95658073F": Object {
      "Properties": Object {
        "BatchSize": 1,
        "Enabled": false,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesStagerDLQ80BD2600",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubSourcesNpmJsStagingBucketB286F0E6": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "ExpirationInDays": 30,
              "Prefix": "staged/",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubSourcesNpmJsStagingBucketPolicy06788ED9": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubSourcesStagerDLQ80BD2600": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubSourcesTestConstructHubSourcesNpmJsStagerDLQNotEmpty30787871": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJS package stager is failing - its dead letter queue is not empty/n/nLink to the lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "/nLink to the dead letter queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "/n/nRunbook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Stager/DLQNotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "mVisible + mHidden",
            "Id": "expr_1",
          },
          Object {
            "Id": "mVisible",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubSourcesStagerDLQ80BD2600",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "mHidden",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubSourcesStagerDLQ80BD2600",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubStats61DB07B1": Object {
      "DependsOn": Array [
        "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA",
        "ConstructHubStatsServiceRole48DCA379",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3Bucket3D1A3222",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Creates the stats.json object in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "CATALOG_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CATALOG_OBJECT_KEY": "catalog.json",
            "STATS_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "STATS_OBJECT_KEY": "stats.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 256,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStatsServiceRole48DCA379",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "PassThrough",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubStatsLogRetentionDD577705": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubStatsRuleAllowEventRuleTestConstructHubStatsA5392874C4495EDA": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStats61DB07B1",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStatsRuleEEDEC976",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubStatsRuleEEDEC976": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(1 day)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubStats61DB07B1",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubStatsServiceRole48DCA379": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubStatsServiceRole48DCA379",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubVersionTrackerD5E8AEAE": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
        "ConstructHubVersionTrackerServiceRole721EE863",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3Bucket86412295",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "[Test/ConstructHub/VersionTracker] Creates the all-versions.json in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "PACKAGE_DATA_KEY_PREFIX": "data/",
            "VERSION_TRACKER_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "VERSION_TRACKER_OBJECT_KEY": "all-versions.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerServiceRole721EE863",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubVersionTrackerFailures00296806": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The version tracker function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/VersionTracker/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubVersionTrackerD5E8AEAE",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubVersionTrackerLogRetention6BB4E813": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubVersionTrackerNotRunning2FBC5BDA": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The version tracker function is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/VersionTracker/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubVersionTrackerD5E8AEAE",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 60,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubVersionTrackerRuleAllowEventRuleTestConstructHubVersionTracker969692245DE33940": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerD5E8AEAE",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerRuleD147E5BF",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubVersionTrackerRuleD147E5BF": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
      ],
      "Properties": Object {
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubVersionTrackerD5E8AEAE",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubVersionTrackerServiceRole721EE863": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubVersionTrackerServiceRole721EE863",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubWebAppARecord3863FF6C": Object {
      "Properties": Object {
        "AliasTarget": Object {
          "DNSName": Object {
            "Fn::GetAtt": Array [
              "ConstructHubWebAppDistribution1F181DC9",
              "DomainName",
            ],
          },
          "HostedZoneId": Object {
            "Fn::FindInMap": Array [
              "AWSCloudFrontPartitionHostedZoneIdMap",
              Object {
                "Ref": "AWS::Partition",
              },
              "zoneId",
            ],
          },
        },
        "Comment": "Created by the AWS CDK",
        "HostedZoneId": "ZONEID",
        "Name": "my.construct.hub.",
        "Type": "A",
      },
      "Type": "AWS::Route53::RecordSet",
    },
    "ConstructHubWebAppAaaaRecord5D99098B": Object {
      "Properties": Object {
        "AliasTarget": Object {
          "DNSName": Object {
            "Fn::GetAtt": Array [
              "ConstructHubWebAppDistribution1F181DC9",
              "DomainName",
            ],
          },
          "HostedZoneId": Object {
            "Fn::FindInMap": Array [
              "AWSCloudFrontPartitionHostedZoneIdMap",
              Object {
                "Ref": "AWS::Partition",
              },
              "zoneId",
            ],
          },
        },
        "Comment": "Created by the AWS CDK",
        "HostedZoneId": "ZONEID",
        "Name": "my.construct.hub.",
        "Type": "AAAA",
      },
      "Type": "AWS::Route53::RecordSet",
    },
    "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B": Object {
      "Properties": Object {
        "AutoPublish": true,
        "FunctionCode": "\\"use strict\\";
function handler(event) {
    var response = event.response;
    var headers = response.headers;
    headers['x-frame-options'] = { value: 'deny' };
    headers['x-xss-protection'] = { value: '1; mode=block' };
    headers['x-content-type-options'] = { value: 'nosniff' };
    headers['strict-transport-security'] = { value: 'max-age=47304000; includeSubDomains' };
    headers['content-security-policy'] = {
        value: [
            \\"default-src 'self' 'unsafe-inline' https://*.awsstatic.com;\\",
            \\"connect-src 'self' https://*.shortbread.aws.dev https://a0.awsstatic.com/ https://amazonwebservices.d2.sc.omtrdc.net https://aws.demdex.net https://dpm.demdex.net https://cm.everesttech.net;\\",
            'frame-src https://aws.demdex.net https://dpm.demdex.net;',
            \\"img-src 'self' https://* https://a0.awsstatic.com/ https://amazonwebservices.d2.sc.omtrdc.net https://aws.demdex.net https://dpm.demdex.net https://cm.everesttech.net;\\",
            \\"object-src 'none';\\",
            \\"style-src 'self' 'unsafe-inline';\\",
        ].join(' '),
    };
    return response;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzcG9uc2UtZnVuY3Rpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvd2ViYXBwL3Jlc3BvbnNlLWZ1bmN0aW9uL3Jlc3BvbnNlLWZ1bmN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFTQSxTQUFTLE9BQU8sQ0FBQyxLQUF5QjtJQUN4QyxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO0lBQzlCLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUM7SUFFL0IsT0FBTyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUM7SUFDL0MsT0FBTyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLENBQUM7SUFDekQsT0FBTyxDQUFDLHdCQUF3QixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUM7SUFDekQsT0FBTyxDQUFDLDJCQUEyQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUscUNBQXFDLEVBQUUsQ0FBQztJQUN4RixPQUFPLENBQUMseUJBQXlCLENBQUMsR0FBRztRQUNuQyxLQUFLLEVBQ0w7WUFDRSw2REFBNkQ7WUFDN0QsZ01BQWdNO1lBQ2hNLDBEQUEwRDtZQUMxRCx5S0FBeUs7WUFDekssb0JBQW9CO1lBQ3BCLG1DQUFtQztTQUNwQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7S0FDWixDQUFDO0lBRUYsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImludGVyZmFjZSBDbG91ZEZyb250UmVzcG9uc2Uge1xuICByZXNwb25zZTogYW55O1xuICBoZWFkZXJzOiB7XG4gICAgW2tleTogc3RyaW5nXToge1xuICAgICAgdmFsdWU6IHN0cmluZztcbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVyKGV2ZW50OiBDbG91ZEZyb250UmVzcG9uc2UpIHtcbiAgdmFyIHJlc3BvbnNlID0gZXZlbnQucmVzcG9uc2U7XG4gIHZhciBoZWFkZXJzID0gcmVzcG9uc2UuaGVhZGVycztcblxuICBoZWFkZXJzWyd4LWZyYW1lLW9wdGlvbnMnXSA9IHsgdmFsdWU6ICdkZW55JyB9O1xuICBoZWFkZXJzWyd4LXhzcy1wcm90ZWN0aW9uJ10gPSB7IHZhbHVlOiAnMTsgbW9kZT1ibG9jaycgfTtcbiAgaGVhZGVyc1sneC1jb250ZW50LXR5cGUtb3B0aW9ucyddID0geyB2YWx1ZTogJ25vc25pZmYnIH07XG4gIGhlYWRlcnNbJ3N0cmljdC10cmFuc3BvcnQtc2VjdXJpdHknXSA9IHsgdmFsdWU6ICdtYXgtYWdlPTQ3MzA0MDAwOyBpbmNsdWRlU3ViRG9tYWlucycgfTtcbiAgaGVhZGVyc1snY29udGVudC1zZWN1cml0eS1wb2xpY3knXSA9IHtcbiAgICB2YWx1ZTpcbiAgICBbXG4gICAgICBcImRlZmF1bHQtc3JjICdzZWxmJyAndW5zYWZlLWlubGluZScgaHR0cHM6Ly8qLmF3c3N0YXRpYy5jb207XCIsXG4gICAgICBcImNvbm5lY3Qtc3JjICdzZWxmJyBodHRwczovLyouc2hvcnRicmVhZC5hd3MuZGV2IGh0dHBzOi8vYTAuYXdzc3RhdGljLmNvbS8gaHR0cHM6Ly9hbWF6b253ZWJzZXJ2aWNlcy5kMi5zYy5vbXRyZGMubmV0IGh0dHBzOi8vYXdzLmRlbWRleC5uZXQgaHR0cHM6Ly9kcG0uZGVtZGV4Lm5ldCBodHRwczovL2NtLmV2ZXJlc3R0ZWNoLm5ldDtcIixcbiAgICAgICdmcmFtZS1zcmMgaHR0cHM6Ly9hd3MuZGVtZGV4Lm5ldCBodHRwczovL2RwbS5kZW1kZXgubmV0OycsXG4gICAgICBcImltZy1zcmMgJ3NlbGYnIGh0dHBzOi8vKiBodHRwczovL2EwLmF3c3N0YXRpYy5jb20vIGh0dHBzOi8vYW1hem9ud2Vic2VydmljZXMuZDIuc2Mub210cmRjLm5ldCBodHRwczovL2F3cy5kZW1kZXgubmV0IGh0dHBzOi8vZHBtLmRlbWRleC5uZXQgaHR0cHM6Ly9jbS5ldmVyZXN0dGVjaC5uZXQ7XCIsXG4gICAgICBcIm9iamVjdC1zcmMgJ25vbmUnO1wiLFxuICAgICAgXCJzdHlsZS1zcmMgJ3NlbGYnICd1bnNhZmUtaW5saW5lJztcIixcbiAgICBdLmpvaW4oJyAnKSxcbiAgfTtcblxuICByZXR1cm4gcmVzcG9uc2U7XG59XG4iXX0=",
        "FunctionConfig": Object {
          "Comment": "AddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9",
          "Runtime": "cloudfront-js-1.0",
        },
        "Name": "AddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9",
      },
      "Type": "AWS::CloudFront::Function",
    },
    "ConstructHubWebAppDeployWebsiteAwsCliLayer23CFFBC1": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubWebAppDeployWebsiteConfigAwsCliLayer8DFDB17A": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubWebAppDeployWebsiteConfigCustomResource2D18C708": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "DistributionId": Object {
          "Ref": "ConstructHubWebAppDistribution1F181DC9",
        },
        "Prune": false,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
          },
          Object {
            "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
        "SystemMetadata": Object {
          "cache-control": "public, max-age=300, must-revalidate, s-maxage=60, proxy-revalidate",
        },
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubWebAppDeployWebsiteCustomResourceE6DF98C9": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "DistributionId": Object {
          "Ref": "ConstructHubWebAppDistribution1F181DC9",
        },
        "Prune": false,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
        "SystemMetadata": Object {
          "cache-control": "public, max-age=300, must-revalidate, s-maxage=60, proxy-revalidate",
        },
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubWebAppDistribution1F181DC9": Object {
      "Properties": Object {
        "DistributionConfig": Object {
          "Aliases": Array [
            "my.construct.hub",
          ],
          "CacheBehaviors": Array [
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/data/*",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/catalog.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/all-versions.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/stats.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
          ],
          "CustomErrorResponses": Array [
            Object {
              "ErrorCode": 404,
              "ResponseCode": 200,
              "ResponsePagePath": "/index.html",
            },
            Object {
              "ErrorCode": 403,
              "ResponseCode": 200,
              "ResponsePagePath": "/index.html",
            },
          ],
          "DefaultCacheBehavior": Object {
            "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
            "Compress": true,
            "FunctionAssociations": Array [
              Object {
                "EventType": "viewer-response",
                "FunctionARN": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                    "FunctionARN",
                  ],
                },
              },
            ],
            "TargetOriginId": "TestConstructHubWebAppDistributionOrigin171FF58D3",
            "ViewerProtocolPolicy": "allow-all",
          },
          "DefaultRootObject": "index.html",
          "Enabled": true,
          "HttpVersion": "http2",
          "IPV6Enabled": true,
          "Origins": Array [
            Object {
              "DomainName": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                  "RegionalDomainName",
                ],
              },
              "Id": "TestConstructHubWebAppDistributionOrigin171FF58D3",
              "S3OriginConfig": Object {
                "OriginAccessIdentity": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "origin-access-identity/cloudfront/",
                      Object {
                        "Ref": "ConstructHubWebAppDistributionOrigin1S3Origin694AF937",
                      },
                    ],
                  ],
                },
              },
            },
            Object {
              "DomainName": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "RegionalDomainName",
                ],
              },
              "Id": "TestConstructHubWebAppDistributionOrigin276090F90",
              "S3OriginConfig": Object {
                "OriginAccessIdentity": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "origin-access-identity/cloudfront/",
                      Object {
                        "Ref": "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4",
                      },
                    ],
                  ],
                },
              },
            },
          ],
          "ViewerCertificate": Object {
            "AcmCertificateArn": Object {
              "Fn::GetAtt": Array [
                "CertCertificateRequestorResource9D0836FD",
                "Arn",
              ],
            },
            "MinimumProtocolVersion": "TLSv1.2_2018",
            "SslSupportMethod": "sni-only",
          },
        },
      },
      "Type": "AWS::CloudFront::Distribution",
    },
    "ConstructHubWebAppDistributionOrigin1S3Origin694AF937": Object {
      "Properties": Object {
        "CloudFrontOriginAccessIdentityConfig": Object {
          "Comment": "Identity for TestConstructHubWebAppDistributionOrigin171FF58D3",
        },
      },
      "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
    },
    "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4": Object {
      "Properties": Object {
        "CloudFrontOriginAccessIdentityConfig": Object {
          "Comment": "Identity for TestConstructHubWebAppDistributionOrigin276090F90",
        },
      },
      "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
    },
    "ConstructHubWebAppExpirationMonitorACMAlarm0B479A12": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The ACM certificate ",
              Object {
                "Fn::GetAtt": Array [
                  "CertCertificateRequestorResource9D0836FD",
                  "Arn",
                ],
              },
              " will expire in less than 45 days!",
            ],
          ],
        },
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "CertificateArn",
            "Value": Object {
              "Fn::GetAtt": Array [
                "CertCertificateRequestorResource9D0836FD",
                "Arn",
              ],
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "DaysToExpiry",
        "Namespace": "AWS/CertificateManager",
        "Period": 86400,
        "Statistic": "Minimum",
        "Threshold": 45,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubWebAppExpirationMonitorC375584C": Object {
      "DependsOn": Array [
        "ConstructHubWebAppExpirationMonitorServiceRoleCA4166B2",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters069043dc5c067ee8fba8c04a297886c3ecb0c208f06ea32fc40bb0761e8c9a99S3Bucket7FED7AFC",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters069043dc5c067ee8fba8c04a297886c3ecb0c208f06ea32fc40bb0761e8c9a99S3VersionKey4EDE2DC8",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters069043dc5c067ee8fba8c04a297886c3ecb0c208f06ea32fc40bb0761e8c9a99S3VersionKey4EDE2DC8",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "Monitors the days to expiry of the certificate used to serve my.construct.hub",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "HTTPS_ENDPOINT": "my.construct.hub",
            "METRIC_NAME": "DaysToExpiry",
            "METRIC_NAMESPACE": "Test",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubWebAppExpirationMonitorServiceRoleCA4166B2",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 300,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubWebAppExpirationMonitorEndpointAlarmAA7AF160": Object {
      "DependsOn": Array [
        "ConstructHubWebAppExpirationMonitorScheduleAllowEventRuleTestConstructHubWebAppExpirationMonitorA4C6D17539763086",
        "ConstructHubWebAppExpirationMonitorSchedule6EC6E0EA",
      ],
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": "The certificate used to serve my.construct.hub will expire in less than 45 days!",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "DomainName",
            "Value": "my.construct.hub",
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "DaysToExpiry",
        "Namespace": "Test",
        "Period": 86400,
        "Statistic": "Minimum",
        "Threshold": 45,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubWebAppExpirationMonitorSchedule6EC6E0EA": Object {
      "Properties": Object {
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Executes the ",
              Object {
                "Ref": "ConstructHubWebAppExpirationMonitorC375584C",
              },
              " function every 30 minutes",
            ],
          ],
        },
        "ScheduleExpression": "rate(30 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubWebAppExpirationMonitorC375584C",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubWebAppExpirationMonitorScheduleAllowEventRuleTestConstructHubWebAppExpirationMonitorA4C6D17539763086": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubWebAppExpirationMonitorC375584C",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubWebAppExpirationMonitorSchedule6EC6E0EA",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubWebAppExpirationMonitorServiceRoleCA4166B2": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubWebAppFailoverWebsiteBucketPolicy7303D09F": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubWebAppWebsiteBucket4B2B9DB2": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubWebAppWebsiteBucketPolicy17174C06": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:GetObject",
              "Effect": "Allow",
              "Principal": Object {
                "CanonicalUser": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppDistributionOrigin1S3Origin694AF937",
                    "S3CanonicalUserId",
                  ],
                },
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536": Object {
      "DependsOn": Array [
        "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
        "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3BucketD1AD544E",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Handler": "index.handler",
        "Layers": Array [
          Object {
            "Ref": "ConstructHubDenyListBucketDeploymentAwsCliLayerEAC3D4DA",
          },
        ],
        "Role": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
            "Arn",
          ],
        },
        "Runtime": "python3.7",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "cloudfront:GetInvalidation",
                "cloudfront:CreateInvalidation",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
        "Roles": Array [
          Object {
            "Ref": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F": Object {
      "DependsOn": Array [
        "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3Bucket4842F32D",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Lambda function for auto-deleting objects in ",
              Object {
                "Ref": "ConstructHubDenyListBucket1B3C2C2E",
              },
              " S3 bucket.",
            ],
          ],
        },
        "Handler": "__entrypoint__.handler",
        "MemorySize": 128,
        "Role": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
            "Arn",
          ],
        },
        "Runtime": "nodejs12.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Sub": "arn:\${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A": Object {
      "DependsOn": Array [
        "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB",
        "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3Bucket2070BA0A",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:PutRetentionPolicy",
                "logs:DeleteRetentionPolicy",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB",
        "Roles": Array [
          Object {
            "Ref": "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2": Object {
      "DependsOn": Array [
        "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D",
        "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3BucketCBEF8050",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/MissingDocumentationWidget] Is a custom CloudWatch widget handler",
        "Environment": Object {
          "Variables": Object {
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "OBJECT_KEY": "uninstallable-objects/data.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Tags": Array [
          Object {
            "Key": "function-purpose",
            "Value": "cloudwatch-custom-widget",
          },
        ],
        "Timeout": 15,
      },
      "Type": "AWS::Lambda::Function",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
        "Tags": Array [
          Object {
            "Key": "function-purpose",
            "Value": "cloudwatch-custom-widget",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/uninstallable-objects/data.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/typescript-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/typescript.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/python-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/python.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/java-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/java.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/csharp-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/csharp.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D",
        "Roles": Array [
          Object {
            "Ref": "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
  },
}
`;

exports[`with limited internet access 1`] = `
Object {
  "Outputs": Object {
    "ConstructHubDenyListSnapshotCommand3E133B03": Object {
      "Description": "Snapshot Test/ConstructHub/DenyList/Bucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
            },
          ],
        ],
      },
    },
    "ConstructHubIngestionSnapshotCommand746AF5B0": Object {
      "Description": "Snapshot Test/ConstructHub/Ingestion/ConfigBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubIngestionFailoverConfigBucket079F82C3",
            },
          ],
        ],
      },
    },
    "ConstructHubLicenseListSnapshotCommandB9EA2EF4": Object {
      "Description": "Snapshot Test/ConstructHub/LicenseList/Bucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubLicenseListBucket9334047F",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubLicenseListFailoverBucketA96D2AAF",
            },
          ],
        ],
      },
    },
    "ConstructHubMonitoringWatchfulWatchfulDashboard75D318D0": Object {
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "https://console.aws.amazon.com/cloudwatch/home?region=",
            Object {
              "Ref": "AWS::Region",
            },
            "#dashboards:name=",
            Object {
              "Ref": "ConstructHubMonitoringWatchfulDashboardB8493D55",
            },
          ],
        ],
      },
    },
    "ConstructHubSnapshotCommandDD3886DA": Object {
      "Description": "Snapshot Test/ConstructHub/PackageData",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubFailoverPackageDataBA7D3B85",
            },
          ],
        ],
      },
    },
    "ConstructHubSourcesSnapshotCommandB1EF760F": Object {
      "Description": "Snapshot Test/ConstructHub/Sources/NpmJs--StagingBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
            },
          ],
        ],
      },
    },
    "ConstructHubWebAppDomainNameDC10F8DD": Object {
      "Export": Object {
        "Name": "ConstructHubDomainName",
      },
      "Value": Object {
        "Fn::GetAtt": Array [
          "ConstructHubWebAppDistribution1F181DC9",
          "DomainName",
        ],
      },
    },
    "ConstructHubWebAppSnapshotCommandC5AF418E": Object {
      "Description": "Snapshot Test/ConstructHub/WebApp/WebsiteBucket",
      "Value": Object {
        "Fn::Join": Array [
          "",
          Array [
            "aws s3 sync s3://",
            Object {
              "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
            },
            " s3://",
            Object {
              "Ref": "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
            },
          ],
        ],
      },
    },
  },
  "Parameters": Object {
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6ArtifactHashF2EEEBFF": Object {
      "Description": "Artifact hash for asset \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3Bucket86412295": Object {
      "Description": "S3 bucket for asset \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01": Object {
      "Description": "S3 key for asset version \\"04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440ArtifactHash87A9FF22": Object {
      "Description": "Artifact hash for asset \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054": Object {
      "Description": "S3 bucket for asset \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49": Object {
      "Description": "S3 key for asset version \\"061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9ArtifactHashB9E3BF29": Object {
      "Description": "Artifact hash for asset \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF": Object {
      "Description": "S3 bucket for asset \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876": Object {
      "Description": "S3 key for asset version \\"0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1ArtifactHash0128B949": Object {
      "Description": "Artifact hash for asset \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3Bucket4842F32D": Object {
      "Description": "S3 bucket for asset \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A": Object {
      "Description": "S3 key for asset version \\"1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5ArtifactHash0AFE0939": Object {
      "Description": "Artifact hash for asset \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3Bucket722FE70B": Object {
      "Description": "S3 bucket for asset \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC": Object {
      "Description": "S3 key for asset version \\"37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5ArtifactHash499F6DFF": Object {
      "Description": "Artifact hash for asset \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3Bucket37F2908E": Object {
      "Description": "S3 bucket for asset \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11": Object {
      "Description": "S3 key for asset version \\"3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787ArtifactHash1BD3190B": Object {
      "Description": "Artifact hash for asset \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3BucketFE59B3A9": Object {
      "Description": "S3 bucket for asset \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588": Object {
      "Description": "S3 key for asset version \\"38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dArtifactHash3B82A2B3": Object {
      "Description": "Artifact hash for asset \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3BucketCBEF8050": Object {
      "Description": "S3 bucket for asset \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381": Object {
      "Description": "S3 key for asset version \\"3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880d\\"",
      "Type": "String",
    },
    "AssetParameters4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbcArtifactHashF236251A": Object {
      "Description": "Artifact hash for asset \\"4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbc\\"",
      "Type": "String",
    },
    "AssetParameters4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbcS3Bucket02FC0B28": Object {
      "Description": "S3 bucket for asset \\"4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbc\\"",
      "Type": "String",
    },
    "AssetParameters4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbcS3VersionKey547E84F8": Object {
      "Description": "S3 key for asset version \\"4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbc\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bArtifactHash5ABBFB9B": Object {
      "Description": "Artifact hash for asset \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3Bucket8AF0E263": Object {
      "Description": "S3 bucket for asset \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545": Object {
      "Description": "S3 key for asset version \\"42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2b\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeArtifactHash3FAC57D3": Object {
      "Description": "Artifact hash for asset \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3Bucket6F376B71": Object {
      "Description": "S3 bucket for asset \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804": Object {
      "Description": "S3 key for asset version \\"4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeee\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177ArtifactHashF4EB5524": Object {
      "Description": "Artifact hash for asset \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC": Object {
      "Description": "S3 bucket for asset \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9": Object {
      "Description": "S3 key for asset version \\"76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900ArtifactHash121EF458": Object {
      "Description": "Artifact hash for asset \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865": Object {
      "Description": "S3 bucket for asset \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20": Object {
      "Description": "S3 key for asset version \\"8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9ArtifactHash694505BF": Object {
      "Description": "Artifact hash for asset \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0": Object {
      "Description": "S3 bucket for asset \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4": Object {
      "Description": "S3 key for asset version \\"8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064ArtifactHashEA963870": Object {
      "Description": "Artifact hash for asset \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2": Object {
      "Description": "S3 bucket for asset \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37": Object {
      "Description": "S3 key for asset version \\"8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4ArtifactHash660A50B8": Object {
      "Description": "Artifact hash for asset \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3BucketE78A0203": Object {
      "Description": "S3 bucket for asset \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7": Object {
      "Description": "S3 key for asset version \\"98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8ArtifactHash238275D6": Object {
      "Description": "Artifact hash for asset \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3BucketD1AD544E": Object {
      "Description": "S3 bucket for asset \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70": Object {
      "Description": "S3 key for asset version \\"a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827ArtifactHash1355580A": Object {
      "Description": "Artifact hash for asset \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3Bucket2070BA0A": Object {
      "Description": "S3 bucket for asset \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3": Object {
      "Description": "S3 key for asset version \\"b120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73ArtifactHashE8AF1E10": Object {
      "Description": "Artifact hash for asset \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3Bucket9A67A1B5": Object {
      "Description": "S3 bucket for asset \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5": Object {
      "Description": "S3 key for asset version \\"c15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcArtifactHash4E26EEC4": Object {
      "Description": "Artifact hash for asset \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3Bucket5255533F": Object {
      "Description": "S3 bucket for asset \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675": Object {
      "Description": "S3 key for asset version \\"c62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafc\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009ArtifactHash0AE6829F": Object {
      "Description": "Artifact hash for asset \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3Bucket3D1A3222": Object {
      "Description": "S3 bucket for asset \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC": Object {
      "Description": "S3 key for asset version \\"c76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aArtifactHash0386B8EC": Object {
      "Description": "Artifact hash for asset \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3BucketAE80D773": Object {
      "Description": "S3 bucket for asset \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F": Object {
      "Description": "S3 key for asset version \\"da314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17a\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efArtifactHashE5DEFDE2": Object {
      "Description": "Artifact hash for asset \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3Bucket583A7087": Object {
      "Description": "S3 bucket for asset \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839": Object {
      "Description": "S3 key for asset version \\"e3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96ef\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68ArtifactHashD9A515C3": Object {
      "Description": "Artifact hash for asset \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7": Object {
      "Description": "S3 bucket for asset \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F": Object {
      "Description": "S3 key for asset version \\"e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3ArtifactHash11DB5971": Object {
      "Description": "Artifact hash for asset \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3BucketAC5DE359": Object {
      "Description": "S3 bucket for asset \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC": Object {
      "Description": "S3 key for asset version \\"f48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5ArtifactHash185A4671": Object {
      "Description": "Artifact hash for asset \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3Bucket024B3DC6": Object {
      "Description": "S3 bucket for asset \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
    "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859": Object {
      "Description": "S3 key for asset version \\"fbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5\\"",
      "Type": "String",
    },
  },
  "Resources": Object {
    "AWS679f53fac002430cb0da5b7982bd22872D164C4C": Object {
      "DependsOn": Array [
        "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbcS3Bucket02FC0B28",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbcS3VersionKey547E84F8",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters4074092ab8b435c90a773e082601fa36def54c91cadfae59451bd0beda547cbcS3VersionKey547E84F8",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
            "Arn",
          ],
        },
        "Runtime": "nodejs12.x",
        "Timeout": 120,
      },
      "Type": "AWS::Lambda::Function",
    },
    "AWS679f53fac002430cb0da5b7982bd2287LogRetentionCE72797A": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
              },
            ],
          ],
        },
        "RetentionInDays": 90,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691": Object {
      "DependsOn": Array [
        "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
        "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
      ],
      "Properties": Object {
        "Code": Object {
          "ZipFile": "import boto3  # type: ignore
import json
import logging
import urllib.request

s3 = boto3.client(\\"s3\\")

CONFIGURATION_TYPES = [\\"TopicConfigurations\\", \\"QueueConfigurations\\", \\"LambdaFunctionConfigurations\\"]

def handler(event: dict, context):
    response_status = \\"SUCCESS\\"
    error_message = \\"\\"
    try:
        props = event[\\"ResourceProperties\\"]
        bucket = props[\\"BucketName\\"]
        notification_configuration = props[\\"NotificationConfiguration\\"]
        request_type = event[\\"RequestType\\"]
        managed = props.get('Managed', 'true').lower() == 'true'
        stack_id = event['StackId']

        if managed:
          config = handle_managed(request_type, notification_configuration)
        else:
          config = handle_unmanaged(bucket, stack_id, request_type, notification_configuration)

        put_bucket_notification_configuration(bucket, config)
    except Exception as e:
        logging.exception(\\"Failed to put bucket notification configuration\\")
        response_status = \\"FAILED\\"
        error_message = f\\"Error: {str(e)}. \\"
    finally:
        submit_response(event, context, response_status, error_message)


def handle_managed(request_type, notification_configuration):
  if request_type == 'Delete':
    return {}
  return notification_configuration


def handle_unmanaged(bucket, stack_id, request_type, notification_configuration):

  # find external notifications
  external_notifications = find_external_notifications(bucket, stack_id)

  # if delete, that's all we need
  if request_type == 'Delete':
    return external_notifications

  def with_id(notification):
    notification['Id'] = f\\"{stack_id}-{hash(json.dumps(notification, sort_keys=True))}\\"
    return notification

  # otherwise, merge external with incoming config and augment with id
  notifications = {}
  for t in CONFIGURATION_TYPES:
    external = external_notifications.get(t, [])
    incoming = [with_id(n) for n in notification_configuration.get(t, [])]
    notifications[t] = external + incoming
  return notifications


def find_external_notifications(bucket, stack_id):
  existing_notifications = get_bucket_notification_configuration(bucket)
  external_notifications = {}
  for t in CONFIGURATION_TYPES:
    # if the notification was created by us, we know what id to expect
    # so we can filter by it.
    external_notifications[t] = [n for n in existing_notifications.get(t, []) if not n['Id'].startswith(f\\"{stack_id}-\\")]

  return external_notifications


def get_bucket_notification_configuration(bucket):
  return s3.get_bucket_notification_configuration(Bucket=bucket)


def put_bucket_notification_configuration(bucket, notification_configuration):
  s3.put_bucket_notification_configuration(Bucket=bucket, NotificationConfiguration=notification_configuration)


def submit_response(event: dict, context, response_status: str, error_message: str):
    response_body = json.dumps(
        {
            \\"Status\\": response_status,
            \\"Reason\\": f\\"{error_message}See the details in CloudWatch Log Stream: {context.log_stream_name}\\",
            \\"PhysicalResourceId\\": event.get(\\"PhysicalResourceId\\") or event[\\"LogicalResourceId\\"],
            \\"StackId\\": event[\\"StackId\\"],
            \\"RequestId\\": event[\\"RequestId\\"],
            \\"LogicalResourceId\\": event[\\"LogicalResourceId\\"],
            \\"NoEcho\\": False,
        }
    ).encode(\\"utf-8\\")
    headers = {\\"content-type\\": \\"\\", \\"content-length\\": str(len(response_body))}
    try:
        req = urllib.request.Request(url=event[\\"ResponseURL\\"], headers=headers, data=response_body, method=\\"PUT\\")
        with urllib.request.urlopen(req) as response:
            print(response.read().decode(\\"utf-8\\"))
        print(\\"Status code: \\" + response.reason)
    except Exception as e:
        print(\\"send(..) failed executing request.urlopen(..): \\" + str(e))
",
        },
        "Description": "AWS CloudFormation handler for \\"Custom::S3BucketNotifications\\" resources (@aws-cdk/aws-s3)",
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
            "Arn",
          ],
        },
        "Runtime": "python3.7",
        "Timeout": 300,
      },
      "Type": "AWS::Lambda::Function",
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:PutBucketNotification",
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
        "Roles": Array [
          Object {
            "Ref": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubBackendDashboardGraphs6A37B2BC": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"start\\":\\"-P1W\\",\\"periodOverride\\":\\"auto\\",\\"widgets\\":[{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"markdown\\":\\"# Catalog Overview\\\\n\\\\n[button:primary:Package Data](/s3/buckets/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              ")\\\\n[button:Catalog Builder](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
              ")\\\\n[button:Inventory Canary](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
              ")\\\\n[button:Search Canary Log Group](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Size\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SubmoduleCount\\",{\\"label\\":\\"Submodules\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageVersionCount\\",{\\"label\\":\\"Package Versions\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageMajorVersionCount\\",{\\"label\\":\\"Package Majors\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"PackageCount\\",{\\"label\\":\\"Packages\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Issues\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"UnknownObjectCount\\",{\\"label\\":\\"Unknown\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingAssemblyCount\\",{\\"label\\":\\"Missing Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageMetadataCount\\",{\\"label\\":\\"Missing Metadata\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageTarballCount\\",{\\"label\\":\\"Missing Tarball\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UninstallablePackageCount\\",{\\"label\\":\\"Uninstallable Package\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/CatalogBuilder\\",\\"MissingConstructFrameworkCount\\",{\\"label\\":\\"No Construct Framework\\",\\"period\\":900,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/CatalogBuilder\\",\\"MissingConstructFrameworkVersionCount\\",{\\"label\\":\\"No Construct Framework Version\\",\\"period\\":900,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":8,\\"properties\\":{\\"markdown\\":\\"# Documentation Generation\\\\n\\\\n[button:primary:Transliterator Logs](/cloudwatch/home#logsV2:log-groups/log-group/",
              Object {
                "Fn::Join": Array [
                  "%252",
                  Object {
                    "Fn::Split": Array [
                      "/",
                      Object {
                        "Ref": "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                      },
                    ],
                  },
                ],
              },
              ")\\\\n[button:Transliterator ECS Cluster](/ecs/home#/clusters/",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "/tasks)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Fargate Resources\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Usage\\",\\"ResourceCount\\",\\"Class\\",\\"None\\",\\"Resource\\",\\"OnDemand\\",\\"Service\\",\\"Fargate\\",\\"Type\\",\\"Resource\\",{\\"label\\":\\"Fargate Usage (On-Demand)\\",\\"stat\\":\\"Maximum\\",\\"id\\":\\"mFargateUsage\\"}],[{\\"label\\":\\"Fargate Quota (On-Demand)\\",\\"expression\\":\\"SERVICE_QUOTA(mFargateUsage)\\"}],[{\\"label\\":\\"CPU Utilization\\",\\"expression\\":\\"100 * FILL(mCpuUtilized, 0) / FILL(mCpuReserved, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"CpuReserved\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mCpuReserved\\"}],[\\"ECS/ContainerInsights\\",\\"CpuUtilized\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mCpuUtilized\\"}],[{\\"label\\":\\"Memory Utilization\\",\\"expression\\":\\"100 * FILL(mMemoryUtilized, 0) / FILL(mMemoryReserved, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"MemoryReserved\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mMemoryReserved\\"}],[\\"ECS/ContainerInsights\\",\\"MemoryUtilized\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mMemoryUtilized\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"label\\":\\"Percent\\",\\"min\\":0,\\"max\\":100,\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"ECS Resources\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Received Bytes\\",\\"expression\\":\\"FILL(m67cc14db3275d4a2af71847df2ebb376a00b015f62c4ff9d1aedb9bc615a6cf0, 0)\\"}],[\\"ECS/ContainerInsights\\",\\"NetworkRxBytes\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Received Bytes\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m67cc14db3275d4a2af71847df2ebb376a00b015f62c4ff9d1aedb9bc615a6cf0\\"}],[{\\"label\\":\\"Transmitted Bytes\\",\\"expression\\":\\"FILL(md6781afc8bf73de5587d36039d8226d1c0fe0b50a1c949759d3d8d8cd2e3f6d1, 0)\\"}],[\\"ECS/ContainerInsights\\",\\"NetworkTxBytes\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Transmitted Bytes\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"md6781afc8bf73de5587d36039d8226d1c0fe0b50a1c949759d3d8d8cd2e3f6d1\\"}],[{\\"label\\":\\"Task Count\\",\\"expression\\":\\"FILL(mbb258976f5c025a7dff5289417a6b07619e000e4af1a427fecc57b31586fd6dd, 0)\\",\\"yAxis\\":\\"right\\"}],[\\"ECS/ContainerInsights\\",\\"TaskCount\\",\\"ClusterName\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestrationCluster3D6F0081",
              },
              "\\",{\\"label\\":\\"Task Count\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"mbb258976f5c025a7dff5289417a6b07619e000e4af1a427fecc57b31586fd6dd\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":16,\\"properties\\":{\\"markdown\\":\\"## Language: typescript\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":17,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":17,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"typescript\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":23,\\"properties\\":{\\"markdown\\":\\"## Language: python\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":24,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"python\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"markdown\\":\\"## Language: java\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":31,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":31,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"java\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":1,\\"x\\":0,\\"y\\":37,\\"properties\\":{\\"markdown\\":\\"## Language: csharp\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":38,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Versions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblyPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingPackageVersionCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":38,\\"properties\\":{\\"view\\":\\"pie\\",\\"title\\":\\"Package Version Submodules\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/Inventory\\",\\"SupportedSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#2ca02c\\",\\"label\\":\\"Available\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"CorruptAssemblySubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#3542D7\\",\\"label\\":\\"Corrupt Assembly\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"UnsupportedSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#9467bd\\",\\"label\\":\\"Unsupported\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/Inventory\\",\\"MissingSubmoduleCount\\",\\"Language\\",\\"csharp\\",{\\"color\\":\\"#d62728\\",\\"label\\":\\"Missing\\",\\"period\\":900,\\"stat\\":\\"Maximum\\"}]],\\"yAxis\\":{\\"left\\":{\\"showUnits\\":false}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":44,\\"properties\\":{\\"markdown\\":\\"# Test/ConstructHub/Sources/NpmJs\\\\n\\\\n[button:primary:NpmJs Follower](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              ")\\\\n[button:Marker Object](/s3/object/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
              },
              "?prefix=couchdb-last-transaction-id.2)\\\\n[button:Stager](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              ")\\\\n[button:Stager DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":46,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Follower Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"RemainingTime\\",{\\"label\\":\\"Remaining Time\\",\\"stat\\":\\"Minimum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":46,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Stager Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}],[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "\\",{\\"label\\":\\"Duration\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":52,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"CouchDB Follower\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Change Count\\",\\"expression\\":\\"FILL(mf6a938229aec623f5cf21e3ae3401901e7f7c6ebd5774ab6ac6e74af83efd121, 0)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"ChangeCount\\",{\\"label\\":\\"Change Count\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"mf6a938229aec623f5cf21e3ae3401901e7f7c6ebd5774ab6ac6e74af83efd121\\"}],[{\\"label\\":\\"Unprocessable\\",\\"expression\\":\\"FILL(m5b235d813bd8ded65d7de9a1345c9b49a8cf2af40e7e98ddbb8cb73e00783a8a, 0)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"UnprocessableEntity\\",{\\"label\\":\\"Unprocessable\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m5b235d813bd8ded65d7de9a1345c9b49a8cf2af40e7e98ddbb8cb73e00783a8a\\"}],[{\\"label\\":\\"Lag to npmjs.com\\",\\"expression\\":\\"FILL(m4d6c513faac55be4bca785e8587a9a145b65f5fe675318c9c5c52f3ada197b7b, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"NpmJsChangeAge\\",{\\"label\\":\\"Lag to npmjs.com\\",\\"stat\\":\\"Minimum\\",\\"visible\\":false,\\"id\\":\\"m4d6c513faac55be4bca785e8587a9a145b65f5fe675318c9c5c52f3ada197b7b\\"}],[{\\"label\\":\\"Package Version Age\\",\\"expression\\":\\"FILL(mec485aa83505431ed7a356970082cd4815c310504ff176dd3eeb241ae7bbf0c4, REPEAT)\\",\\"yAxis\\":\\"right\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"PackageVersionAge\\",{\\"label\\":\\"Package Version Age\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mec485aa83505431ed7a356970082cd4815c310504ff176dd3eeb241ae7bbf0c4\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"label\\":\\"Milliseconds\\",\\"min\\":0,\\"showUnits\\":false}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":52,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"CouchDB Changes\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Last Sequence Number\\",\\"expression\\":\\"FILL(mcc89a801dd7db60ea52e74b9851bd34a3899e7a26323ac98feb632cdf70c2500, REPEAT)\\"}],[\\"ConstructHub/PackageSource/NpmJs/Follower\\",\\"LastSeq\\",{\\"label\\":\\"Last Sequence Number\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mcc89a801dd7db60ea52e74b9851bd34a3899e7a26323ac98feb632cdf70c2500\\"}]],\\"yAxis\\":{},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":58,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Stager Dead-Letter Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Visible Messages\\",\\"expression\\":\\"FILL(m96c7bb4160011a049b6b07c0feab8fb02e5a8d4aa466939592829f864dde6400, 0)\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m96c7bb4160011a049b6b07c0feab8fb02e5a8d4aa466939592829f864dde6400\\"}],[{\\"label\\":\\"Invisible Messages\\",\\"expression\\":\\"FILL(mf74066283a392fc98a0cd7a405f2aa9b5af544d3a87542f06fff7fd069fd8578, 0)\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"mf74066283a392fc98a0cd7a405f2aa9b5af544d3a87542f06fff7fd069fd8578\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":58,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Package Canary\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"ConstructHub/PackageCanary\\",\\"DwellTime\\",{\\"label\\":\\"Dwell Time\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/PackageCanary\\",\\"TimeToCatalog\\",{\\"label\\":\\"Time to Catalog\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"ConstructHub/PackageCanary\\",\\"TrackedVersionCount\\",{\\"label\\":\\"Tracked Version Count\\",\\"period\\":60,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff0000\\",\\"label\\":\\"SLA (5 minutes)\\",\\"value\\":300,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":64,\\"properties\\":{\\"markdown\\":\\"# Ingestion Function\\\\n\\\\n[button:Ingestion Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              ")\\\\n[button:primary:Search Log Group](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "/log-events)\\\\n[button:DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":66,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Function Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":66,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Input Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Hidden Messages\\",\\"period\\":60,\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"period\\":60,\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"10 Minutes\\",\\"value\\":600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":72,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Input Quality\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"stacked\\":true,\\"metrics\\":[[{\\"label\\":\\"Invalid Assemblies\\",\\"expression\\":\\"FILL(m0c5f10aa73687a21aa44b8985d19311246bca6c2cd1b2256b9f3e78c71e94fa3, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"InvalidAssembly\\",{\\"label\\":\\"Invalid Assemblies\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m0c5f10aa73687a21aa44b8985d19311246bca6c2cd1b2256b9f3e78c71e94fa3\\"}],[{\\"label\\":\\"Invalid Tarball\\",\\"expression\\":\\"FILL(m3a39d9b0bf974255f27dc95e44c8574bdfce2b97e49a7504346a77c5c9f6a3e1, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"InvalidTarball\\",{\\"label\\":\\"Invalid Tarball\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3a39d9b0bf974255f27dc95e44c8574bdfce2b97e49a7504346a77c5c9f6a3e1\\"}],[{\\"label\\":\\"Ineligible License\\",\\"expression\\":\\"FILL(me19ae9c3f20ae715e3462f9402684a3817282218f36e69494a60bc251e3435a6, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"IneligibleLicense\\",{\\"label\\":\\"Ineligible License\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"me19ae9c3f20ae715e3462f9402684a3817282218f36e69494a60bc251e3435a6\\"}],[{\\"label\\":\\"Mismatched Identity\\",\\"expression\\":\\"FILL(m7c1d407f17f8d2452a0bf87ac06fdd032de385a2758254f4192d6e17ed40d44b, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"MismatchedIdentityRejections\\",{\\"label\\":\\"Mismatched Identity\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7c1d407f17f8d2452a0bf87ac06fdd032de385a2758254f4192d6e17ed40d44b\\"}],[{\\"label\\":\\"Found License file\\",\\"expression\\":\\"FILL(m7084dfec3c5bab86694d7ae438460f471c174a94bc67c9c9738e3ab60246b661, 0)\\"}],[\\"ConstructHub/Ingestion\\",\\"FoundLicenseFile\\",{\\"label\\":\\"Found License file\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7084dfec3c5bab86694d7ae438460f471c174a94bc67c9c9738e3ab60246b661\\"}]],\\"yAxis\\":{\\"left\\":{\\"label\\":\\"Count\\",\\"min\\":0,\\"showUnits\\":false}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":72,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Dead Letters\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff7f0e\\",\\"label\\":\\"10 days\\",\\"value\\":864000,\\"yAxis\\":\\"right\\"},{\\"color\\":\\"#ff0000\\",\\"label\\":\\"14 days (DLQ Retention)\\",\\"value\\":1209600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":78,\\"properties\\":{\\"markdown\\":\\"# Orchestration\\\\n\\\\n[button:primary:State Machine](/states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              ")\\\\n[button:DLQ](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              ")\\\\n[button:Redrive DLQ](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationRedrive8DDBA67E",
              },
              ")\\\\n[button:Regenerate All Documentation](/states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationE9FAB254",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":80,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"State Machine Executions\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Started\\",\\"expression\\":\\"FILL(m392141ff4cfa3bbe1889b2db42bcf20599513e199a0b9fb8dc736cde893c1d7c, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsStarted\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Started\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m392141ff4cfa3bbe1889b2db42bcf20599513e199a0b9fb8dc736cde893c1d7c\\"}],[{\\"label\\":\\"Succeeded\\",\\"expression\\":\\"FILL(md1b80634be6e2f057c84f44fab13979a6445395ea2dc357cd12d0ba9f504e6d1, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsSucceeded\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Succeeded\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"md1b80634be6e2f057c84f44fab13979a6445395ea2dc357cd12d0ba9f504e6d1\\"}],[{\\"label\\":\\"Aborted\\",\\"expression\\":\\"FILL(m7c13255adf2b6d90baaa9e4e952e72ce260730c93b662336d01e3342f6255e08, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsAborted\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Aborted\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m7c13255adf2b6d90baaa9e4e952e72ce260730c93b662336d01e3342f6255e08\\"}],[{\\"label\\":\\"Failed\\",\\"expression\\":\\"FILL(m503cb5a7568675222eb2ac827982f88ad300c986505dabfafe1707080946e597, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsFailed\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Failed\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m503cb5a7568675222eb2ac827982f88ad300c986505dabfafe1707080946e597\\"}],[{\\"label\\":\\"Throttled\\",\\"expression\\":\\"FILL(m278670a6ffa3ce32fec8fcb73c1cfdc4c965389617e2387ab5852ebb00b2a81f, 0)\\"}],[\\"AWS/States\\",\\"ExecutionThrottled\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Throttled\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m278670a6ffa3ce32fec8fcb73c1cfdc4c965389617e2387ab5852ebb00b2a81f\\"}],[{\\"label\\":\\"Timed Out\\",\\"expression\\":\\"FILL(m106d91118c893ec9037d16448722184f1ebdcca08a617e1f13758151a8c85a21, 0)\\"}],[\\"AWS/States\\",\\"ExecutionsTimedOut\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Timed Out\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m106d91118c893ec9037d16448722184f1ebdcca08a617e1f13758151a8c85a21\\"}],[\\"AWS/States\\",\\"ExecutionTime\\",\\"StateMachineArn\\",\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\",{\\"label\\":\\"Duration\\",\\"yAxis\\":\\"right\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":80,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Dead Letter Queue\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Visible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateNumberOfMessagesNotVisible\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Invisible Messages\\",\\"stat\\":\\"Maximum\\"}],[\\"AWS/SQS\\",\\"ApproximateAgeOfOldestMessage\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Oldest Message Age\\",\\"stat\\":\\"Maximum\\",\\"yAxis\\":\\"right\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ff7f0e\\",\\"label\\":\\"10 days\\",\\"value\\":864000,\\"yAxis\\":\\"right\\"},{\\"color\\":\\"#ff0000\\",\\"label\\":\\"14 days (DLQ Retention)\\",\\"value\\":1209600,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0},\\"right\\":{\\"min\\":0}},\\"period\\":60}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":86,\\"properties\\":{\\"markdown\\":\\"# Deny List\\\\n\\\\n[button:primary:Deny List Object](/s3/object/",
              Object {
                "Ref": "ConstructHubDenyListBucket1B3C2C2E",
              },
              "?prefix=deny-list.json)\\\\n[button:Prune Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              ")\\\\n[button:Prune Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "/log-events)\\\\n[button:Delete Queue](/sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "QueueName",
                ],
              },
              ")\\\\n[button:Delete Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":88,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Deny List\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Rules\\",\\"expression\\":\\"FILL(m41327b0edbbef1ca627d9503d1b9b9fab401700118519537b58e0557adee7e4f, REPEAT)\\"}],[\\"ConstructHub/DenyList\\",\\"DenyListRuleCount\\",{\\"label\\":\\"Rules\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m41327b0edbbef1ca627d9503d1b9b9fab401700118519537b58e0557adee7e4f\\"}],[\\"AWS/SQS\\",\\"NumberOfMessagesDeleted\\",\\"QueueName\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "QueueName",
                ],
              },
              "\\",{\\"label\\":\\"Deleted Files\\",\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":88,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Prune Function Health\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Invocations\\",\\"expression\\":\\"FILL(m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2, 0)\\"}],[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"Invocations\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m9ff955bd33652ecefb4dd9402064988aa5e418fcf59360156ff8c9e38dbde5e2\\"}],[{\\"label\\":\\"Errors\\",\\"expression\\":\\"FILL(m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55, 0)\\"}],[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"Errors\\",\\"stat\\":\\"Sum\\",\\"visible\\":false,\\"id\\":\\"m3aa18789f406dc22d5fd69d6a8b1ae08cbc04aabfde21bee51e16796b37a2e55\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}},\\"period\\":300}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":94,\\"properties\\":{\\"markdown\\":\\"# Package Stats\\\\n\\\\n[button:primary:Package Stats Object](/s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=stats.json)\\\\n[button:Package Stats Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              ")\\\\n[button:Package Stats Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":96,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Number of Package Stats Recorded\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Packages with stats\\",\\"expression\\":\\"FILL(m47411943a6e8f8e16a1dd905ff43cab11425b802c4d32615e081cab30c15f29f, REPEAT)\\"}],[\\"ConstructHub/PackageStats\\",\\"RegisteredPackagesWithStats\\",{\\"label\\":\\"Packages with stats\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m47411943a6e8f8e16a1dd905ff43cab11425b802c4d32615e081cab30c15f29f\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":96,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocation Duration\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
              "\\",{\\"label\\":\\"Duration\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"15 minutes (Lambda timeout)\\",\\"value\\":900,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":102,\\"properties\\":{\\"markdown\\":\\"# Version Tracker\\\\n\\\\n[button:primary:Versions Object](/s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=all-versions.json)\\\\n[button:Version Tracker Function](/lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              ")\\\\n[button:Version Tracker Logs](/cloudwatch/home#logsV2:log-groups/log-group/$252Faws$252flambda$252f",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              "/log-events)\\"}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":0,\\"y\\":104,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Number of Package Versions Recorded\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[{\\"label\\":\\"Package versions recorded\\",\\"expression\\":\\"FILL(m343ebb2e5802fe223e549d8262d8d0c364846e0276426bc0a2d872e83bd8e63d, REPEAT)\\"}],[\\"ConstructHub/VersionTracker\\",\\"TrackedVersionsCount\\",{\\"label\\":\\"Package versions recorded\\",\\"stat\\":\\"Maximum\\",\\"visible\\":false,\\"id\\":\\"m343ebb2e5802fe223e549d8262d8d0c364846e0276426bc0a2d872e83bd8e63d\\"}]],\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}},{\\"type\\":\\"metric\\",\\"width\\":12,\\"height\\":6,\\"x\\":12,\\"y\\":104,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocation Duration\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
              "\\",{\\"label\\":\\"Duration\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"color\\":\\"#ffa500\\",\\"label\\":\\"1 minutes (Lambda timeout)\\",\\"value\\":60,\\"yAxis\\":\\"right\\"}]},\\"yAxis\\":{\\"left\\":{\\"min\\":0}}}}]}",
            ],
          ],
        },
        "DashboardName": "ConstructHubBackend-graphs",
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubBackendDashboardReportsDFD170B1": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"start\\":\\"-P1W\\",\\"periodOverride\\":\\"auto\\",\\"widgets\\":[{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"uninstallable-objects/data.json\\",\\"description\\":\\"These packages could not be installed. Note that currently they will also appear in the 'missing' documentation reports.\\\\n\\\\nThe specific error can be found in the package directory inside a file named 'uninstallable'\\\\n\\"},\\"title\\":\\"Package Versions Report | Uninstallable\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":6,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/typescript-documentation.json\\",\\"description\\":\\"These packages are missing typescript documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _typescript_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":12,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/typescript.json\\",\\"description\\":\\"These packages are missing typescript documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _typescript_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":18,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/python-documentation.json\\",\\"description\\":\\"These packages are missing python documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _python_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/python.json\\",\\"description\\":\\"These packages are missing python documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _python_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/java-documentation.json\\",\\"description\\":\\"These packages are missing java documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _java_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":36,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/java.json\\",\\"description\\":\\"These packages are missing java documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _java_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":42,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"missing-objects/csharp-documentation.json\\",\\"description\\":\\"These packages are missing csharp documentation.\\\\nApart from the uninstallable packages, this report should stay empty\\\\n\\\\nTo investigate inspect the orchestration DLQ.\\\\n\\"},\\"title\\":\\"Package Versions Report | Missing Documentation | _csharp_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}},{\\"type\\":\\"custom\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":48,\\"properties\\":{\\"endpoint\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2",
                  "Arn",
                ],
              },
              "\\",\\"params\\":{\\"key\\":\\"corruptassembly-objects/csharp.json\\",\\"description\\":\\"These packages are missing csharp documentation because of a corrupted assembly.\\\\n\\\\nThe specific error can be found in the package directory inside files suffixed with '.corruptassembly'\\\\n\\"},\\"title\\":\\"Package Versions Report | Corrupt Assembly | _csharp_\\",\\"updateOn\\":{\\"refresh\\":true,\\"resize\\":false,\\"timeRange\\":false}}}]}",
            ],
          ],
        },
        "DashboardName": "ConstructHubBackend-reports",
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubDenyListBucket1B3C2C2E": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "aws-cdk:auto-delete-objects",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketAllowBucketNotificationsToTestConstructHubDenyListPrunePruneHandler03826FC4A79351A0": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandler30B33551",
            "Arn",
          ],
        },
        "Principal": "s3.amazonaws.com",
        "SourceAccount": Object {
          "Ref": "AWS::AccountId",
        },
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListBucket1B3C2C2E",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubDenyListBucketAutoDeleteObjectsCustomResource997A3642": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListBucketPolicyA1878E10",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3AutoDeleteObjects",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketDeploymentAwsCliLayerEAC3D4DA": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubDenyListBucketDeploymentCustomResourceF835956B": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListBucketNotifications2269EB2A",
      ],
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "Prune": true,
        "RetainOnDelete": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3VersionKey5B081B37",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListBucketNotifications2269EB2A": Object {
      "DependsOn": Array [
        "ConstructHubDenyListBucketAllowBucketNotificationsToTestConstructHubDenyListPrunePruneHandler03826FC4A79351A0",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "Managed": true,
        "NotificationConfiguration": Object {
          "LambdaFunctionConfigurations": Array [
            Object {
              "Events": Array [
                "s3:ObjectCreated:*",
              ],
              "Filter": Object {
                "Key": Object {
                  "FilterRules": Array [
                    Object {
                      "Name": "suffix",
                      "Value": "deny-list.json",
                    },
                    Object {
                      "Name": "prefix",
                      "Value": "deny-list.json",
                    },
                  ],
                },
              },
              "LambdaFunctionArn": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPrunePruneHandler30B33551",
                  "Arn",
                ],
              },
            },
          ],
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3BucketNotifications",
    },
    "ConstructHubDenyListBucketPolicyA1878E10": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubDenyListBucket1B3C2C2E",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::GetAtt": Array [
                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                    "Arn",
                  ],
                },
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubDenyListFailoverBucketAutoDeleteObjectsCustomResource5A026600": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubDenyListFailoverBucketPolicy3B552017",
      ],
      "Properties": Object {
        "BucketName": Object {
          "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
        },
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3AutoDeleteObjects",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListFailoverBucketBF1E05AD": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "aws-cdk:auto-delete-objects",
            "Value": "true",
          },
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListFailoverBucketPolicy3B552017": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubDenyListFailoverBucketBF1E05AD",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListFailoverBucketBF1E05AD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListFailoverBucketBF1E05AD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::GetAtt": Array [
                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                    "Arn",
                  ],
                },
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListFailoverBucketBF1E05AD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListFailoverBucketBF1E05AD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubDenyListPeriodicPruneA981153D": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(5 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubDenyListPrunePruneHandler30B33551",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubDenyListPeriodicPruneAllowEventRuleTestConstructHubDenyListPrunePruneHandler03826FC486B0D780": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandler30B33551",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPeriodicPruneA981153D",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubDenyListPruneDeleteQueueBBF60185": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "VisibilityTimeout": 120,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubDenyListPrunePruneHandler30B33551": Object {
      "DependsOn": Array [
        "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA",
        "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3BucketAE80D773",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersda314a367a18f33751a5eb7ce225a83303de022e561b22ab1f6d4cbc1a71f17aS3VersionKey662F0E6F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "backend/deny-list/prune-handler.lambda.ts",
        "Environment": Object {
          "Variables": Object {
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "ON_CHANGE_FUNCTION_NAME": Object {
              "Fn::GetAtt": Array [
                "ConstructHubOrchestrationCatalogBuilder7C964951",
                "Arn",
              ],
            },
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "PACKAGE_DATA_KEY_PREFIX": "data/",
            "PRUNE_QUEUE_URL": Object {
              "Ref": "ConstructHubDenyListPruneDeleteQueueBBF60185",
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubDenyListPrunePruneHandlerServiceRoleDefaultPolicy416BC8DA",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubDenyListPrunePruneHandlerServiceRole58BDE1FE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B": Object {
      "DependsOn": Array [
        "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393",
        "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3BucketAC5DE359",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersf48a57855b9215d276824d60336ec8a3f6c5ee595499a28309a24fc59cf387b3S3VersionKey503D22DC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "backend/deny-list/prune-queue-handler.lambda.ts",
        "Environment": Object {
          "Variables": Object {
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubDenyListPruneDeleteQueueBBF60185",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleDefaultPolicy8AA78393",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubDenyListPrunePruneQueueHandlerServiceRoleC10AC418",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubDenyListPrunePruneQueueHandlerSqsEventSourceTestConstructHubDenyListPruneDeleteQueue04186FB403F01CBE": Object {
      "Properties": Object {
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubDenyListPruneDeleteQueueBBF60185",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubFailoverPackageDataBA7D3B85": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "AbortIncompleteMultipartUpload": Object {
                "DaysAfterInitiation": 1,
              },
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionTransitions": Array [
                Object {
                  "StorageClass": "STANDARD_IA",
                  "TransitionInDays": 31,
                },
              ],
              "Status": "Enabled",
            },
            Object {
              "ExpiredObjectDeleteMarker": true,
              "NoncurrentVersionExpirationInDays": 90,
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionExpirationInDays": 7,
              "Prefix": "catalog.json",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubFailoverPackageDataPolicy89BCDF76": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubFailoverPackageDataBA7D3B85",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubFailoverPackageDataBA7D3B85",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubFailoverPackageDataBA7D3B85",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestion407909CE": Object {
      "DependsOn": Array [
        "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2",
        "ConstructHubIngestionServiceRole6380BAB6",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3BucketFE59B3A9",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters38cc75f1102d8ef83b586b228f0647162b8a3170f488373a98e5b07db2089787S3VersionKey8C6F6588",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Ingestion] Ingests new package versions into the Construct Hub",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CONFIG_BUCKET_NAME": Object {
              "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
            },
            "CONFIG_FILE_KEY": "config.json",
            "STATE_MACHINE_ARN": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionServiceRole6380BAB6",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubIngestionConfigBucket0F0ED0B6": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubIngestionConfigBucketPolicyF096914C": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestionDLQ3E96A5F2": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionDLQAlarm83BD1903": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The dead-letter queue for the Ingestion function is not empty!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to the queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "QueueName",
                ],
              },
              "
Direct link to the function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Ingestion/DLQNotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "m1 + m2",
            "Id": "expr_1",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubIngestionDLQ3E96A5F2",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "m2",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubIngestionDLQ3E96A5F2",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubIngestionDeployIngestionConfigurationAwsCliLayerF77955C2": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubIngestionDeployIngestionConfigurationCustomResourceD7F243C1": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubIngestionConfigBucket0F0ED0B6",
        },
        "Prune": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3VersionKeyE9957876",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionFailoverConfigBucket079F82C3": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubIngestionFailoverConfigBucketPolicyD45F3F6D": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubIngestionFailoverConfigBucket079F82C3",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionFailoverConfigBucket079F82C3",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionFailoverConfigBucket079F82C3",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubIngestionFailureAlarm9D0028DD": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The Ingestion function is failing!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to the function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Ingestion/Failure",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubIngestion407909CE",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubIngestionLogRetention98263C90": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubIngestion407909CE",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubIngestionQueue1AD94CA3": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": Object {
          "deadLetterTargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubIngestionDLQ3E96A5F2",
              "Arn",
            ],
          },
          "maxReceiveCount": 5,
        },
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionReprocessQueueADCE803E": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": Object {
          "deadLetterTargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubIngestionDLQ3E96A5F2",
              "Arn",
            ],
          },
          "maxReceiveCount": 5,
        },
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E": Object {
      "DependsOn": Array [
        "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135",
        "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3Bucket5255533F",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc62e083d24b48a05afd7c23f907a4f029563679317f06e6a8f4fc8604d07cafcS3VersionKey7909F675",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Ingestion/ReIngest] The function used to reprocess packages through ingestion",
        "Environment": Object {
          "Variables": Object {
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "QUEUE_URL": Object {
              "Ref": "ConstructHubIngestionReprocessQueueADCE803E",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 180,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/metadata.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleDefaultPolicyF528A135",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionReprocessWorkflowFunctionServiceRoleA59056B1",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachine3708141C": Object {
      "DependsOn": Array [
        "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747",
        "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Has a ContinuationToken?\\",\\"States\\":{\\"Has a ContinuationToken?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.ContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"S3.ListObjectsV2(NextPage)\\"}],\\"Default\\":\\"S3.ListObjectsV2(FirstPage)\\"},\\"S3.ListObjectsV2(FirstPage)\\":{\\"Next\\":\\"Is there more?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Prefix\\":\\"data/\\"}},\\"Is there more?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Give room for on-demand work\\"}],\\"Default\\":\\"Process Result\\"},\\"S3.ListObjectsV2(NextPage)\\":{\\"Next\\":\\"Is there more?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.ContinuationToken\\",\\"Prefix\\":\\"data/\\"}},\\"Process Result\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"End\\":true,\\"Iterator\\":{\\"StartAt\\":\\"Is metadata object?\\",\\"States\\":{\\"Is metadata object?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.Key\\",\\"StringMatches\\":\\"*/metadata.json\\",\\"Next\\":\\"Send for reprocessing\\"}],\\"Default\\":\\"Nothing to do\\"},\\"Nothing to do\\":{\\"Type\\":\\"Succeed\\"},\\"Send for reprocessing\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke\\",\\"Parameters\\":{\\"FunctionName\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E",
                  "Arn",
                ],
              },
              "\\",\\"Payload.$\\":\\"$\\"}}}},\\"ItemsPath\\":\\"$.response.Contents\\"},\\"Continue as new\\":{\\"Next\\":\\"Process Result\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":null,\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution\\",\\"Parameters\\":{\\"Input\\":{\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:",
              Object {
                "Ref": "AWS::Region",
              },
              ":",
              Object {
                "Ref": "AWS::AccountId",
              },
              ":stateMachine:Test.ConstructHub.Ingestion.ReprocessWorkflow\\"}},\\"Give room for on-demand work\\":{\\"Type\\":\\"Wait\\",\\"Seconds\\":15,\\"Next\\":\\"Continue as new\\"}},\\"TimeoutSeconds\\":3600}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Ingestion.ReprocessWorkflow",
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":states:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":stateMachine:Test.ConstructHub.Ingestion.ReprocessWorkflow",
                  ],
                ],
              },
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessWorkflowFunction47A2DE6E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionReprocessWorkflowStateMachineRoleDefaultPolicy3A21E747",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionReprocessWorkflowStateMachineRoleA07E1479",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionServiceRole6380BAB6": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionDLQ3E96A5F2",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionReprocessQueueADCE803E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubIngestionServiceRoleDefaultPolicyC0D2B6F2",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubIngestionServiceRole6380BAB6",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionDLQEC555E58E8FEA048": Object {
      "Properties": Object {
        "BatchSize": 1,
        "Enabled": false,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionDLQ3E96A5F2",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionQueue165B81E2C095FF2A": Object {
      "Properties": Object {
        "BatchSize": 1,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionQueue1AD94CA3",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubIngestionSqsEventSourceTestConstructHubIngestionReprocessQueueEFA2CB8349836CD4": Object {
      "Properties": Object {
        "BatchSize": 1,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubIngestionReprocessQueueADCE803E",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubIngestion407909CE",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubInternalTraffic0E9C34CA": Object {
      "Properties": Object {
        "GroupDescription": "Test/ConstructHub/SG",
        "SecurityGroupEgress": Array [
          Object {
            "CidrIp": Object {
              "Fn::GetAtt": Array [
                "ConstructHubVPC16ECCEA2",
                "CidrBlock",
              ],
            },
            "Description": "to Route53 DNS resolver",
            "FromPort": 53,
            "IpProtocol": "tcp",
            "ToPort": 53,
          },
          Object {
            "CidrIp": Object {
              "Fn::GetAtt": Array [
                "ConstructHubVPC16ECCEA2",
                "CidrBlock",
              ],
            },
            "Description": "to Route53 DNS resolver",
            "FromPort": 53,
            "IpProtocol": "udp",
            "ToPort": 53,
          },
        ],
        "SecurityGroupIngress": Array [
          Object {
            "CidrIp": Object {
              "Fn::GetAtt": Array [
                "ConstructHubVPC16ECCEA2",
                "CidrBlock",
              ],
            },
            "Description": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "from ",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubVPC16ECCEA2",
                      "CidrBlock",
                    ],
                  },
                  ":443",
                ],
              ],
            },
            "FromPort": 443,
            "IpProtocol": "tcp",
            "ToPort": 443,
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::SecurityGroup",
    },
    "ConstructHubInternalTrafficfromTestConstructHubInternalTrafficDAC9B1F8443B26FC62F": Object {
      "Properties": Object {
        "Description": "Traffic within this SecurityGroup",
        "FromPort": 443,
        "GroupId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInternalTraffic0E9C34CA",
            "GroupId",
          ],
        },
        "IpProtocol": "tcp",
        "SourceSecurityGroupId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInternalTraffic0E9C34CA",
            "GroupId",
          ],
        },
        "ToPort": 443,
      },
      "Type": "AWS::EC2::SecurityGroupIngress",
    },
    "ConstructHubInternalTraffictoAWSS344360CBBE87": Object {
      "Properties": Object {
        "Description": "to AWS S3",
        "DestinationPrefixListId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubS3PrefixListDFD8418C",
            "PrefixLists.0.PrefixListId",
          ],
        },
        "FromPort": 443,
        "GroupId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInternalTraffic0E9C34CA",
            "GroupId",
          ],
        },
        "IpProtocol": "tcp",
        "ToPort": 443,
      },
      "Type": "AWS::EC2::SecurityGroupEgress",
    },
    "ConstructHubInternalTraffictoTestConstructHubInternalTrafficDAC9B1F8443DA598D5B": Object {
      "Properties": Object {
        "Description": "Traffic within this SecurityGroup",
        "DestinationSecurityGroupId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInternalTraffic0E9C34CA",
            "GroupId",
          ],
        },
        "FromPort": 443,
        "GroupId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInternalTraffic0E9C34CA",
            "GroupId",
          ],
        },
        "IpProtocol": "tcp",
        "ToPort": 443,
      },
      "Type": "AWS::EC2::SecurityGroupEgress",
    },
    "ConstructHubInventoryCanary63D899BC": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
        "ConstructHubInventoryCanaryServiceRole7684EDDE",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3Bucket9A67A1B5",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc15e4d7d406ff1e3d372053b4c71f3b1b32bc7d3081fff77ad88907c41489e73S3VersionKey1FAC44E5",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Inventory] A canary that periodically inspects the list of indexed packages",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanaryServiceRole7684EDDE",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubInventoryCanaryFailures5BDA8051": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The inventory canary is failing!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/InventoryCanary/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubInventoryCanary63D899BC",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 900,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubInventoryCanaryNotRunningAF44D71C": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The inventory canary is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubInventoryCanary63D899BC",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/InventoryCanary/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubInventoryCanary63D899BC",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 900,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubInventoryCanaryScheduleRule79F2F8D8": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
      ],
      "Properties": Object {
        "ScheduleExpression": "rate(15 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubInventoryCanary63D899BC",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubInventoryCanaryScheduleRuleAllowEventRuleTestConstructHubInventoryCanary54F5B7AC7EBA7AB2": Object {
      "DependsOn": Array [
        "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanary63D899BC",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubInventoryCanaryScheduleRule79F2F8D8",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubInventoryCanaryServiceRole7684EDDE": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/*-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/*.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/uninstallable-objects/data.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubInventoryCanaryServiceRoleDefaultPolicy144783F1",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubInventoryCanaryServiceRole7684EDDE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubLicenseListAwsCliLayer59592811": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubLicenseListBucket9334047F": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubLicenseListBucketPolicy817F92CD": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubLicenseListBucket9334047F",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubLicenseListCustomResource323F0FD4": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubLicenseListBucket9334047F",
        },
        "Prune": true,
        "RetainOnDelete": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3VersionKeyD40FAA20",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubLicenseListFailoverBucketA96D2AAF": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubLicenseListFailoverBucketPolicy7F222A76": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubLicenseListFailoverBucketA96D2AAF",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListFailoverBucketA96D2AAF",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListFailoverBucketA96D2AAF",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubMonitoringHighSeverityDashboard8761DBAC": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"widgets\\":[{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Backend Orchestration Dead-Letter Queue is not empty\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQAlarm85EE7509",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":6,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Catalog Size Shrunk\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilderShrinkingCatalogAlarm48329E25",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":12,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Backend Orchestration Failed\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationOrchestrationFailed5AF50838",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":18,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Ingestion failures\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionFailureAlarm9D0028DD",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":24,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Home Page Canary\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubMonitoringWebCanaryHomePageErrorsE7BB4002",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":30,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"NpmJs/Follower Failures\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":36,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"NpmJs/Follower Not Running\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsFollowerNotRunningCEAF0E1E",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":24,\\"height\\":6,\\"x\\":0,\\"y\\":42,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"New version visibility SLA breached\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"annotations\\":{\\"alarms\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsCanaryAlarmBE2B479E",
                  "Arn",
                ],
              },
              "\\"]},\\"yAxis\\":{}}}]}",
            ],
          ],
        },
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubMonitoringWatchfulDashboardB8493D55": Object {
      "Properties": Object {
        "DashboardBody": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"widgets\\":[{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":0,\\"properties\\":{\\"markdown\\":\\"# Deny List - Prune Function\\\\n\\\\n[button:AWS Lambda Console](https://console.aws.amazon.com/lambda/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "?tab=graph) [button:CloudWatch Logs](https://console.aws.amazon.com/cloudwatch/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#logEventViewer:group=/aws/lambda/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":0,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocations/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":6,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Errors/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Errors > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":12,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Throttles/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Throttles\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Throttles > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":18,\\"y\\":2,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Duration/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
              },
              "\\",{\\"label\\":\\"p99\\",\\"stat\\":\\"p99\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"p99 > 720000 for 3 datapoints within 15 minutes\\",\\"value\\":720000,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"text\\",\\"width\\":24,\\"height\\":2,\\"x\\":0,\\"y\\":8,\\"properties\\":{\\"markdown\\":\\"# Deny List - Prune Delete Function\\\\n\\\\n[button:AWS Lambda Console](https://console.aws.amazon.com/lambda/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#/functions/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "?tab=graph) [button:CloudWatch Logs](https://console.aws.amazon.com/cloudwatch/home?region=",
              Object {
                "Ref": "AWS::Region",
              },
              "#logEventViewer:group=/aws/lambda/",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              ")\\"}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":0,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Invocations/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Invocations\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":6,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Errors/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Errors\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Errors > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":12,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Throttles/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Throttles\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"stat\\":\\"Sum\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"Throttles > 0 for 3 datapoints within 15 minutes\\",\\"value\\":0,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}},{\\"type\\":\\"metric\\",\\"width\\":6,\\"height\\":6,\\"x\\":18,\\"y\\":10,\\"properties\\":{\\"view\\":\\"timeSeries\\",\\"title\\":\\"Duration/5min\\",\\"region\\":\\"",
              Object {
                "Ref": "AWS::Region",
              },
              "\\",\\"metrics\\":[[\\"AWS/Lambda\\",\\"Duration\\",\\"FunctionName\\",\\"",
              Object {
                "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
              },
              "\\",{\\"label\\":\\"p99\\",\\"stat\\":\\"p99\\"}]],\\"annotations\\":{\\"horizontal\\":[{\\"label\\":\\"p99 > 48000 for 3 datapoints within 15 minutes\\",\\"value\\":48000,\\"yAxis\\":\\"left\\"}]},\\"yAxis\\":{}}}]}",
            ],
          ],
        },
      },
      "Type": "AWS::CloudWatch::Dashboard",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4DurationAlarm116EB85B": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "p99 latency >= 720s (80%)",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 3,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": "p99",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
                    },
                  },
                ],
                "MetricName": "Duration",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "p99",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 720000,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4ErrorsAlarm9E8C0618": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 errors per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneHandler03826FC4ThrottlesAlarm7A95EA66": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 throttles per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneHandler30B33551",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Throttles",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BDurationAlarm331A9019": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "p99 latency >= 48s (80%)",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 3,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": "p99",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
                    },
                  },
                ],
                "MetricName": "Duration",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "p99",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 48000,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BErrorsAlarm1C29CAE7": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 errors per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWatchfulTestConstructHubDenyListPrunePruneQueueHandler62E5400BThrottlesAlarm2F5C1946": Object {
      "Properties": Object {
        "AlarmActions": Array [],
        "AlarmDescription": "Over 0 throttles per minute",
        "ComparisonOperator": "GreaterThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubDenyListPrunePruneQueueHandlerF7EB599B",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Throttles",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 0,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWebCanaryHomePageErrorsE7BB4002": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "80% error rate for https://",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppDistribution1F181DC9",
                  "DomainName",
                ],
              },
              " (Home Page)",
            ],
          ],
        },
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Id": "m1",
            "Label": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "https://",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppDistribution1F181DC9",
                      "DomainName",
                    ],
                  },
                  " Errors",
                ],
              ],
            },
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "FunctionName",
                    "Value": Object {
                      "Ref": "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
                    },
                  },
                ],
                "MetricName": "Errors",
                "Namespace": "AWS/Lambda",
              },
              "Period": 300,
              "Stat": "Sum",
            },
            "ReturnData": true,
          },
        ],
        "Threshold": 4,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8": Object {
      "DependsOn": Array [
        "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3Bucket583A7087",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse3e92b490fe859cf38e57d38a9dd1b06bf0e216c68389d2ea2572ec6a74d96efS3VersionKey7DC04839",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "HTTP GET https://",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppDistribution1F181DC9",
                  "DomainName",
                ],
              },
              ": Home Page",
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "URL": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "https://",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppDistribution1F181DC9",
                      "DomainName",
                    ],
                  },
                ],
              ],
            },
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionServiceRole9AAAD93C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubMonitoringWebCanaryHomePageRuleAllowEventRuleTestConstructHubMonitoringWebCanaryHomePageHttpGetFunction941819C9E47F90EE": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubMonitoringWebCanaryHomePageRuleE14F9F4E",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubMonitoringWebCanaryHomePageRuleE14F9F4E": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubMonitoringWebCanaryHomePageHttpGetFunctionF27ADDC8",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubOrchestration39161A46": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRoleDefaultPolicyEACD181F",
        "ConstructHubOrchestrationRoleF4CF6987",
        "ConstructHubVPCIGW935F4C28",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Track Execution Infos\\",\\"States\\":{\\"Track Execution Infos\\":{\\"Type\\":\\"Pass\\",\\"ResultPath\\":\\"$.$TaskExecution\\",\\"InputPath\\":\\"$$.Execution\\",\\"Parameters\\":{\\"Id.$\\":\\"$.Id\\",\\"Name.$\\":\\"$.Name\\",\\"RoleArn.$\\":\\"$.RoleArn\\",\\"StartTime.$\\":\\"$.StartTime\\"},\\"Next\\":\\"Prepare doc-gen ECS Command\\"},\\"Prepare doc-gen ECS Command\\":{\\"Type\\":\\"Pass\\",\\"ResultPath\\":\\"$.docGen\\",\\"Parameters\\":{\\"command.$\\":\\"States.Array(States.JsonToString($))\\"},\\"Next\\":\\"Generate docs\\"},\\"Generate docs\\":{\\"Next\\":\\"Check whether catalog needs udpating\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"jsii-docgen.NoSpaceLeftOnDevice\\"],\\"MaxAttempts\\":0},{\\"ErrorEquals\\":[\\"ECS.AmazonECSException\\",\\"ECS.InvalidParameterException\\",\\"jsii-docgen.NpmError.E429\\",\\"jsii-codgen.NpmError.EPROTO\\"],\\"IntervalSeconds\\":120,\\"MaxAttempts\\":200,\\"BackoffRate\\":1},{\\"ErrorEquals\\":[\\"jsii-docgen.NpmError.ETARGET\\"],\\"IntervalSeconds\\":300,\\"MaxAttempts\\":3,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"MaxAttempts\\":3}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"UnprocessablePackageError\\"],\\"Next\\":\\"Ignore\\"},{\\"ErrorEquals\\":[\\"States.Timeout\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"ECS.AmazonECSException\\",\\"ECS.InvalidParameterException\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"TimeoutSeconds\\":7200,\\"HeartbeatSeconds\\":300,\\"InputPath\\":\\"$.docGen.command\\",\\"ResultPath\\":\\"$.docGenOutput\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::ecs:runTask.waitForTaskToken\\",\\"Parameters\\":{\\"Cluster\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCluster3D6F0081",
                  "Arn",
                ],
              },
              "\\",\\"TaskDefinition\\":\\"TestConstructHubOrchestrationTransliteratorTaskDefinition1C44F91E\\",\\"NetworkConfiguration\\":{\\"AwsvpcConfiguration\\":{\\"Subnets\\":[\\"",
              Object {
                "Ref": "ConstructHubVPCPrivateSubnet1Subnet755A0095",
              },
              "\\",\\"",
              Object {
                "Ref": "ConstructHubVPCPrivateSubnet2Subnet87694557",
              },
              "\\"],\\"SecurityGroups\\":[\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubInternalTraffic0E9C34CA",
                  "GroupId",
                ],
              },
              "\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubcloudflareIPv4c2cf61493c41a0c1519c61e5aad250b74ec16388066AC9B4",
                  "GroupId",
                ],
              },
              "\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubgithubgitIPv4b08084c572c0b5ff4dd2b9f42c0c0386b35abd6dAAE47857",
                  "GroupId",
                ],
              },
              "\\",\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubgithubwebIPv49b292faed277d68adffe79e317cbcff49762581a063DBAB2",
                  "GroupId",
                ],
              },
              "\\"]}},\\"Overrides\\":{\\"ContainerOverrides\\":[{\\"Name\\":\\"Resource\\",\\"Command.$\\":\\"$\\",\\"Environment\\":[{\\"Name\\":\\"SFN_TASK_TOKEN\\",\\"Value.$\\":\\"$$.Task.Token\\"}]}]},\\"LaunchType\\":\\"FARGATE\\",\\"PlatformVersion\\":\\"1.4.0\\"}},\\"Check whether catalog needs udpating\\":{\\"Next\\":\\"Is catalog update needed?\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\",\\"Lambda.Unknown\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\",\\"Lambda.Unknown\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.catalogNeedsUpdating\\",\\"Resource\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC",
                  "Arn",
                ],
              },
              "\\"},\\"Is catalog update needed?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.catalogNeedsUpdating\\",\\"BooleanEquals\\":true,\\"Next\\":\\"Add to catalog.json\\"}],\\"Default\\":\\"Done\\"},\\"Done\\":{\\"Type\\":\\"Succeed\\"},\\"Add to catalog.json\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"Lambda.ServiceException\\",\\"Lambda.AWSLambdaException\\",\\"Lambda.SdkClientException\\"],\\"IntervalSeconds\\":2,\\"MaxAttempts\\":6,\\"BackoffRate\\":2},{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"IntervalSeconds\\":60,\\"MaxAttempts\\":30,\\"BackoffRate\\":1.1}],\\"Catch\\":[{\\"ErrorEquals\\":[\\"Lambda.TooManyRequestsException\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.TaskFailed\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"},{\\"ErrorEquals\\":[\\"States.ALL\\"],\\"ResultPath\\":\\"$.error\\",\\"Next\\":\\"Send to Dead Letter Queue\\"}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.catalogBuilderOutput\\",\\"ResultSelector\\":{\\"ETag.$\\":\\"$.Payload.ETag\\",\\"VersionId.$\\":\\"$.Payload.VersionId\\"},\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke\\",\\"Parameters\\":{\\"FunctionName\\":\\"",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
              "\\",\\"Payload.$\\":\\"$\\"}},\\"Send to Dead Letter Queue\\":{\\"Next\\":\\"Sent to DLQ\\",\\"Type\\":\\"Task\\",\\"ResultPath\\":null,\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::sqs:sendMessage\\",\\"Parameters\\":{\\"QueueUrl\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationDLQ9C6D9BD4",
              },
              "\\",\\"MessageBody.$\\":\\"$\\"}},\\"Sent to DLQ\\":{\\"Type\\":\\"Succeed\\"},\\"Ignore\\":{\\"Type\\":\\"Pass\\",\\"End\\":true}},\\"TimeoutSeconds\\":86400}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRoleF4CF6987",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Orchestration",
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationCatalogBuilder7C964951": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5",
        "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3Bucket722FE70B",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters37cf9d5a80b367f9633bf3facfab1df583455ce0c1f9c4b7f3e826e294f38ad5S3VersionKey8082F3BC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Creates the catalog.json object in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "PassThrough",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationCatalogBuilderLogRetention04ED6996": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":lambda:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":function:*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationCatalogBuilderServiceRoleDefaultPolicyDA5D5AA5",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationCatalogBuilderServiceRole851C750C",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationCatalogBuilderShrinkingCatalogAlarm48329E25": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The number of packages registered in the catalog.json object has shrunk by more than 5
elements. There might be a mass extinction event going on. This should be investigated
as soon as possible.

Catalog.json: /s3/object/",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "?prefix=catalog.json
Catalog Builder: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubOrchestrationCatalogBuilder7C964951",
              },
              "

RUNBOOK: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/CatalogBuilder/ShrinkingCatalog",
        "ComparisonOperator": "LessThanThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "DIFF(FILL(m1, REPEAT))",
            "Id": "expr_1",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "RegisteredPackagesMajorVersion",
                "Namespace": "ConstructHub/CatalogBuilder",
              },
              "Period": 900,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": -5,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationCluster3D6F0081": Object {
      "Properties": Object {
        "ClusterSettings": Array [
          Object {
            "Name": "containerInsights",
            "Value": "enabled",
          },
        ],
      },
      "Type": "AWS::ECS::Cluster",
    },
    "ConstructHubOrchestrationCluster4C9C8AA6": Object {
      "Properties": Object {
        "CapacityProviders": Array [
          "FARGATE",
          "FARGATE_SPOT",
        ],
        "Cluster": Object {
          "Ref": "ConstructHubOrchestrationCluster3D6F0081",
        },
        "DefaultCapacityProviderStrategy": Array [],
      },
      "Type": "AWS::ECS::ClusterCapacityProviderAssociations",
    },
    "ConstructHubOrchestrationDLQ9C6D9BD4": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubOrchestrationDLQAlarm85EE7509": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Backend orchestration dead-letter queue is not empty.

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "QueueName",
                ],
              },
              "
Warning: State Machines executions that sent messages to the DLQ will not show as \\"failed\\".",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/DLQ/NotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "m1 + m2",
            "Id": "expr_1",
            "Label": "Dead-Letter Queue not empty",
          },
          Object {
            "Id": "m1",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubOrchestrationDLQ9C6D9BD4",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "m2",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubOrchestrationDLQ9C6D9BD4",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9",
        "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3BucketE78A0203",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters98bea99b2d22c2c4ee995993647845984433c94a85141f7abea19bc4b52d63f4S3VersionKey598098A7",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Orchestration/NeedsCatalogUpdate] Determines whether a package version requires a catalog update",
        "Environment": Object {
          "Variables": Object {
            "CATALOG_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CATALOG_OBJECT_KEY": "catalog.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleDefaultPolicy4B4DEDD9",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationNeedsCatalogUpdateServiceRoleE6BF31C3": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationOrchestrationFailed5AF50838": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Backend orchestration failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to state machine: /states/home#/statemachines/view/",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "
Warning: messages that resulted in a failed exectuion will NOT be in the DLQ!",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Orchestration/Resource/ExecutionsFailed",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "StateMachineArn",
            "Value": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "ExecutionsFailed",
        "Namespace": "AWS/States",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubOrchestrationRedrive8DDBA67E": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436",
        "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3Bucket6F376B71",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters4fde181996dd55dac5327e33370d0f56e8113987f7a7f05afb374768e0f4eeeeS3VersionKey7F6E5804",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/Redrive] Manually redrives all messages from the backend dead letter queue",
        "Environment": Object {
          "Variables": Object {
            "QUEUE_URL": Object {
              "Ref": "ConstructHubOrchestrationDLQ9C6D9BD4",
            },
            "STATE_MACHINE_ARN": Object {
              "Ref": "ConstructHubOrchestration39161A46",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubOrchestrationRedriveServiceRoleB84EFF33": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRedriveServiceRoleDefaultPolicyC018F436",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRedriveServiceRoleB84EFF33",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationE9FAB254": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86",
        "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Get prefix page\\",\\"States\\":{\\"Get prefix page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next prefixes page\\"}],\\"Default\\":\\"First prefix page\\"},\\"Has more prefixes?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get prefix page\\"}],\\"Default\\":\\"Done\\"},\\"For each prefix\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more prefixes?\\",\\"Iterator\\":{\\"StartAt\\":\\"Is this a @scope-- prefix?\\",\\"States\\":{\\"Is this a @scope-- prefix?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.Prefix\\",\\"StringMatches\\":\\"data/@*\\",\\"Next\\":\\"Get @scope page\\"}],\\"Default\\":\\"Process unscoped package\\"},\\"Process unscoped package\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution.sync:2\\",\\"Parameters\\":{\\"Input\\":{\\"Prefix.$\\":\\"$.Prefix\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
              "\\"}},\\"Get @scope page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next @scope page\\"}],\\"Default\\":\\"First @scope page\\"},\\"Has more packages?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get @scope page\\"}],\\"Default\\":\\"All Done\\"},\\"For each @scope--pkg\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more packages?\\",\\"Iterator\\":{\\"StartAt\\":\\"Process scoped package\\",\\"States\\":{\\"Process scoped package\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution.sync:2\\",\\"Parameters\\":{\\"Input\\":{\\"Prefix.$\\":\\"$.Prefix\\",\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
              "\\"}}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First @scope page\\":{\\"Next\\":\\"For each @scope--pkg\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Next @scope page\\":{\\"Next\\":\\"For each @scope--pkg\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"All Done\\":{\\"Type\\":\\"Succeed\\"}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First prefix page\\":{\\"Next\\":\\"For each prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix\\":\\"data/\\"}},\\"Next prefixes page\\":{\\"Next\\":\\"For each prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix\\":\\"data/\\"}},\\"Done\\":{\\"Type\\":\\"Succeed\\"}},\\"TimeoutSeconds\\":14400}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
            "Arn",
          ],
        },
        "StateMachineName": "Test.ConstructHub.Orchestration.RegenerateAllDocumentation",
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7": Object {
      "DependsOn": Array [
        "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726",
        "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
      ],
      "Properties": Object {
        "DefinitionString": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"StartAt\\":\\"Get package versions page\\",\\"States\\":{\\"Get package versions page\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Next versions page\\"}],\\"Default\\":\\"First versions page\\"},\\"Has more versions?\\":{\\"Type\\":\\"Choice\\",\\"Choices\\":[{\\"Variable\\":\\"$.response.NextContinuationToken\\",\\"IsPresent\\":true,\\"Next\\":\\"Get package versions page\\"}],\\"Default\\":\\"Success\\"},\\"For each key prefix\\":{\\"Type\\":\\"Map\\",\\"ResultPath\\":null,\\"Next\\":\\"Has more versions?\\",\\"Iterator\\":{\\"StartAt\\":\\"Start Orchestration Workflow\\",\\"States\\":{\\"Start Orchestration Workflow\\":{\\"End\\":true,\\"Retry\\":[{\\"ErrorEquals\\":[\\"StepFunctions.ExecutionLimitExceeded\\"]}],\\"Type\\":\\"Task\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::states:startExecution\\",\\"Parameters\\":{\\"Input\\":{\\"bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"assembly\\":{\\"key.$\\":\\"States.Format('{}assembly.json', $.Prefix)\\"},\\"metadata\\":{\\"key.$\\":\\"States.Format('{}metadata.json', $.Prefix)\\"},\\"package\\":{\\"key.$\\":\\"States.Format('{}package.tgz', $.Prefix)\\"},\\"AWS_STEP_FUNCTIONS_STARTED_BY_EXECUTION_ID.$\\":\\"$$.Execution.Id\\"},\\"StateMachineArn\\":\\"",
              Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
              "\\"}}}},\\"ItemsPath\\":\\"$.response.CommonPrefixes\\"},\\"First versions page\\":{\\"Next\\":\\"For each key prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Next versions page\\":{\\"Next\\":\\"For each key prefix\\",\\"Retry\\":[{\\"ErrorEquals\\":[\\"S3.SdkClientException\\"]}],\\"Type\\":\\"Task\\",\\"ResultPath\\":\\"$.response\\",\\"Resource\\":\\"arn:",
              Object {
                "Ref": "AWS::Partition",
              },
              ":states:::aws-sdk:s3:listObjectsV2\\",\\"Parameters\\":{\\"Bucket\\":\\"",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
              "\\",\\"ContinuationToken.$\\":\\"$.response.NextContinuationToken\\",\\"Delimiter\\":\\"/\\",\\"Prefix.$\\":\\"$.Prefix\\"}},\\"Success\\":{\\"Type\\":\\"Succeed\\"}},\\"TimeoutSeconds\\":3600}",
            ],
          ],
        },
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
            "Arn",
          ],
        },
        "TracingConfiguration": Object {
          "Enabled": true,
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestration39161A46",
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleDefaultPolicy001A4726",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackageRoleD7CCFA73",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
              },
            },
            Object {
              "Action": Array [
                "states:DescribeExecution",
                "states:StopExecution",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":states:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":execution:",
                    Object {
                      "Fn::Select": Array [
                        6,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationPerPackage9CF0FFB7",
                            },
                          ],
                        },
                      ],
                    },
                    "*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "events:PutTargets",
                "events:PutRule",
                "events:DescribeRule",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":events:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":rule/StepFunctionsGetEventsForStepFunctionsExecutionRule",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRegenerateAllDocumentationRoleDefaultPolicy2F4FBD86",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRegenerateAllDocumentationRole1C7D3B5F",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRoleDefaultPolicyEACD181F": Object {
      "DependsOn": Array [
        "ConstructHubVPCIGW935F4C28",
      ],
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
                "xray:GetSamplingRules",
                "xray:GetSamplingTargets",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "ecs:RunTask",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Fn::Select": Array [
                        1,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        2,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        3,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        4,
                        Object {
                          "Fn::Split": Array [
                            ":",
                            Object {
                              "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                            },
                          ],
                        },
                      ],
                    },
                    ":",
                    Object {
                      "Fn::Select": Array [
                        0,
                        Object {
                          "Fn::Split": Array [
                            "/",
                            Object {
                              "Fn::Select": Array [
                                5,
                                Object {
                                  "Fn::Split": Array [
                                    ":",
                                    Object {
                                      "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    "/",
                    Object {
                      "Fn::Select": Array [
                        1,
                        Object {
                          "Fn::Split": Array [
                            "/",
                            Object {
                              "Fn::Select": Array [
                                5,
                                Object {
                                  "Fn::Split": Array [
                                    ":",
                                    Object {
                                      "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "ecs:StopTask",
                "ecs:DescribeTasks",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "iam:PassRole",
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
                    "Arn",
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationNeedsCatalogUpdate5D7370DC",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationCatalogBuilder7C964951",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sqs:SendMessage",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationDLQ9C6D9BD4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationRoleDefaultPolicyEACD181F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationRoleF4CF6987",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationRoleF4CF6987": Object {
      "DependsOn": Array [
        "ConstructHubVPCIGW935F4C28",
      ],
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "states.",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ".amazonaws.com",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "RetentionInDays": 731,
      },
      "Type": "AWS::Logs::LogGroup",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinition45CDA566": Object {
      "Properties": Object {
        "ContainerDefinitions": Array [
          Object {
            "Environment": Array [
              Object {
                "Name": "HEADER_SPAN",
                "Value": "true",
              },
              Object {
                "Name": "AWS_EMF_ENVIRONMENT",
                "Value": "Local",
              },
            ],
            "Essential": true,
            "Image": Object {
              "Fn::Join": Array [
                "",
                Array [
                  Object {
                    "Ref": "AWS::AccountId",
                  },
                  ".dkr.ecr.",
                  Object {
                    "Ref": "AWS::Region",
                  },
                  ".",
                  Object {
                    "Ref": "AWS::URLSuffix",
                  },
                  "/aws-cdk/assets:7c9e079743e720b70ff8ebb610b200b99b7bc6a53866e2da22f537f751de0ff4",
                ],
              ],
            },
            "LogConfiguration": Object {
              "LogDriver": "awslogs",
              "Options": Object {
                "awslogs-group": Object {
                  "Ref": "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                },
                "awslogs-region": Object {
                  "Ref": "AWS::Region",
                },
                "awslogs-stream-prefix": "transliterator",
              },
            },
            "Name": "Resource",
          },
        ],
        "Cpu": "4096",
        "ExecutionRoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
            "Arn",
          ],
        },
        "Family": "TestConstructHubOrchestrationTransliteratorTaskDefinition1C44F91E",
        "Memory": "8192",
        "NetworkMode": "awsvpc",
        "RequiresCompatibilities": Array [
          "FARGATE",
        ],
        "TaskRoleArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
            "Arn",
          ],
        },
      },
      "Type": "AWS::ECS::TaskDefinition",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "ecs-tasks.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleDefaultPolicyBDBF6E5D": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "ecr:BatchCheckLayerAvailability",
                "ecr:GetDownloadUrlForLayer",
                "ecr:BatchGetImage",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":ecr:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":repository/aws-cdk/assets",
                  ],
                ],
              },
            },
            Object {
              "Action": "ecr:GetAuthorizationToken",
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleDefaultPolicyBDBF6E5D",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "ecs-tasks.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleDefaultPolicyE0EED0F8": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "states:SendTaskFailure",
                "states:SendTaskHeartbeat",
                "states:SendTaskSuccess",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/assembly.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/uninstallable",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/uninstallable",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/uninstallable",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-typescript.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-typescript.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-python.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-python.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-java.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-java.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-csharp.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-csharp.*.corruptassembly",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleDefaultPolicyE0EED0F8",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubPackageDataDC5EF35E": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "AbortIncompleteMultipartUpload": Object {
                "DaysAfterInitiation": 1,
              },
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionTransitions": Array [
                Object {
                  "StorageClass": "STANDARD_IA",
                  "TransitionInDays": 31,
                },
              ],
              "Status": "Enabled",
            },
            Object {
              "ExpiredObjectDeleteMarker": true,
              "NoncurrentVersionExpirationInDays": 90,
              "Status": "Enabled",
            },
            Object {
              "NoncurrentVersionExpirationInDays": 7,
              "Prefix": "catalog.json",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "VersioningConfiguration": Object {
          "Status": "Enabled",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubPackageDataPolicy4615475A": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubPackageDataDC5EF35E",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:GetObject",
              "Effect": "Allow",
              "Principal": Object {
                "CanonicalUser": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4",
                    "S3CanonicalUserId",
                  ],
                },
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubPackageStatsFailures833C3D9B": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The package stats function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/PackageStats/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubStats61DB07B1",
            },
          },
        ],
        "EvaluationPeriods": 1,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubS3PrefixListCustomResourcePolicy50A8D2D8": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "ec2:DescribePrefixLists",
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubS3PrefixListCustomResourcePolicy50A8D2D8",
        "Roles": Array [
          Object {
            "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubS3PrefixListDFD8418C": Object {
      "DeletionPolicy": "Delete",
      "DependsOn": Array [
        "ConstructHubS3PrefixListCustomResourcePolicy50A8D2D8",
      ],
      "Properties": Object {
        "Create": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"action\\":\\"describePrefixLists\\",\\"service\\":\\"EC2\\",\\"parameters\\":{\\"Filters\\":[{\\"Name\\":\\"prefix-list-name\\",\\"Values\\":[\\"com.amazonaws.",
              Object {
                "Ref": "AWS::Region",
              },
              ".s3\\"]}]},\\"outputPaths\\":[\\"PrefixLists.0.PrefixListId\\",\\"PrefixLists.0.PrefixListName\\"],\\"physicalResourceId\\":{\\"responsePath\\":\\"PrefixLists.0.PrefixListId\\"}}",
            ],
          ],
        },
        "InstallLatestAwsSdk": true,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
            "Arn",
          ],
        },
        "Update": Object {
          "Fn::Join": Array [
            "",
            Array [
              "{\\"action\\":\\"describePrefixLists\\",\\"service\\":\\"EC2\\",\\"parameters\\":{\\"Filters\\":[{\\"Name\\":\\"prefix-list-name\\",\\"Values\\":[\\"com.amazonaws.",
              Object {
                "Ref": "AWS::Region",
              },
              ".s3\\"]}]},\\"outputPaths\\":[\\"PrefixLists.0.PrefixListId\\",\\"PrefixLists.0.PrefixListName\\"],\\"physicalResourceId\\":{\\"responsePath\\":\\"PrefixLists.0.PrefixListId\\"}}",
            ],
          ],
        },
      },
      "Type": "Custom::S3-PrefixList",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "ExpirationInDays": 30,
              "Prefix": "staged/",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubSourcesFailoverNpmJsStagingBucketPolicy00182F29": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesFailoverNpmJsStagingBucketF46C2C42",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubSourcesNpmJs15A77D2D": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22",
        "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3Bucket024B3DC6",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersfbd99e02e6418682af9619fe06593b0eaeefe6d0e3a6c137323a651e5cf4b4f5S3VersionKeyEEA56859",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJs] Periodically query npmjs.com index for new packages",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "FUNCTION_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
            },
            "LICENSE_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubLicenseListBucket9334047F",
            },
            "LICENSE_LIST_OBJECT_KEY": "allowed-licenses.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 300,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsCanary5558FC45": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
        "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3Bucket37F2908E",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3870b20307cc608daccb2fee12cb05779bef5f63a673e46f3b1fce6ecfcb73e5S3VersionKey2C992F11",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJs/PackageCanary] Monitors construct-hub-probe versions availability",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "CONSTRUCT_HUB_BASE_URL": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "https://",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppDistribution1F181DC9",
                      "DomainName",
                    ],
                  },
                ],
              ],
            },
            "PACKAGE_CANARY_BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "PACKAGE_NAME": "construct-hub-probe",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsCanaryAlarmBE2B479E": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": "New versions of construct-hub-probe have been published over 5 minutes ago and are still not visible in construct hub
Runbook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Canary/SLA-Breached",
        "ComparisonOperator": "GreaterThanThreshold",
        "EvaluationPeriods": 2,
        "Metrics": Array [
          Object {
            "Expression": "MAX([mDwell, mTTC])",
            "Id": "expr_1",
          },
          Object {
            "Id": "mDwell",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "DwellTime",
                "Namespace": "ConstructHub/PackageCanary",
              },
              "Period": 60,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "mTTC",
            "MetricStat": Object {
              "Metric": Object {
                "MetricName": "TimeToCatalog",
                "Namespace": "ConstructHub/PackageCanary",
              },
              "Period": 60,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 300,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsCanarySchedule4D94219F": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
      ],
      "Properties": Object {
        "Description": "Scheduled executions of the NpmJS package canary",
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubSourcesNpmJsCanary5558FC45",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubSourcesNpmJsCanaryScheduleAllowEventRuleTestConstructHubSourcesNpmJsCanary47220A990ABB5DFD": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
        "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanary5558FC45",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsCanarySchedule4D94219F",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/package-canary/*.state.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsCanaryServiceRoleDefaultPolicy630F813B",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsCanaryServiceRoleC4CBCDA2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D": Object {
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubSourcesNpmJs15A77D2D",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsFollowerNoChanges2CB08C93": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function is no discovering any changes from CouchDB!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/NoChanges",
        "ComparisonOperator": "LessThanThreshold",
        "EvaluationPeriods": 2,
        "MetricName": "ChangeCount",
        "Namespace": "ConstructHub/PackageSource/NpmJs/Follower",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsFollowerNotRunningCEAF0E1E": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsScheduleAllowEventRuleTestConstructHubSourcesNpmJs5171C2A673CCB598",
        "ConstructHubSourcesNpmJsSchedule34031870",
      ],
      "Properties": Object {
        "AlarmActions": Array [
          "arn:aws:sns:us-east-1:123456789012:mystack-mytopic-NZJ5JSMVGFIE",
        ],
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJs follower function is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJs15A77D2D",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Follower/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubSourcesNpmJs15A77D2D",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubSourcesNpmJsSchedule34031870": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
      ],
      "Properties": Object {
        "Description": "Test/ConstructHub/Sources/NpmJs/Schedule",
        "ScheduleExpression": "rate(5 minutes)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubSourcesNpmJs15A77D2D",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubSourcesNpmJsScheduleAllowEventRuleTestConstructHubSourcesNpmJs5171C2A673CCB598": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsFollowerFailures86BCBA0D",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJs15A77D2D",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsSchedule34031870",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22": Object {
      "DependsOn": Array [
        "ConstructHubLicenseListAwsCliLayer59592811",
        "ConstructHubLicenseListCustomResource323F0FD4",
      ],
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/couchdb-last-transaction-id.2",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsServiceRoleDefaultPolicy65FBFA22",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsServiceRoleAC3F7AA6",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsStageAndNotify591C0CFA": Object {
      "DependsOn": Array [
        "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F",
        "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3Bucket8AF0E263",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters42242d331d9eb24f823fd3bf6f8cb33ccdecd491ae17b49ab9f70add851c9a2bS3VersionKey5280D545",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "DeadLetterConfig": Object {
          "TargetArn": Object {
            "Fn::GetAtt": Array [
              "ConstructHubSourcesStagerDLQ80BD2600",
              "Arn",
            ],
          },
        },
        "Description": "[Test/ConstructHub/Sources/NpmJS-StageAndNotify] Stages tarballs to S3 and notifies ConstructHub",
        "Environment": Object {
          "Variables": Object {
            "AWS_EMF_ENVIRONMENT": "Local",
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
            },
            "DENY_LIST_BUCKET_NAME": Object {
              "Ref": "ConstructHubDenyListBucket1B3C2C2E",
            },
            "DENY_LIST_OBJECT_KEY": "deny-list.json",
            "QUEUE_URL": Object {
              "Ref": "ConstructHubIngestionQueue1AD94CA3",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 300,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyEventInvokeConfigF58F658E": Object {
      "Properties": Object {
        "FunctionName": Object {
          "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
        },
        "MaximumRetryAttempts": 2,
        "Qualifier": "$LATEST",
      },
      "Type": "AWS::Lambda::EventInvokeConfig",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sqs:SendMessage",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubIngestionQueue1AD94CA3",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleDefaultPolicyF7D8382F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubSourcesNpmJsStageAndNotifyServiceRoleD5BB5B50",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubSourcesNpmJsStageAndNotifySqsEventSourceTestConstructHubSourcesStagerDLQC4F4F3F95658073F": Object {
      "Properties": Object {
        "BatchSize": 1,
        "Enabled": false,
        "EventSourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubSourcesStagerDLQ80BD2600",
            "Arn",
          ],
        },
        "FunctionName": Object {
          "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
        },
      },
      "Type": "AWS::Lambda::EventSourceMapping",
    },
    "ConstructHubSourcesNpmJsStagingBucketB286F0E6": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "LifecycleConfiguration": Object {
          "Rules": Array [
            Object {
              "ExpirationInDays": 30,
              "Prefix": "staged/",
              "Status": "Enabled",
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubSourcesNpmJsStagingBucketPolicy06788ED9": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubSourcesNpmJsStagingBucketB286F0E6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubSourcesStagerDLQ80BD2600": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900,
      },
      "Type": "AWS::SQS::Queue",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubSourcesTestConstructHubSourcesNpmJsStagerDLQNotEmpty30787871": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The NpmJS package stager is failing - its dead letter queue is not empty/n/nLink to the lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubSourcesNpmJsStageAndNotify591C0CFA",
              },
              "/nLink to the dead letter queue: /sqs/v2/home#/queues/https%3A%2F%2Fsqs.",
              Object {
                "Ref": "AWS::Region",
              },
              ".amazonaws.com%2F",
              Object {
                "Ref": "AWS::AccountId",
              },
              "%2F",
              Object {
                "Fn::GetAtt": Array [
                  "ConstructHubSourcesStagerDLQ80BD2600",
                  "QueueName",
                ],
              },
              "/n/nRunbook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md",
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/Sources/NpmJs/Stager/DLQNotEmpty",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "EvaluationPeriods": 1,
        "Metrics": Array [
          Object {
            "Expression": "mVisible + mHidden",
            "Id": "expr_1",
          },
          Object {
            "Id": "mVisible",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubSourcesStagerDLQ80BD2600",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
          Object {
            "Id": "mHidden",
            "MetricStat": Object {
              "Metric": Object {
                "Dimensions": Array [
                  Object {
                    "Name": "QueueName",
                    "Value": Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubSourcesStagerDLQ80BD2600",
                        "QueueName",
                      ],
                    },
                  },
                ],
                "MetricName": "ApproximateNumberOfMessagesNotVisible",
                "Namespace": "AWS/SQS",
              },
              "Period": 300,
              "Stat": "Maximum",
            },
            "ReturnData": false,
          },
        ],
        "Threshold": 1,
        "TreatMissingData": "notBreaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubStats61DB07B1": Object {
      "DependsOn": Array [
        "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA",
        "ConstructHubStatsServiceRole48DCA379",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3Bucket3D1A3222",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersc76ce1444bc06c83f9b74f3f85d2d8369119ee90d17e237e7d92bafe30769009S3VersionKeyC12B0AEC",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Creates the stats.json object in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "CATALOG_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "CATALOG_OBJECT_KEY": "catalog.json",
            "STATS_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "STATS_OBJECT_KEY": "stats.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 256,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStatsServiceRole48DCA379",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 900,
        "TracingConfig": Object {
          "Mode": "PassThrough",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubStatsLogRetentionDD577705": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubStats61DB07B1",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubStatsRuleAllowEventRuleTestConstructHubStatsA5392874C4495EDA": Object {
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStats61DB07B1",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubStatsRuleEEDEC976",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubStatsRuleEEDEC976": Object {
      "Properties": Object {
        "ScheduleExpression": "rate(1 day)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubStats61DB07B1",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubStatsServiceRole48DCA379": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubStatsServiceRoleDefaultPolicyE1D7A4CA",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubStatsServiceRole48DCA379",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubVPC16ECCEA2": Object {
      "Properties": Object {
        "CidrBlock": "10.0.0.0/16",
        "EnableDnsHostnames": true,
        "EnableDnsSupport": true,
        "InstanceTenancy": "default",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/VPC",
          },
        ],
      },
      "Type": "AWS::EC2::VPC",
    },
    "ConstructHubVPCCloudWatchLogsDF3CC579": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
                    "Arn",
                  ],
                },
              },
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ":",
                      Object {
                        "Ref": "AWS::AccountId",
                      },
                      ":log-group:",
                      Object {
                        "Ref": "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:",
                      Object {
                        "Ref": "AWS::Region",
                      },
                      ":",
                      Object {
                        "Ref": "AWS::AccountId",
                      },
                      ":log-group:",
                      Object {
                        "Ref": "ConstructHubOrchestrationTransliteratorLogGroupEE16EE8B",
                      },
                      ":log-stream:*",
                    ],
                  ],
                },
              ],
              "Sid": "Allow-Logging",
            },
          ],
          "Version": "2012-10-17",
        },
        "PrivateDnsEnabled": true,
        "SecurityGroupIds": Array [
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubInternalTraffic0E9C34CA",
              "GroupId",
            ],
          },
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubcloudflareIPv4c2cf61493c41a0c1519c61e5aad250b74ec16388066AC9B4",
              "GroupId",
            ],
          },
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubgithubgitIPv4b08084c572c0b5ff4dd2b9f42c0c0386b35abd6dAAE47857",
              "GroupId",
            ],
          },
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubgithubwebIPv49b292faed277d68adffe79e317cbcff49762581a063DBAB2",
              "GroupId",
            ],
          },
        ],
        "ServiceName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "com.amazonaws.",
              Object {
                "Ref": "AWS::Region",
              },
              ".logs",
            ],
          ],
        },
        "SubnetIds": Array [
          Object {
            "Ref": "ConstructHubVPCPrivateSubnet1Subnet755A0095",
          },
          Object {
            "Ref": "ConstructHubVPCPrivateSubnet2Subnet87694557",
          },
        ],
        "VpcEndpointType": "Interface",
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::VPCEndpoint",
    },
    "ConstructHubVPCECRAPI4A1FDD7F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "ecr:GetAuthorizationToken",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
                    "Arn",
                  ],
                },
              },
              "Resource": "*",
              "Sid": "Allow-ECR-ReadOnly",
            },
          ],
          "Version": "2012-10-17",
        },
        "PrivateDnsEnabled": true,
        "SecurityGroupIds": Array [
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubInternalTraffic0E9C34CA",
              "GroupId",
            ],
          },
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubcloudflareIPv4c2cf61493c41a0c1519c61e5aad250b74ec16388066AC9B4",
              "GroupId",
            ],
          },
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubgithubgitIPv4b08084c572c0b5ff4dd2b9f42c0c0386b35abd6dAAE47857",
              "GroupId",
            ],
          },
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubgithubwebIPv49b292faed277d68adffe79e317cbcff49762581a063DBAB2",
              "GroupId",
            ],
          },
        ],
        "ServiceName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "com.amazonaws.",
              Object {
                "Ref": "AWS::Region",
              },
              ".ecr.api",
            ],
          ],
        },
        "SubnetIds": Array [
          Object {
            "Ref": "ConstructHubVPCPrivateSubnet1Subnet755A0095",
          },
          Object {
            "Ref": "ConstructHubVPCPrivateSubnet2Subnet87694557",
          },
        ],
        "VpcEndpointType": "Interface",
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::VPCEndpoint",
    },
    "ConstructHubVPCECRDocker6B2F6942": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "ecr:BatchCheckLayerAvailability",
                "ecr:GetDownloadUrlForLayer",
                "ecr:BatchGetImage",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubOrchestrationTransliteratorTaskDefinitionExecutionRoleB2DBF946",
                    "Arn",
                  ],
                },
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":ecr:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":repository/*",
                  ],
                ],
              },
              "Sid": "Allow-ECR-ReadOnly",
            },
          ],
          "Version": "2012-10-17",
        },
        "PrivateDnsEnabled": true,
        "SecurityGroupIds": Array [
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubInternalTraffic0E9C34CA",
              "GroupId",
            ],
          },
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubcloudflareIPv4c2cf61493c41a0c1519c61e5aad250b74ec16388066AC9B4",
              "GroupId",
            ],
          },
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubgithubgitIPv4b08084c572c0b5ff4dd2b9f42c0c0386b35abd6dAAE47857",
              "GroupId",
            ],
          },
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubgithubwebIPv49b292faed277d68adffe79e317cbcff49762581a063DBAB2",
              "GroupId",
            ],
          },
        ],
        "ServiceName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "com.amazonaws.",
              Object {
                "Ref": "AWS::Region",
              },
              ".ecr.dkr",
            ],
          ],
        },
        "SubnetIds": Array [
          Object {
            "Ref": "ConstructHubVPCPrivateSubnet1Subnet755A0095",
          },
          Object {
            "Ref": "ConstructHubVPCPrivateSubnet2Subnet87694557",
          },
        ],
        "VpcEndpointType": "Interface",
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::VPCEndpoint",
    },
    "ConstructHubVPCIGW935F4C28": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/VPC",
          },
        ],
      },
      "Type": "AWS::EC2::InternetGateway",
    },
    "ConstructHubVPCPrivateSubnet1DefaultRoute0553742E": Object {
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": Object {
          "Ref": "ConstructHubVPCPublicSubnet1NATGatewayDEE96CEC",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubVPCPrivateSubnet1RouteTable46ACFBE4",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubVPCPrivateSubnet1RouteTable46ACFBE4": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/VPC/PrivateSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubVPCPrivateSubnet1RouteTableAssociation521F6308": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubVPCPrivateSubnet1RouteTable46ACFBE4",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubVPCPrivateSubnet1Subnet755A0095",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubVPCPrivateSubnet1Subnet755A0095": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            0,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.64.0/19",
        "MapPublicIpOnLaunch": false,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/VPC/PrivateSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubVPCPrivateSubnet2DefaultRoute32448B57": Object {
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": Object {
          "Ref": "ConstructHubVPCPublicSubnet2NATGateway2593E153",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubVPCPrivateSubnet2RouteTable2B6A0911",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubVPCPrivateSubnet2RouteTable2B6A0911": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/VPC/PrivateSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubVPCPrivateSubnet2RouteTableAssociation988450B0": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubVPCPrivateSubnet2RouteTable2B6A0911",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubVPCPrivateSubnet2Subnet87694557",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubVPCPrivateSubnet2Subnet87694557": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            1,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.96.0/19",
        "MapPublicIpOnLaunch": false,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/VPC/PrivateSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubVPCPublicSubnet1DefaultRouteDA26F0D8": Object {
      "DependsOn": Array [
        "ConstructHubVPCVPCGWDF75BD8E",
      ],
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": Object {
          "Ref": "ConstructHubVPCIGW935F4C28",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubVPCPublicSubnet1RouteTable00866DD0",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubVPCPublicSubnet1EIPF444F07C": Object {
      "Properties": Object {
        "Domain": "vpc",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/VPC/PublicSubnet1",
          },
        ],
      },
      "Type": "AWS::EC2::EIP",
    },
    "ConstructHubVPCPublicSubnet1NATGatewayDEE96CEC": Object {
      "Properties": Object {
        "AllocationId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVPCPublicSubnet1EIPF444F07C",
            "AllocationId",
          ],
        },
        "SubnetId": Object {
          "Ref": "ConstructHubVPCPublicSubnet1SubnetBB5BFB5F",
        },
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/VPC/PublicSubnet1",
          },
        ],
      },
      "Type": "AWS::EC2::NatGateway",
    },
    "ConstructHubVPCPublicSubnet1RouteTable00866DD0": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/VPC/PublicSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubVPCPublicSubnet1RouteTableAssociationED868449": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubVPCPublicSubnet1RouteTable00866DD0",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubVPCPublicSubnet1SubnetBB5BFB5F",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubVPCPublicSubnet1SubnetBB5BFB5F": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            0,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.0.0/19",
        "MapPublicIpOnLaunch": true,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/VPC/PublicSubnet1",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubVPCPublicSubnet2DefaultRoute34459150": Object {
      "DependsOn": Array [
        "ConstructHubVPCVPCGWDF75BD8E",
      ],
      "Properties": Object {
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": Object {
          "Ref": "ConstructHubVPCIGW935F4C28",
        },
        "RouteTableId": Object {
          "Ref": "ConstructHubVPCPublicSubnet2RouteTable277E70CA",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "ConstructHubVPCPublicSubnet2EIP18E1FA8F": Object {
      "Properties": Object {
        "Domain": "vpc",
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/VPC/PublicSubnet2",
          },
        ],
      },
      "Type": "AWS::EC2::EIP",
    },
    "ConstructHubVPCPublicSubnet2NATGateway2593E153": Object {
      "Properties": Object {
        "AllocationId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVPCPublicSubnet2EIP18E1FA8F",
            "AllocationId",
          ],
        },
        "SubnetId": Object {
          "Ref": "ConstructHubVPCPublicSubnet2Subnet4F6EAB14",
        },
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/VPC/PublicSubnet2",
          },
        ],
      },
      "Type": "AWS::EC2::NatGateway",
    },
    "ConstructHubVPCPublicSubnet2RouteTable277E70CA": Object {
      "Properties": Object {
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/VPC/PublicSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "ConstructHubVPCPublicSubnet2RouteTableAssociationED806BA2": Object {
      "Properties": Object {
        "RouteTableId": Object {
          "Ref": "ConstructHubVPCPublicSubnet2RouteTable277E70CA",
        },
        "SubnetId": Object {
          "Ref": "ConstructHubVPCPublicSubnet2Subnet4F6EAB14",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "ConstructHubVPCPublicSubnet2Subnet4F6EAB14": Object {
      "Properties": Object {
        "AvailabilityZone": Object {
          "Fn::Select": Array [
            1,
            Object {
              "Fn::GetAZs": "",
            },
          ],
        },
        "CidrBlock": "10.0.32.0/19",
        "MapPublicIpOnLaunch": true,
        "Tags": Array [
          Object {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public",
          },
          Object {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public",
          },
          Object {
            "Key": "Name",
            "Value": "Test/ConstructHub/VPC/PublicSubnet2",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "ConstructHubVPCS319E90CB6": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:GetObject",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:s3:::prod-",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    "-starport-layer-bucket/*",
                  ],
                ],
              },
              "Sid": "Allow-CodeArtifact-and-ECR",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/assembly.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/package.tgz",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/uninstallable",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/uninstallable",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/uninstallable",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-typescript.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-typescript.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-typescript.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-typescript.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-python.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-python.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-python.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-python.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-java.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-java.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-java.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-java.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*.not-supported",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-csharp.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:Abort*",
                "s3:DeleteObject*",
                "s3:PutObject*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/data/*/docs-*-csharp.*.corruptassembly",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-csharp.*.corruptassembly",
                  ],
                ],
              },
            },
            Object {
              "Action": "s3:DeleteObject*",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubPackageDataDC5EF35E",
                        "Arn",
                      ],
                    },
                    "/data/*/docs-*-csharp.*.corruptassembly",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "RouteTableIds": Array [
          Object {
            "Ref": "ConstructHubVPCPrivateSubnet1RouteTable46ACFBE4",
          },
          Object {
            "Ref": "ConstructHubVPCPrivateSubnet2RouteTable2B6A0911",
          },
        ],
        "ServiceName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "com.amazonaws.",
              Object {
                "Ref": "AWS::Region",
              },
              ".s3",
            ],
          ],
        },
        "VpcEndpointType": "Gateway",
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::VPCEndpoint",
    },
    "ConstructHubVPCStepFunctionsBE8464F5": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "states:SendTaskFailure",
                "states:SendTaskHeartbeat",
                "states:SendTaskSuccess",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubOrchestrationTransliteratorTaskDefinitionTaskRoleD060AB1A",
                    "Arn",
                  ],
                },
              },
              "Resource": "*",
              "Sid": "Allow-StepFunctions-Callbacks",
            },
          ],
          "Version": "2012-10-17",
        },
        "PrivateDnsEnabled": true,
        "SecurityGroupIds": Array [
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubInternalTraffic0E9C34CA",
              "GroupId",
            ],
          },
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubcloudflareIPv4c2cf61493c41a0c1519c61e5aad250b74ec16388066AC9B4",
              "GroupId",
            ],
          },
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubgithubgitIPv4b08084c572c0b5ff4dd2b9f42c0c0386b35abd6dAAE47857",
              "GroupId",
            ],
          },
          Object {
            "Fn::GetAtt": Array [
              "ConstructHubgithubwebIPv49b292faed277d68adffe79e317cbcff49762581a063DBAB2",
              "GroupId",
            ],
          },
        ],
        "ServiceName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "com.amazonaws.",
              Object {
                "Ref": "AWS::Region",
              },
              ".states",
            ],
          ],
        },
        "SubnetIds": Array [
          Object {
            "Ref": "ConstructHubVPCPrivateSubnet1Subnet755A0095",
          },
          Object {
            "Ref": "ConstructHubVPCPrivateSubnet2Subnet87694557",
          },
        ],
        "VpcEndpointType": "Interface",
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::VPCEndpoint",
    },
    "ConstructHubVPCVPCGWDF75BD8E": Object {
      "Properties": Object {
        "InternetGatewayId": Object {
          "Ref": "ConstructHubVPCIGW935F4C28",
        },
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::VPCGatewayAttachment",
    },
    "ConstructHubVersionTrackerD5E8AEAE": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
        "ConstructHubVersionTrackerServiceRole721EE863",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3Bucket86412295",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters04cbbafd6f76d9a919d4684e2c818df430e00e50af6187a88ab2862ca8f147c6S3VersionKeyE42DDF01",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "[Test/ConstructHub/VersionTracker] Creates the all-versions.json in ",
              Object {
                "Ref": "ConstructHubPackageDataDC5EF35E",
              },
            ],
          ],
        },
        "Environment": Object {
          "Variables": Object {
            "PACKAGE_DATA_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "PACKAGE_DATA_KEY_PREFIX": "data/",
            "VERSION_TRACKER_BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "VERSION_TRACKER_OBJECT_KEY": "all-versions.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 10240,
        "ReservedConcurrentExecutions": 1,
        "Role": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerServiceRole721EE863",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Timeout": 60,
        "TracingConfig": Object {
          "Mode": "Active",
        },
      },
      "Type": "AWS::Lambda::Function",
    },
    "ConstructHubVersionTrackerFailures00296806": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The version tracker function failed!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/VersionTracker/Failures",
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubVersionTrackerD5E8AEAE",
            },
          },
        ],
        "EvaluationPeriods": 3,
        "MetricName": "Errors",
        "Namespace": "AWS/Lambda",
        "Period": 300,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "missing",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubVersionTrackerLogRetention6BB4E813": Object {
      "Properties": Object {
        "LogGroupName": Object {
          "Fn::Join": Array [
            "",
            Array [
              "/aws/lambda/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "RetentionInDays": 3653,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn",
          ],
        },
      },
      "Type": "Custom::LogRetention",
    },
    "ConstructHubVersionTrackerNotRunning2FBC5BDA": Object {
      "Properties": Object {
        "AlarmDescription": Object {
          "Fn::Join": Array [
            "",
            Array [
              "The version tracker function is not running!

RunBook: https://github.com/cdklabs/construct-hub/blob/main/docs/operator-runbook.md

Direct link to Lambda function: /lambda/home#/functions/",
              Object {
                "Ref": "ConstructHubVersionTrackerD5E8AEAE",
              },
            ],
          ],
        },
        "AlarmName": "Test/ConstructHub/VersionTracker/NotRunning",
        "ComparisonOperator": "LessThanThreshold",
        "Dimensions": Array [
          Object {
            "Name": "FunctionName",
            "Value": Object {
              "Ref": "ConstructHubVersionTrackerD5E8AEAE",
            },
          },
        ],
        "EvaluationPeriods": 2,
        "MetricName": "Invocations",
        "Namespace": "AWS/Lambda",
        "Period": 60,
        "Statistic": "Sum",
        "Threshold": 1,
        "TreatMissingData": "breaching",
      },
      "Type": "AWS::CloudWatch::Alarm",
    },
    "ConstructHubVersionTrackerRuleAllowEventRuleTestConstructHubVersionTracker969692245DE33940": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
      ],
      "Properties": Object {
        "Action": "lambda:InvokeFunction",
        "FunctionName": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerD5E8AEAE",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": Object {
          "Fn::GetAtt": Array [
            "ConstructHubVersionTrackerRuleD147E5BF",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "ConstructHubVersionTrackerRuleD147E5BF": Object {
      "DependsOn": Array [
        "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
      ],
      "Properties": Object {
        "ScheduleExpression": "rate(1 minute)",
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::GetAtt": Array [
                "ConstructHubVersionTrackerD5E8AEAE",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "ConstructHubVersionTrackerServiceRole721EE863": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ConstructHubVersionTrackerServiceRoleDefaultPolicy4D5DE93F",
        "Roles": Array [
          Object {
            "Ref": "ConstructHubVersionTrackerServiceRole721EE863",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B": Object {
      "Properties": Object {
        "AutoPublish": true,
        "FunctionCode": "\\"use strict\\";
function handler(event) {
    var response = event.response;
    var headers = response.headers;
    headers['x-frame-options'] = { value: 'deny' };
    headers['x-xss-protection'] = { value: '1; mode=block' };
    headers['x-content-type-options'] = { value: 'nosniff' };
    headers['strict-transport-security'] = { value: 'max-age=47304000; includeSubDomains' };
    headers['content-security-policy'] = {
        value: [
            \\"default-src 'self' 'unsafe-inline' https://*.awsstatic.com;\\",
            \\"connect-src 'self' https://*.shortbread.aws.dev https://a0.awsstatic.com/ https://amazonwebservices.d2.sc.omtrdc.net https://aws.demdex.net https://dpm.demdex.net https://cm.everesttech.net;\\",
            'frame-src https://aws.demdex.net https://dpm.demdex.net;',
            \\"img-src 'self' https://* https://a0.awsstatic.com/ https://amazonwebservices.d2.sc.omtrdc.net https://aws.demdex.net https://dpm.demdex.net https://cm.everesttech.net;\\",
            \\"object-src 'none';\\",
            \\"style-src 'self' 'unsafe-inline';\\",
        ].join(' '),
    };
    return response;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzcG9uc2UtZnVuY3Rpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvd2ViYXBwL3Jlc3BvbnNlLWZ1bmN0aW9uL3Jlc3BvbnNlLWZ1bmN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFTQSxTQUFTLE9BQU8sQ0FBQyxLQUF5QjtJQUN4QyxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO0lBQzlCLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUM7SUFFL0IsT0FBTyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUM7SUFDL0MsT0FBTyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLENBQUM7SUFDekQsT0FBTyxDQUFDLHdCQUF3QixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUM7SUFDekQsT0FBTyxDQUFDLDJCQUEyQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUscUNBQXFDLEVBQUUsQ0FBQztJQUN4RixPQUFPLENBQUMseUJBQXlCLENBQUMsR0FBRztRQUNuQyxLQUFLLEVBQ0w7WUFDRSw2REFBNkQ7WUFDN0QsZ01BQWdNO1lBQ2hNLDBEQUEwRDtZQUMxRCx5S0FBeUs7WUFDekssb0JBQW9CO1lBQ3BCLG1DQUFtQztTQUNwQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7S0FDWixDQUFDO0lBRUYsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImludGVyZmFjZSBDbG91ZEZyb250UmVzcG9uc2Uge1xuICByZXNwb25zZTogYW55O1xuICBoZWFkZXJzOiB7XG4gICAgW2tleTogc3RyaW5nXToge1xuICAgICAgdmFsdWU6IHN0cmluZztcbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVyKGV2ZW50OiBDbG91ZEZyb250UmVzcG9uc2UpIHtcbiAgdmFyIHJlc3BvbnNlID0gZXZlbnQucmVzcG9uc2U7XG4gIHZhciBoZWFkZXJzID0gcmVzcG9uc2UuaGVhZGVycztcblxuICBoZWFkZXJzWyd4LWZyYW1lLW9wdGlvbnMnXSA9IHsgdmFsdWU6ICdkZW55JyB9O1xuICBoZWFkZXJzWyd4LXhzcy1wcm90ZWN0aW9uJ10gPSB7IHZhbHVlOiAnMTsgbW9kZT1ibG9jaycgfTtcbiAgaGVhZGVyc1sneC1jb250ZW50LXR5cGUtb3B0aW9ucyddID0geyB2YWx1ZTogJ25vc25pZmYnIH07XG4gIGhlYWRlcnNbJ3N0cmljdC10cmFuc3BvcnQtc2VjdXJpdHknXSA9IHsgdmFsdWU6ICdtYXgtYWdlPTQ3MzA0MDAwOyBpbmNsdWRlU3ViRG9tYWlucycgfTtcbiAgaGVhZGVyc1snY29udGVudC1zZWN1cml0eS1wb2xpY3knXSA9IHtcbiAgICB2YWx1ZTpcbiAgICBbXG4gICAgICBcImRlZmF1bHQtc3JjICdzZWxmJyAndW5zYWZlLWlubGluZScgaHR0cHM6Ly8qLmF3c3N0YXRpYy5jb207XCIsXG4gICAgICBcImNvbm5lY3Qtc3JjICdzZWxmJyBodHRwczovLyouc2hvcnRicmVhZC5hd3MuZGV2IGh0dHBzOi8vYTAuYXdzc3RhdGljLmNvbS8gaHR0cHM6Ly9hbWF6b253ZWJzZXJ2aWNlcy5kMi5zYy5vbXRyZGMubmV0IGh0dHBzOi8vYXdzLmRlbWRleC5uZXQgaHR0cHM6Ly9kcG0uZGVtZGV4Lm5ldCBodHRwczovL2NtLmV2ZXJlc3R0ZWNoLm5ldDtcIixcbiAgICAgICdmcmFtZS1zcmMgaHR0cHM6Ly9hd3MuZGVtZGV4Lm5ldCBodHRwczovL2RwbS5kZW1kZXgubmV0OycsXG4gICAgICBcImltZy1zcmMgJ3NlbGYnIGh0dHBzOi8vKiBodHRwczovL2EwLmF3c3N0YXRpYy5jb20vIGh0dHBzOi8vYW1hem9ud2Vic2VydmljZXMuZDIuc2Mub210cmRjLm5ldCBodHRwczovL2F3cy5kZW1kZXgubmV0IGh0dHBzOi8vZHBtLmRlbWRleC5uZXQgaHR0cHM6Ly9jbS5ldmVyZXN0dGVjaC5uZXQ7XCIsXG4gICAgICBcIm9iamVjdC1zcmMgJ25vbmUnO1wiLFxuICAgICAgXCJzdHlsZS1zcmMgJ3NlbGYnICd1bnNhZmUtaW5saW5lJztcIixcbiAgICBdLmpvaW4oJyAnKSxcbiAgfTtcblxuICByZXR1cm4gcmVzcG9uc2U7XG59XG4iXX0=",
        "FunctionConfig": Object {
          "Comment": "AddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9",
          "Runtime": "cloudfront-js-1.0",
        },
        "Name": "AddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9",
      },
      "Type": "AWS::CloudFront::Function",
    },
    "ConstructHubWebAppDeployWebsiteAwsCliLayer23CFFBC1": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubWebAppDeployWebsiteConfigAwsCliLayer8DFDB17A": Object {
      "Properties": Object {
        "Content": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "/opt/awscli/aws",
      },
      "Type": "AWS::Lambda::LayerVersion",
    },
    "ConstructHubWebAppDeployWebsiteConfigCustomResource2D18C708": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "DistributionId": Object {
          "Ref": "ConstructHubWebAppDistribution1F181DC9",
        },
        "Prune": false,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
          },
          Object {
            "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3VersionKeyCFEDA3D4",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3VersionKeyD4005C49",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
        "SystemMetadata": Object {
          "cache-control": "public, max-age=300, must-revalidate, s-maxage=60, proxy-revalidate",
        },
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubWebAppDeployWebsiteCustomResourceE6DF98C9": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "DestinationBucketName": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "DistributionId": Object {
          "Ref": "ConstructHubWebAppDistribution1F181DC9",
        },
        "Prune": false,
        "ServiceToken": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
            "Arn",
          ],
        },
        "SourceBucketNames": Array [
          Object {
            "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
          },
        ],
        "SourceObjectKeys": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3VersionKey491A3EB9",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        ],
        "SystemMetadata": Object {
          "cache-control": "public, max-age=300, must-revalidate, s-maxage=60, proxy-revalidate",
        },
      },
      "Type": "Custom::CDKBucketDeployment",
      "UpdateReplacePolicy": "Delete",
    },
    "ConstructHubWebAppDistribution1F181DC9": Object {
      "Properties": Object {
        "DistributionConfig": Object {
          "CacheBehaviors": Array [
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/data/*",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/catalog.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/all-versions.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
            Object {
              "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
              "Compress": true,
              "FunctionAssociations": Array [
                Object {
                  "EventType": "viewer-response",
                  "FunctionARN": Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                      "FunctionARN",
                    ],
                  },
                },
              ],
              "PathPattern": "/stats.json",
              "TargetOriginId": "TestConstructHubWebAppDistributionOrigin276090F90",
              "ViewerProtocolPolicy": "allow-all",
            },
          ],
          "CustomErrorResponses": Array [
            Object {
              "ErrorCode": 404,
              "ResponseCode": 200,
              "ResponsePagePath": "/index.html",
            },
            Object {
              "ErrorCode": 403,
              "ResponseCode": 200,
              "ResponsePagePath": "/index.html",
            },
          ],
          "DefaultCacheBehavior": Object {
            "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
            "Compress": true,
            "FunctionAssociations": Array [
              Object {
                "EventType": "viewer-response",
                "FunctionARN": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppAddHeadersFunctionc857063c4ca4479335a883023351cba0df589f79c9AB4E325B",
                    "FunctionARN",
                  ],
                },
              },
            ],
            "TargetOriginId": "TestConstructHubWebAppDistributionOrigin171FF58D3",
            "ViewerProtocolPolicy": "allow-all",
          },
          "DefaultRootObject": "index.html",
          "Enabled": true,
          "HttpVersion": "http2",
          "IPV6Enabled": true,
          "Origins": Array [
            Object {
              "DomainName": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                  "RegionalDomainName",
                ],
              },
              "Id": "TestConstructHubWebAppDistributionOrigin171FF58D3",
              "S3OriginConfig": Object {
                "OriginAccessIdentity": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "origin-access-identity/cloudfront/",
                      Object {
                        "Ref": "ConstructHubWebAppDistributionOrigin1S3Origin694AF937",
                      },
                    ],
                  ],
                },
              },
            },
            Object {
              "DomainName": Object {
                "Fn::GetAtt": Array [
                  "ConstructHubPackageDataDC5EF35E",
                  "RegionalDomainName",
                ],
              },
              "Id": "TestConstructHubWebAppDistributionOrigin276090F90",
              "S3OriginConfig": Object {
                "OriginAccessIdentity": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "origin-access-identity/cloudfront/",
                      Object {
                        "Ref": "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4",
                      },
                    ],
                  ],
                },
              },
            },
          ],
        },
      },
      "Type": "AWS::CloudFront::Distribution",
    },
    "ConstructHubWebAppDistributionOrigin1S3Origin694AF937": Object {
      "Properties": Object {
        "CloudFrontOriginAccessIdentityConfig": Object {
          "Comment": "Identity for TestConstructHubWebAppDistributionOrigin171FF58D3",
        },
      },
      "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
    },
    "ConstructHubWebAppDistributionOrigin2S3OriginDA7E7FF4": Object {
      "Properties": Object {
        "CloudFrontOriginAccessIdentityConfig": Object {
          "Comment": "Identity for TestConstructHubWebAppDistributionOrigin276090F90",
        },
      },
      "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
    },
    "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": Array [
          Object {
            "Key": "failover",
            "Value": "true",
          },
        ],
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubWebAppFailoverWebsiteBucketPolicy7303D09F": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppFailoverWebsiteBucketE69CC2C7",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubWebAppWebsiteBucket4B2B9DB2": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "ConstructHubWebAppWebsiteBucketPolicy17174C06": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "ConstructHubWebAppWebsiteBucket4B2B9DB2",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": "s3:GetObject",
              "Effect": "Allow",
              "Principal": Object {
                "CanonicalUser": Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppDistributionOrigin1S3Origin694AF937",
                    "S3CanonicalUserId",
                  ],
                },
              },
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    Object {
                      "Fn::GetAtt": Array [
                        "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "ConstructHubcloudflareIPv4c2cf61493c41a0c1519c61e5aad250b74ec16388066AC9B4": Object {
      "Properties": Object {
        "GroupDescription": "Test/ConstructHub/cloudflare-IPv4",
        "SecurityGroupIngress": Array [
          Object {
            "CidrIp": Object {
              "Fn::GetAtt": Array [
                "ConstructHubVPC16ECCEA2",
                "CidrBlock",
              ],
            },
            "Description": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "from ",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubVPC16ECCEA2",
                      "CidrBlock",
                    ],
                  },
                  ":443",
                ],
              ],
            },
            "FromPort": 443,
            "IpProtocol": "tcp",
            "ToPort": 443,
          },
        ],
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "cloudflare.IPv4",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::SecurityGroup",
    },
    "ConstructHubcloudflareIPv4c2cf61493c41a0c1519c61e5aad250b74ec163881FE3DE85": Object {
      "Properties": Object {
        "AddressFamily": "IPv4",
        "Entries": Array [
          Object {
            "Cidr": "103.21.244.0/22",
          },
          Object {
            "Cidr": "103.22.200.0/22",
          },
          Object {
            "Cidr": "103.31.4.0/22",
          },
          Object {
            "Cidr": "104.16.0.0/13",
          },
          Object {
            "Cidr": "104.24.0.0/14",
          },
          Object {
            "Cidr": "108.162.192.0/18",
          },
          Object {
            "Cidr": "131.0.72.0/22",
          },
          Object {
            "Cidr": "141.101.64.0/18",
          },
          Object {
            "Cidr": "162.158.0.0/15",
          },
          Object {
            "Cidr": "172.64.0.0/13",
          },
          Object {
            "Cidr": "173.245.48.0/20",
          },
          Object {
            "Cidr": "188.114.96.0/20",
          },
          Object {
            "Cidr": "190.93.240.0/20",
          },
          Object {
            "Cidr": "197.234.240.0/22",
          },
          Object {
            "Cidr": "198.41.128.0/17",
          },
        ],
        "MaxEntries": 15,
        "PrefixListName": "cloudflare.IPv4",
      },
      "Type": "AWS::EC2::PrefixList",
    },
    "ConstructHubcloudflareIPv4c2cf61493c41a0c1519c61e5aad250b74ec16388toTestConstructHubcloudflareIPv4c2cf61493c41a0c1519c61e5aad250b74ec16388443BC06895C": Object {
      "Properties": Object {
        "Description": "to cloudflare (IPv4)",
        "DestinationPrefixListId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubcloudflareIPv4c2cf61493c41a0c1519c61e5aad250b74ec163881FE3DE85",
            "PrefixListId",
          ],
        },
        "FromPort": 443,
        "GroupId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubcloudflareIPv4c2cf61493c41a0c1519c61e5aad250b74ec16388066AC9B4",
            "GroupId",
          ],
        },
        "IpProtocol": "tcp",
        "ToPort": 443,
      },
      "Type": "AWS::EC2::SecurityGroupEgress",
    },
    "ConstructHubgithubgitIPv4b08084c572c0b5ff4dd2b9f42c0c0386b35abd6d7EF35713": Object {
      "Properties": Object {
        "AddressFamily": "IPv4",
        "Entries": Array [
          Object {
            "Cidr": "102.133.202.242/32",
          },
          Object {
            "Cidr": "102.133.202.246/32",
          },
          Object {
            "Cidr": "13.114.40.48/32",
          },
          Object {
            "Cidr": "13.125.114.27/32",
          },
          Object {
            "Cidr": "13.234.176.102/32",
          },
          Object {
            "Cidr": "13.234.210.38/32",
          },
          Object {
            "Cidr": "13.236.229.21/32",
          },
          Object {
            "Cidr": "13.237.44.5/32",
          },
          Object {
            "Cidr": "140.82.112.0/20",
          },
          Object {
            "Cidr": "143.55.64.0/20",
          },
          Object {
            "Cidr": "15.164.81.167/32",
          },
          Object {
            "Cidr": "18.181.13.223/32",
          },
          Object {
            "Cidr": "185.199.108.0/22",
          },
          Object {
            "Cidr": "192.30.252.0/22",
          },
          Object {
            "Cidr": "20.201.28.151/32",
          },
          Object {
            "Cidr": "20.201.28.152/32",
          },
          Object {
            "Cidr": "20.205.243.160/32",
          },
          Object {
            "Cidr": "20.205.243.166/32",
          },
          Object {
            "Cidr": "3.105.147.174/32",
          },
          Object {
            "Cidr": "3.106.158.203/32",
          },
          Object {
            "Cidr": "3.34.26.58/32",
          },
          Object {
            "Cidr": "3.6.106.81/32",
          },
          Object {
            "Cidr": "3.7.2.84/32",
          },
          Object {
            "Cidr": "52.192.72.89/32",
          },
          Object {
            "Cidr": "52.63.152.235/32",
          },
          Object {
            "Cidr": "52.64.108.95/32",
          },
          Object {
            "Cidr": "52.69.186.44/32",
          },
          Object {
            "Cidr": "52.78.231.108/32",
          },
          Object {
            "Cidr": "54.168.17.15/32",
          },
          Object {
            "Cidr": "54.238.117.237/32",
          },
        ],
        "MaxEntries": 30,
        "PrefixListName": "github.git.IPv4",
      },
      "Type": "AWS::EC2::PrefixList",
    },
    "ConstructHubgithubgitIPv4b08084c572c0b5ff4dd2b9f42c0c0386b35abd6dAAE47857": Object {
      "Properties": Object {
        "GroupDescription": "Test/ConstructHub/github.git-IPv4",
        "SecurityGroupIngress": Array [
          Object {
            "CidrIp": Object {
              "Fn::GetAtt": Array [
                "ConstructHubVPC16ECCEA2",
                "CidrBlock",
              ],
            },
            "Description": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "from ",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubVPC16ECCEA2",
                      "CidrBlock",
                    ],
                  },
                  ":443",
                ],
              ],
            },
            "FromPort": 443,
            "IpProtocol": "tcp",
            "ToPort": 443,
          },
        ],
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "github.git.IPv4",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::SecurityGroup",
    },
    "ConstructHubgithubgitIPv4b08084c572c0b5ff4dd2b9f42c0c0386b35abd6dtoTestConstructHubgithubgitIPv4b08084c572c0b5ff4dd2b9f42c0c0386b35abd6d4439207512F": Object {
      "Properties": Object {
        "Description": "to github.git (IPv4)",
        "DestinationPrefixListId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubgithubgitIPv4b08084c572c0b5ff4dd2b9f42c0c0386b35abd6d7EF35713",
            "PrefixListId",
          ],
        },
        "FromPort": 443,
        "GroupId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubgithubgitIPv4b08084c572c0b5ff4dd2b9f42c0c0386b35abd6dAAE47857",
            "GroupId",
          ],
        },
        "IpProtocol": "tcp",
        "ToPort": 443,
      },
      "Type": "AWS::EC2::SecurityGroupEgress",
    },
    "ConstructHubgithubwebIPv49b292faed277d68adffe79e317cbcff49762581a063DBAB2": Object {
      "Properties": Object {
        "GroupDescription": "Test/ConstructHub/github.web-IPv4",
        "SecurityGroupIngress": Array [
          Object {
            "CidrIp": Object {
              "Fn::GetAtt": Array [
                "ConstructHubVPC16ECCEA2",
                "CidrBlock",
              ],
            },
            "Description": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "from ",
                  Object {
                    "Fn::GetAtt": Array [
                      "ConstructHubVPC16ECCEA2",
                      "CidrBlock",
                    ],
                  },
                  ":443",
                ],
              ],
            },
            "FromPort": 443,
            "IpProtocol": "tcp",
            "ToPort": 443,
          },
        ],
        "Tags": Array [
          Object {
            "Key": "Name",
            "Value": "github.web.IPv4",
          },
        ],
        "VpcId": Object {
          "Ref": "ConstructHubVPC16ECCEA2",
        },
      },
      "Type": "AWS::EC2::SecurityGroup",
    },
    "ConstructHubgithubwebIPv49b292faed277d68adffe79e317cbcff49762581a2E205F15": Object {
      "Properties": Object {
        "AddressFamily": "IPv4",
        "Entries": Array [
          Object {
            "Cidr": "102.133.202.242/32",
          },
          Object {
            "Cidr": "13.114.40.48/32",
          },
          Object {
            "Cidr": "13.234.176.102/32",
          },
          Object {
            "Cidr": "13.234.210.38/32",
          },
          Object {
            "Cidr": "13.236.229.21/32",
          },
          Object {
            "Cidr": "13.237.44.5/32",
          },
          Object {
            "Cidr": "140.82.112.0/20",
          },
          Object {
            "Cidr": "143.55.64.0/20",
          },
          Object {
            "Cidr": "15.164.81.167/32",
          },
          Object {
            "Cidr": "185.199.108.0/22",
          },
          Object {
            "Cidr": "192.30.252.0/22",
          },
          Object {
            "Cidr": "20.201.28.151/32",
          },
          Object {
            "Cidr": "20.205.243.166/32",
          },
          Object {
            "Cidr": "52.192.72.89/32",
          },
          Object {
            "Cidr": "52.64.108.95/32",
          },
          Object {
            "Cidr": "52.69.186.44/32",
          },
          Object {
            "Cidr": "52.78.231.108/32",
          },
        ],
        "MaxEntries": 17,
        "PrefixListName": "github.web.IPv4",
      },
      "Type": "AWS::EC2::PrefixList",
    },
    "ConstructHubgithubwebIPv49b292faed277d68adffe79e317cbcff49762581atoTestConstructHubgithubwebIPv49b292faed277d68adffe79e317cbcff49762581a443065213F2": Object {
      "Properties": Object {
        "Description": "to github.web (IPv4)",
        "DestinationPrefixListId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubgithubwebIPv49b292faed277d68adffe79e317cbcff49762581a2E205F15",
            "PrefixListId",
          ],
        },
        "FromPort": 443,
        "GroupId": Object {
          "Fn::GetAtt": Array [
            "ConstructHubgithubwebIPv49b292faed277d68adffe79e317cbcff49762581a063DBAB2",
            "GroupId",
          ],
        },
        "IpProtocol": "tcp",
        "ToPort": 443,
      },
      "Type": "AWS::EC2::SecurityGroupEgress",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536": Object {
      "DependsOn": Array [
        "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
        "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3BucketD1AD544E",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Handler": "index.handler",
        "Layers": Array [
          Object {
            "Ref": "ConstructHubDenyListBucketDeploymentAwsCliLayerEAC3D4DA",
          },
        ],
        "Role": Object {
          "Fn::GetAtt": Array [
            "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
            "Arn",
          ],
        },
        "Runtime": "python3.7",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8fb25fdd4f1ddeae2b028b9896c12ee4ce71b7b9a580a348a5d48a1459a2e064S3BucketAB02BCB2",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubDenyListBucket1B3C2C2E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubDenyListBucket1B3C2C2E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters0f7c0428d7c72a325aadf3427ca47c80d2aa2eb282b5a5328965ab9e40c1dfd9S3BucketF7599DDF",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubIngestionConfigBucket0F0ED0B6",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubIngestionConfigBucket0F0ED0B6",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8d968e7576898e39de27ff4cf5f336e8f112a4de9757412123e2dd725f451900S3BucketB2DE6865",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubLicenseListBucket9334047F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubLicenseListBucket9334047F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters76b1b611029414ec8bae7d86dba2f2ffb16de879b0424f1a5463050ac2a8f177S3Bucket5AAB40CC",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubWebAppWebsiteBucket4B2B9DB2",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "cloudfront:GetInvalidation",
                "cloudfront:CreateInvalidation",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters8e40194f1bb22dcfaa8ff2e11170472fa310d97b337f10421a1ae42de5cf2ee9S3BucketED9FB7B0",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::",
                      Object {
                        "Ref": "AssetParameters061e88ffd868a1ff65cc53985577df8b1d2f220e28800ab309a3320c5dc5d440S3Bucket402F3054",
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
        "Roles": Array [
          Object {
            "Ref": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F": Object {
      "DependsOn": Array [
        "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3Bucket4842F32D",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": Object {
          "Fn::Join": Array [
            "",
            Array [
              "Lambda function for auto-deleting objects in ",
              Object {
                "Ref": "ConstructHubDenyListBucket1B3C2C2E",
              },
              " S3 bucket.",
            ],
          ],
        },
        "Handler": "__entrypoint__.handler",
        "MemorySize": 128,
        "Role": Object {
          "Fn::GetAtt": Array [
            "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
            "Arn",
          ],
        },
        "Runtime": "nodejs12.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Sub": "arn:\${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A": Object {
      "DependsOn": Array [
        "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB",
        "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3Bucket2070BA0A",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParametersb120b13d9d868c7622e7db1b68bae4c0f82ffd0227b8c15f2cef38e186ff3827S3VersionKeyB95D17C3",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Handler": "index.handler",
        "Role": Object {
          "Fn::GetAtt": Array [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:PutRetentionPolicy",
                "logs:DeleteRetentionPolicy",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB",
        "Roles": Array [
          Object {
            "Ref": "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfBE2C27C2": Object {
      "DependsOn": Array [
        "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D",
        "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": Object {
            "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3BucketCBEF8050",
          },
          "S3Key": Object {
            "Fn::Join": Array [
              "",
              Array [
                Object {
                  "Fn::Select": Array [
                    0,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "Fn::Select": Array [
                    1,
                    Object {
                      "Fn::Split": Array [
                        "||",
                        Object {
                          "Ref": "AssetParameters3a01b7768b85490df938bd83982d28d5bc2417457fbc70c07eaa72e455e9880dS3VersionKey57968381",
                        },
                      ],
                    },
                  ],
                },
              ],
            ],
          },
        },
        "Description": "[ConstructHub/MissingDocumentationWidget] Is a custom CloudWatch widget handler",
        "Environment": Object {
          "Variables": Object {
            "BUCKET_NAME": Object {
              "Ref": "ConstructHubPackageDataDC5EF35E",
            },
            "OBJECT_KEY": "uninstallable-objects/data.json",
          },
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": Object {
          "Fn::GetAtt": Array [
            "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
            "Arn",
          ],
        },
        "Runtime": "nodejs14.x",
        "Tags": Array [
          Object {
            "Key": "function-purpose",
            "Value": "cloudwatch-custom-widget",
          },
        ],
        "Timeout": 15,
      },
      "Type": "AWS::Lambda::Function",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
        "Tags": Array [
          Object {
            "Key": "function-purpose",
            "Value": "cloudwatch-custom-widget",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/uninstallable-objects/data.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/typescript-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/typescript.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/python-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/python.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/java-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/java.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/missing-objects/csharp-documentation.json",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "ConstructHubPackageDataDC5EF35E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "ConstructHubPackageDataDC5EF35E",
                          "Arn",
                        ],
                      },
                      "/corruptassembly-objects/csharp.json",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRoleDefaultPolicy873D958D",
        "Roles": Array [
          Object {
            "Ref": "PackageVersionsTableWidgetHandler5fa848259c1d5e388c0df69f05c016dfServiceRole060BA12C",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
  },
}
`;
