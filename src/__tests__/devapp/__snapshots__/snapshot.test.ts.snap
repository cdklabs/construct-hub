// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`golden snapshot 1`] = `
Resources:
  HostedZoneDB99F866:
    Type: AWS::Route53::HostedZone
    Properties:
      Name: hub.constructs.test.
  ConstructHubDummyhandlerServiceRoleBDB01E7B:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: 2012-10-17
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
  ConstructHubDummyhandlerC748A7D7:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParameterseef94609c25d6add403ad0beba1f67ca578ed753eda479d2869ec35736e35a0aS3Bucket9AF898BC
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameterseef94609c25d6add403ad0beba1f67ca578ed753eda479d2869ec35736e35a0aS3VersionKeyFA101353
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameterseef94609c25d6add403ad0beba1f67ca578ed753eda479d2869ec35736e35a0aS3VersionKeyFA101353
      Role:
        Fn::GetAtt:
          - ConstructHubDummyhandlerServiceRoleBDB01E7B
          - Arn
      Environment:
        Variables:
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: "1"
      Handler: index.handler
      Runtime: nodejs14.x
    DependsOn:
      - ConstructHubDummyhandlerServiceRoleBDB01E7B
  ConstructHubMonitoringWatchfulDashboardB8493D55:
    Type: AWS::CloudWatch::Dashboard
    Properties:
      DashboardBody:
        Fn::Join:
          - ""
          - - '{"widgets":[{"type":"text","width":24,"height":2,"x":0,"y":0,"properties":{"markdown":"#
              dev/ConstructHub/Dummy/handler\\n\\n[button:AWS Lambda
              Console](https://console.aws.amazon.com/lambda/home?region='
            - Ref: AWS::Region
            - "#/functions/"
            - Ref: ConstructHubDummyhandlerC748A7D7
            - ?tab=graph) [button:CloudWatch
              Logs](https://console.aws.amazon.com/cloudwatch/home?region=
            - Ref: AWS::Region
            - "#logEventViewer:group=/aws/lambda/"
            - Ref: ConstructHubDummyhandlerC748A7D7
            - )"}},{"type":"metric","width":6,"height":6,"x":0,"y":2,"properties":{"view":"timeSeries","title":"Invocations/5min","region":"
            - Ref: AWS::Region
            - '","metrics":[["AWS/Lambda","Invocations","FunctionName","'
            - Ref: ConstructHubDummyhandlerC748A7D7
            - '",{"stat":"Sum"}]],"yAxis":{}}},{"type":"metric","width":6,"height":6,"x":6,"y":2,"properties":{"view":"timeSeries","title":"Errors/5min","region":"'
            - Ref: AWS::Region
            - '","metrics":[["AWS/Lambda","Errors","FunctionName","'
            - Ref: ConstructHubDummyhandlerC748A7D7
            - '",{"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Errors
              > 0 for 3 datapoints within 15
              minutes","value":0,"yAxis":"left"}]},"yAxis":{}}},{"type":"metric","width":6,"height":6,"x":12,"y":2,"properties":{"view":"timeSeries","title":"Throttles/5min","region":"'
            - Ref: AWS::Region
            - '","metrics":[["AWS/Lambda","Throttles","FunctionName","'
            - Ref: ConstructHubDummyhandlerC748A7D7
            - '",{"stat":"Sum"}]],"annotations":{"horizontal":[{"label":"Throttles
              > 0 for 3 datapoints within 15
              minutes","value":0,"yAxis":"left"}]},"yAxis":{}}},{"type":"metric","width":6,"height":6,"x":18,"y":2,"properties":{"view":"timeSeries","title":"Duration/5min","region":"'
            - Ref: AWS::Region
            - '","metrics":[["AWS/Lambda","Duration","FunctionName","'
            - Ref: ConstructHubDummyhandlerC748A7D7
            - '",{"label":"p99","stat":"p99"}]],"annotations":{"horizontal":[{"label":"p99
              > 2000 for 3 datapoints within 15
              minutes","value":2000,"yAxis":"left"}]},"yAxis":{}}}]}'
      DashboardName: construct-hub
  ConstructHubMonitoringWatchfuldevConstructHubDummyhandler4B9E4732ErrorsAlarm776465ED:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 3
      AlarmDescription: Over 0 errors per minute
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: ConstructHubDummyhandlerC748A7D7
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Threshold: 0
  ConstructHubMonitoringWatchfuldevConstructHubDummyhandler4B9E4732ThrottlesAlarm95541894:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 3
      AlarmDescription: Over 0 throttles per minute
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: ConstructHubDummyhandlerC748A7D7
      MetricName: Throttles
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Threshold: 0
  ConstructHubMonitoringWatchfuldevConstructHubDummyhandler4B9E4732DurationAlarm28C95C66:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 3
      AlarmDescription: p99 latency >= 2s (80%)
      Metrics:
        - Id: m1
          Label: p99
          MetricStat:
            Metric:
              Dimensions:
                - Name: FunctionName
                  Value:
                    Ref: ConstructHubDummyhandlerC748A7D7
              MetricName: Duration
              Namespace: AWS/Lambda
            Period: 300
            Stat: p99
          ReturnData: true
      Threshold: 2000
Outputs:
  ConstructHubMonitoringWatchfulWatchfulDashboard75D318D0:
    Value:
      Fn::Join:
        - ""
        - - https://console.aws.amazon.com/cloudwatch/home?region=
          - Ref: AWS::Region
          - "#dashboards:name="
          - Ref: ConstructHubMonitoringWatchfulDashboardB8493D55
Parameters:
  AssetParameterseef94609c25d6add403ad0beba1f67ca578ed753eda479d2869ec35736e35a0aS3Bucket9AF898BC:
    Type: String
    Description: S3 bucket for asset
      "eef94609c25d6add403ad0beba1f67ca578ed753eda479d2869ec35736e35a0a"
  AssetParameterseef94609c25d6add403ad0beba1f67ca578ed753eda479d2869ec35736e35a0aS3VersionKeyFA101353:
    Type: String
    Description: S3 key for asset version
      "eef94609c25d6add403ad0beba1f67ca578ed753eda479d2869ec35736e35a0a"
  AssetParameterseef94609c25d6add403ad0beba1f67ca578ed753eda479d2869ec35736e35a0aArtifactHash0B73C9BA:
    Type: String
    Description: Artifact hash for asset
      "eef94609c25d6add403ad0beba1f67ca578ed753eda479d2869ec35736e35a0a"

`;
